(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4c2f893e"],{2870:function(e,t,n){},"6f18":function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"im-container",style:{height:e.height+"px"}},[n("div",{staticClass:"video-placeholder"},[e._v("\n\t\tvideo\n\t")]),n("div",{staticClass:"tabs-row"},[n("div",{staticClass:"current"},[e._v("互动")]),n("div",{on:{click:e.handleSendGift}},[e._v("送礼测试")]),n("div",[e._v("精彩内容")])]),n("div",{staticClass:"tabs-content"},[e.initData.userID?n("custom-message",{ref:"current-message",attrs:{initData:e.initData},on:{sendGift:e.sendGift,close:e.handleClose,openApp:e.handleOpenApp}}):e._e()],1)])},i=[],o=n("0778"),a=n("7e27"),r=n("365c"),u={components:{customMessage:o["a"]},data:function(){return{height:768,initData:{layout:Object(a["getUrlParam"])("layout")||"horizontal",groupID:Object(a["getUrlParam"])("groupId")||"@TGS#aPAIYFJG2",SDKAppID:0,userID:"",userSig:"",visitsNums:0,zanNums:0,userInfo:{userName:"游客",userAvatar:""},giftInfo:{enable:!0,type:1},teacherInfo:{userPic:"",userName:"",userId:""},commonConfig:{forbiddenTime:7200,giveLikeRate:3e3,sendRate:500}}}},created:function(){this.height=document.body.getBoundingClientRect().height,this.getUserSign()},methods:{getUserSign:function(){var e=this;r["b"].getUserSign({openId:Object(a["getUrlParam"])("userId")}).then((function(t){e.initData.userID=t.userid,e.initData.userSig=t.usersign,e.initData.SDKAppID=t.sdkappid})).catch((function(e){console.log(e)}))},sendGift:function(){console.log("sendGift","横版礼物图标触发事件")},handleSendGift:function(){this.$refs["current-message"].sendGift({msgInfo:{type:5,body:{streamId:Object(a["getUrlParam"])("streamId"),giftId:"1",giftType:1,imageUrl:"http://gw.szytest.com/FogdHofQ7Hwu2O7VJwjYeZJll7mE",priceType:1,price:100,priceTxt:"￥99.00",cnt:1,textContent:"礼物"}}})},handleClose:function(){console.log("竖版关闭图标触发事件")},handleOpenApp:function(){console.log("竖版触发引导 demo")}},beforeRouteLeave:function(e,t,n){console.log("beforeRouteLeave");var s={clientInfo:{type:3,version:this.urlParams.appVer},senderInfo:{userType:0,userId:this.imInitData.userID,userName:this.imInitData.userInfo.userName,userAvatar:this.imInitData.userInfo.userAvatar},businessInfo:{id:3,type:2},msgInfo:{type:2,body:{streamId:this.urlParams.streamId,joinType:2,joinTip:"退出直播"}}};r["b"].sendBusinessMsg({groupId:this.imInitData.groupID,msgBody:[{msgType:"TIMCustomElem",msgContent:{data:JSON.stringify(s)}}],fromAccount:this.imInitData.userID}).catch((function(e){console.log(e)})),window.tim.quitGroup(this.$route.query.groupId).catch((function(){console.log("applyQuitGroup 错误")})),console.log("beforeRouteLeave"),n()}},c=u,d=(n("ab2d"),n("623f")),l=Object(d["a"])(c,s,i,!1,null,"2b04cc98",null);t["default"]=l.exports},ab2d:function(e,t,n){"use strict";var s=n("2870"),i=n.n(s);i.a}}]);