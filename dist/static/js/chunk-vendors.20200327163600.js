(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-vendors"],{"008a":function(e,t,n){var r=n("f6b4");e.exports=function(e){return Object(r(e))}},"013f":function(e,t,n){var r=n("4ce5"),o=n("224c"),i=n("008a"),a=n("eafa"),s=n("5dd2");e.exports=function(e,t){var n=1==e,u=2==e,c=3==e,l=4==e,f=6==e,p=5==e||f,h=t||s;return function(t,s,d){for(var g,v,m=i(t),y=o(m),_=r(s,d,3),b=a(y.length),C=0,S=n?h(t,b):u?h(t,0):void 0;b>C;C++)if((p||C in y)&&(g=y[C],v=_(g,C,m),e))if(n)S[C]=v;else if(v)switch(e){case 3:return!0;case 5:return g;case 6:return C;case 2:S.push(g)}else if(l)return!1;return f?-1:c||l?l:S}}},"019c":function(e,t,n){"use strict";n("2698"),n("a166")},"0260":function(e,t,n){"use strict";var r=n("28e0"),o=n("ebe4"),i=Object.prototype.toString;function a(e){return"[object Array]"===i.call(e)}function s(e){return"[object ArrayBuffer]"===i.call(e)}function u(e){return"undefined"!==typeof FormData&&e instanceof FormData}function c(e){var t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer,t}function l(e){return"string"===typeof e}function f(e){return"number"===typeof e}function p(e){return"undefined"===typeof e}function h(e){return null!==e&&"object"===typeof e}function d(e){return"[object Date]"===i.call(e)}function g(e){return"[object File]"===i.call(e)}function v(e){return"[object Blob]"===i.call(e)}function m(e){return"[object Function]"===i.call(e)}function y(e){return h(e)&&m(e.pipe)}function _(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams}function b(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}function C(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)}function S(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),a(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}function I(){var e={};function t(t,n){"object"===typeof e[n]&&"object"===typeof t?e[n]=I(e[n],t):e[n]=t}for(var n=0,r=arguments.length;n<r;n++)S(arguments[n],t);return e}function w(e,t,n){return S(t,(function(t,o){e[o]=n&&"function"===typeof t?r(t,n):t})),e}e.exports={isArray:a,isArrayBuffer:s,isBuffer:o,isFormData:u,isArrayBufferView:c,isString:l,isNumber:f,isObject:h,isUndefined:p,isDate:d,isFile:g,isBlob:v,isFunction:m,isStream:y,isURLSearchParams:_,isStandardBrowserEnv:C,forEach:S,merge:I,extend:w,trim:b}},"0261":function(e,t,n){"use strict";(function(e){
/*!
 * Vue.js v2.6.11
 * (c) 2014-2019 Evan You
 * Released under the MIT License.
 */
var n=Object.freeze({});function r(e){return void 0===e||null===e}function o(e){return void 0!==e&&null!==e}function i(e){return!0===e}function a(e){return!1===e}function s(e){return"string"===typeof e||"number"===typeof e||"symbol"===typeof e||"boolean"===typeof e}function u(e){return null!==e&&"object"===typeof e}var c=Object.prototype.toString;function l(e){return"[object Object]"===c.call(e)}function f(e){return"[object RegExp]"===c.call(e)}function p(e){var t=parseFloat(String(e));return t>=0&&Math.floor(t)===t&&isFinite(e)}function h(e){return o(e)&&"function"===typeof e.then&&"function"===typeof e.catch}function d(e){return null==e?"":Array.isArray(e)||l(e)&&e.toString===c?JSON.stringify(e,null,2):String(e)}function g(e){var t=parseFloat(e);return isNaN(t)?e:t}function v(e,t){for(var n=Object.create(null),r=e.split(","),o=0;o<r.length;o++)n[r[o]]=!0;return t?function(e){return n[e.toLowerCase()]}:function(e){return n[e]}}v("slot,component",!0);var m=v("key,ref,slot,slot-scope,is");function y(e,t){if(e.length){var n=e.indexOf(t);if(n>-1)return e.splice(n,1)}}var _=Object.prototype.hasOwnProperty;function b(e,t){return _.call(e,t)}function C(e){var t=Object.create(null);return function(n){var r=t[n];return r||(t[n]=e(n))}}var S=/-(\w)/g,I=C((function(e){return e.replace(S,(function(e,t){return t?t.toUpperCase():""}))})),w=C((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})),M=/\B([A-Z])/g,E=C((function(e){return e.replace(M,"-$1").toLowerCase()}));function k(e,t){function n(n){var r=arguments.length;return r?r>1?e.apply(t,arguments):e.call(t,n):e.call(t)}return n._length=e.length,n}function T(e,t){return e.bind(t)}var O=Function.prototype.bind?T:k;function D(e,t){t=t||0;var n=e.length-t,r=new Array(n);while(n--)r[n]=e[n+t];return r}function A(e,t){for(var n in t)e[n]=t[n];return e}function R(e){for(var t={},n=0;n<e.length;n++)e[n]&&A(t,e[n]);return t}function x(e,t,n){}var L=function(e,t,n){return!1},N=function(e){return e};function P(e,t){if(e===t)return!0;var n=u(e),r=u(t);if(!n||!r)return!n&&!r&&String(e)===String(t);try{var o=Array.isArray(e),i=Array.isArray(t);if(o&&i)return e.length===t.length&&e.every((function(e,n){return P(e,t[n])}));if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(o||i)return!1;var a=Object.keys(e),s=Object.keys(t);return a.length===s.length&&a.every((function(n){return P(e[n],t[n])}))}catch(c){return!1}}function G(e,t){for(var n=0;n<e.length;n++)if(P(e[n],t))return n;return-1}function U(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}var q="data-server-rendered",j=["component","directive","filter"],F=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],$={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:L,isReservedAttr:L,isUnknownElement:L,getTagNamespace:x,parsePlatformTagName:N,mustUseProp:L,async:!0,_lifecycleHooks:F},B=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function H(e){var t=(e+"").charCodeAt(0);return 36===t||95===t}function V(e,t,n,r){Object.defineProperty(e,t,{value:n,enumerable:!!r,writable:!0,configurable:!0})}var z=new RegExp("[^"+B.source+".$_\\d]");function K(e){if(!z.test(e)){var t=e.split(".");return function(e){for(var n=0;n<t.length;n++){if(!e)return;e=e[t[n]]}return e}}}var Y,W="__proto__"in{},X="undefined"!==typeof window,J="undefined"!==typeof WXEnvironment&&!!WXEnvironment.platform,Q=J&&WXEnvironment.platform.toLowerCase(),Z=X&&window.navigator.userAgent.toLowerCase(),ee=Z&&/msie|trident/.test(Z),te=Z&&Z.indexOf("msie 9.0")>0,ne=Z&&Z.indexOf("edge/")>0,re=(Z&&Z.indexOf("android"),Z&&/iphone|ipad|ipod|ios/.test(Z)||"ios"===Q),oe=(Z&&/chrome\/\d+/.test(Z),Z&&/phantomjs/.test(Z),Z&&Z.match(/firefox\/(\d+)/)),ie={}.watch,ae=!1;if(X)try{var se={};Object.defineProperty(se,"passive",{get:function(){ae=!0}}),window.addEventListener("test-passive",null,se)}catch(Ia){}var ue=function(){return void 0===Y&&(Y=!X&&!J&&"undefined"!==typeof e&&(e["process"]&&"server"===e["process"].env.VUE_ENV)),Y},ce=X&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function le(e){return"function"===typeof e&&/native code/.test(e.toString())}var fe,pe="undefined"!==typeof Symbol&&le(Symbol)&&"undefined"!==typeof Reflect&&le(Reflect.ownKeys);fe="undefined"!==typeof Set&&le(Set)?Set:function(){function e(){this.set=Object.create(null)}return e.prototype.has=function(e){return!0===this.set[e]},e.prototype.add=function(e){this.set[e]=!0},e.prototype.clear=function(){this.set=Object.create(null)},e}();var he=x,de=0,ge=function(){this.id=de++,this.subs=[]};ge.prototype.addSub=function(e){this.subs.push(e)},ge.prototype.removeSub=function(e){y(this.subs,e)},ge.prototype.depend=function(){ge.target&&ge.target.addDep(this)},ge.prototype.notify=function(){var e=this.subs.slice();for(var t=0,n=e.length;t<n;t++)e[t].update()},ge.target=null;var ve=[];function me(e){ve.push(e),ge.target=e}function ye(){ve.pop(),ge.target=ve[ve.length-1]}var _e=function(e,t,n,r,o,i,a,s){this.tag=e,this.data=t,this.children=n,this.text=r,this.elm=o,this.ns=void 0,this.context=i,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=t&&t.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},be={child:{configurable:!0}};be.child.get=function(){return this.componentInstance},Object.defineProperties(_e.prototype,be);var Ce=function(e){void 0===e&&(e="");var t=new _e;return t.text=e,t.isComment=!0,t};function Se(e){return new _e(void 0,void 0,void 0,String(e))}function Ie(e){var t=new _e(e.tag,e.data,e.children&&e.children.slice(),e.text,e.elm,e.context,e.componentOptions,e.asyncFactory);return t.ns=e.ns,t.isStatic=e.isStatic,t.key=e.key,t.isComment=e.isComment,t.fnContext=e.fnContext,t.fnOptions=e.fnOptions,t.fnScopeId=e.fnScopeId,t.asyncMeta=e.asyncMeta,t.isCloned=!0,t}var we=Array.prototype,Me=Object.create(we),Ee=["push","pop","shift","unshift","splice","sort","reverse"];Ee.forEach((function(e){var t=we[e];V(Me,e,(function(){var n=[],r=arguments.length;while(r--)n[r]=arguments[r];var o,i=t.apply(this,n),a=this.__ob__;switch(e){case"push":case"unshift":o=n;break;case"splice":o=n.slice(2);break}return o&&a.observeArray(o),a.dep.notify(),i}))}));var ke=Object.getOwnPropertyNames(Me),Te=!0;function Oe(e){Te=e}var De=function(e){this.value=e,this.dep=new ge,this.vmCount=0,V(e,"__ob__",this),Array.isArray(e)?(W?Ae(e,Me):Re(e,Me,ke),this.observeArray(e)):this.walk(e)};function Ae(e,t){e.__proto__=t}function Re(e,t,n){for(var r=0,o=n.length;r<o;r++){var i=n[r];V(e,i,t[i])}}function xe(e,t){var n;if(u(e)&&!(e instanceof _e))return b(e,"__ob__")&&e.__ob__ instanceof De?n=e.__ob__:Te&&!ue()&&(Array.isArray(e)||l(e))&&Object.isExtensible(e)&&!e._isVue&&(n=new De(e)),t&&n&&n.vmCount++,n}function Le(e,t,n,r,o){var i=new ge,a=Object.getOwnPropertyDescriptor(e,t);if(!a||!1!==a.configurable){var s=a&&a.get,u=a&&a.set;s&&!u||2!==arguments.length||(n=e[t]);var c=!o&&xe(n);Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){var t=s?s.call(e):n;return ge.target&&(i.depend(),c&&(c.dep.depend(),Array.isArray(t)&&Ge(t))),t},set:function(t){var r=s?s.call(e):n;t===r||t!==t&&r!==r||s&&!u||(u?u.call(e,t):n=t,c=!o&&xe(t),i.notify())}})}}function Ne(e,t,n){if(Array.isArray(e)&&p(t))return e.length=Math.max(e.length,t),e.splice(t,1,n),n;if(t in e&&!(t in Object.prototype))return e[t]=n,n;var r=e.__ob__;return e._isVue||r&&r.vmCount?n:r?(Le(r.value,t,n),r.dep.notify(),n):(e[t]=n,n)}function Pe(e,t){if(Array.isArray(e)&&p(t))e.splice(t,1);else{var n=e.__ob__;e._isVue||n&&n.vmCount||b(e,t)&&(delete e[t],n&&n.dep.notify())}}function Ge(e){for(var t=void 0,n=0,r=e.length;n<r;n++)t=e[n],t&&t.__ob__&&t.__ob__.dep.depend(),Array.isArray(t)&&Ge(t)}De.prototype.walk=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)Le(e,t[n])},De.prototype.observeArray=function(e){for(var t=0,n=e.length;t<n;t++)xe(e[t])};var Ue=$.optionMergeStrategies;function qe(e,t){if(!t)return e;for(var n,r,o,i=pe?Reflect.ownKeys(t):Object.keys(t),a=0;a<i.length;a++)n=i[a],"__ob__"!==n&&(r=e[n],o=t[n],b(e,n)?r!==o&&l(r)&&l(o)&&qe(r,o):Ne(e,n,o));return e}function je(e,t,n){return n?function(){var r="function"===typeof t?t.call(n,n):t,o="function"===typeof e?e.call(n,n):e;return r?qe(r,o):o}:t?e?function(){return qe("function"===typeof t?t.call(this,this):t,"function"===typeof e?e.call(this,this):e)}:t:e}function Fe(e,t){var n=t?e?e.concat(t):Array.isArray(t)?t:[t]:e;return n?$e(n):n}function $e(e){for(var t=[],n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t}function Be(e,t,n,r){var o=Object.create(e||null);return t?A(o,t):o}Ue.data=function(e,t,n){return n?je(e,t,n):t&&"function"!==typeof t?e:je(e,t)},F.forEach((function(e){Ue[e]=Fe})),j.forEach((function(e){Ue[e+"s"]=Be})),Ue.watch=function(e,t,n,r){if(e===ie&&(e=void 0),t===ie&&(t=void 0),!t)return Object.create(e||null);if(!e)return t;var o={};for(var i in A(o,e),t){var a=o[i],s=t[i];a&&!Array.isArray(a)&&(a=[a]),o[i]=a?a.concat(s):Array.isArray(s)?s:[s]}return o},Ue.props=Ue.methods=Ue.inject=Ue.computed=function(e,t,n,r){if(!e)return t;var o=Object.create(null);return A(o,e),t&&A(o,t),o},Ue.provide=je;var He=function(e,t){return void 0===t?e:t};function Ve(e,t){var n=e.props;if(n){var r,o,i,a={};if(Array.isArray(n)){r=n.length;while(r--)o=n[r],"string"===typeof o&&(i=I(o),a[i]={type:null})}else if(l(n))for(var s in n)o=n[s],i=I(s),a[i]=l(o)?o:{type:o};else 0;e.props=a}}function ze(e,t){var n=e.inject;if(n){var r=e.inject={};if(Array.isArray(n))for(var o=0;o<n.length;o++)r[n[o]]={from:n[o]};else if(l(n))for(var i in n){var a=n[i];r[i]=l(a)?A({from:i},a):{from:a}}else 0}}function Ke(e){var t=e.directives;if(t)for(var n in t){var r=t[n];"function"===typeof r&&(t[n]={bind:r,update:r})}}function Ye(e,t,n){if("function"===typeof t&&(t=t.options),Ve(t,n),ze(t,n),Ke(t),!t._base&&(t.extends&&(e=Ye(e,t.extends,n)),t.mixins))for(var r=0,o=t.mixins.length;r<o;r++)e=Ye(e,t.mixins[r],n);var i,a={};for(i in e)s(i);for(i in t)b(e,i)||s(i);function s(r){var o=Ue[r]||He;a[r]=o(e[r],t[r],n,r)}return a}function We(e,t,n,r){if("string"===typeof n){var o=e[t];if(b(o,n))return o[n];var i=I(n);if(b(o,i))return o[i];var a=w(i);if(b(o,a))return o[a];var s=o[n]||o[i]||o[a];return s}}function Xe(e,t,n,r){var o=t[e],i=!b(n,e),a=n[e],s=et(Boolean,o.type);if(s>-1)if(i&&!b(o,"default"))a=!1;else if(""===a||a===E(e)){var u=et(String,o.type);(u<0||s<u)&&(a=!0)}if(void 0===a){a=Je(r,o,e);var c=Te;Oe(!0),xe(a),Oe(c)}return a}function Je(e,t,n){if(b(t,"default")){var r=t.default;return e&&e.$options.propsData&&void 0===e.$options.propsData[n]&&void 0!==e._props[n]?e._props[n]:"function"===typeof r&&"Function"!==Qe(t.type)?r.call(e):r}}function Qe(e){var t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:""}function Ze(e,t){return Qe(e)===Qe(t)}function et(e,t){if(!Array.isArray(t))return Ze(t,e)?0:-1;for(var n=0,r=t.length;n<r;n++)if(Ze(t[n],e))return n;return-1}function tt(e,t,n){me();try{if(t){var r=t;while(r=r.$parent){var o=r.$options.errorCaptured;if(o)for(var i=0;i<o.length;i++)try{var a=!1===o[i].call(r,e,t,n);if(a)return}catch(Ia){rt(Ia,r,"errorCaptured hook")}}}rt(e,t,n)}finally{ye()}}function nt(e,t,n,r,o){var i;try{i=n?e.apply(t,n):e.call(t),i&&!i._isVue&&h(i)&&!i._handled&&(i.catch((function(e){return tt(e,r,o+" (Promise/async)")})),i._handled=!0)}catch(Ia){tt(Ia,r,o)}return i}function rt(e,t,n){if($.errorHandler)try{return $.errorHandler.call(null,e,t,n)}catch(Ia){Ia!==e&&ot(Ia,null,"config.errorHandler")}ot(e,t,n)}function ot(e,t,n){if(!X&&!J||"undefined"===typeof console)throw e;console.error(e)}var it,at=!1,st=[],ut=!1;function ct(){ut=!1;var e=st.slice(0);st.length=0;for(var t=0;t<e.length;t++)e[t]()}if("undefined"!==typeof Promise&&le(Promise)){var lt=Promise.resolve();it=function(){lt.then(ct),re&&setTimeout(x)},at=!0}else if(ee||"undefined"===typeof MutationObserver||!le(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())it="undefined"!==typeof setImmediate&&le(setImmediate)?function(){setImmediate(ct)}:function(){setTimeout(ct,0)};else{var ft=1,pt=new MutationObserver(ct),ht=document.createTextNode(String(ft));pt.observe(ht,{characterData:!0}),it=function(){ft=(ft+1)%2,ht.data=String(ft)},at=!0}function dt(e,t){var n;if(st.push((function(){if(e)try{e.call(t)}catch(Ia){tt(Ia,t,"nextTick")}else n&&n(t)})),ut||(ut=!0,it()),!e&&"undefined"!==typeof Promise)return new Promise((function(e){n=e}))}var gt=new fe;function vt(e){mt(e,gt),gt.clear()}function mt(e,t){var n,r,o=Array.isArray(e);if(!(!o&&!u(e)||Object.isFrozen(e)||e instanceof _e)){if(e.__ob__){var i=e.__ob__.dep.id;if(t.has(i))return;t.add(i)}if(o){n=e.length;while(n--)mt(e[n],t)}else{r=Object.keys(e),n=r.length;while(n--)mt(e[r[n]],t)}}}var yt=C((function(e){var t="&"===e.charAt(0);e=t?e.slice(1):e;var n="~"===e.charAt(0);e=n?e.slice(1):e;var r="!"===e.charAt(0);return e=r?e.slice(1):e,{name:e,once:n,capture:r,passive:t}}));function _t(e,t){function n(){var e=arguments,r=n.fns;if(!Array.isArray(r))return nt(r,null,arguments,t,"v-on handler");for(var o=r.slice(),i=0;i<o.length;i++)nt(o[i],null,e,t,"v-on handler")}return n.fns=e,n}function bt(e,t,n,o,a,s){var u,c,l,f;for(u in e)c=e[u],l=t[u],f=yt(u),r(c)||(r(l)?(r(c.fns)&&(c=e[u]=_t(c,s)),i(f.once)&&(c=e[u]=a(f.name,c,f.capture)),n(f.name,c,f.capture,f.passive,f.params)):c!==l&&(l.fns=c,e[u]=l));for(u in t)r(e[u])&&(f=yt(u),o(f.name,t[u],f.capture))}function Ct(e,t,n){var a;e instanceof _e&&(e=e.data.hook||(e.data.hook={}));var s=e[t];function u(){n.apply(this,arguments),y(a.fns,u)}r(s)?a=_t([u]):o(s.fns)&&i(s.merged)?(a=s,a.fns.push(u)):a=_t([s,u]),a.merged=!0,e[t]=a}function St(e,t,n){var i=t.options.props;if(!r(i)){var a={},s=e.attrs,u=e.props;if(o(s)||o(u))for(var c in i){var l=E(c);It(a,u,c,l,!0)||It(a,s,c,l,!1)}return a}}function It(e,t,n,r,i){if(o(t)){if(b(t,n))return e[n]=t[n],i||delete t[n],!0;if(b(t,r))return e[n]=t[r],i||delete t[r],!0}return!1}function wt(e){for(var t=0;t<e.length;t++)if(Array.isArray(e[t]))return Array.prototype.concat.apply([],e);return e}function Mt(e){return s(e)?[Se(e)]:Array.isArray(e)?kt(e):void 0}function Et(e){return o(e)&&o(e.text)&&a(e.isComment)}function kt(e,t){var n,a,u,c,l=[];for(n=0;n<e.length;n++)a=e[n],r(a)||"boolean"===typeof a||(u=l.length-1,c=l[u],Array.isArray(a)?a.length>0&&(a=kt(a,(t||"")+"_"+n),Et(a[0])&&Et(c)&&(l[u]=Se(c.text+a[0].text),a.shift()),l.push.apply(l,a)):s(a)?Et(c)?l[u]=Se(c.text+a):""!==a&&l.push(Se(a)):Et(a)&&Et(c)?l[u]=Se(c.text+a.text):(i(e._isVList)&&o(a.tag)&&r(a.key)&&o(t)&&(a.key="__vlist"+t+"_"+n+"__"),l.push(a)));return l}function Tt(e){var t=e.$options.provide;t&&(e._provided="function"===typeof t?t.call(e):t)}function Ot(e){var t=Dt(e.$options.inject,e);t&&(Oe(!1),Object.keys(t).forEach((function(n){Le(e,n,t[n])})),Oe(!0))}function Dt(e,t){if(e){for(var n=Object.create(null),r=pe?Reflect.ownKeys(e):Object.keys(e),o=0;o<r.length;o++){var i=r[o];if("__ob__"!==i){var a=e[i].from,s=t;while(s){if(s._provided&&b(s._provided,a)){n[i]=s._provided[a];break}s=s.$parent}if(!s)if("default"in e[i]){var u=e[i].default;n[i]="function"===typeof u?u.call(t):u}else 0}}return n}}function At(e,t){if(!e||!e.length)return{};for(var n={},r=0,o=e.length;r<o;r++){var i=e[r],a=i.data;if(a&&a.attrs&&a.attrs.slot&&delete a.attrs.slot,i.context!==t&&i.fnContext!==t||!a||null==a.slot)(n.default||(n.default=[])).push(i);else{var s=a.slot,u=n[s]||(n[s]=[]);"template"===i.tag?u.push.apply(u,i.children||[]):u.push(i)}}for(var c in n)n[c].every(Rt)&&delete n[c];return n}function Rt(e){return e.isComment&&!e.asyncFactory||" "===e.text}function xt(e,t,r){var o,i=Object.keys(t).length>0,a=e?!!e.$stable:!i,s=e&&e.$key;if(e){if(e._normalized)return e._normalized;if(a&&r&&r!==n&&s===r.$key&&!i&&!r.$hasNormal)return r;for(var u in o={},e)e[u]&&"$"!==u[0]&&(o[u]=Lt(t,u,e[u]))}else o={};for(var c in t)c in o||(o[c]=Nt(t,c));return e&&Object.isExtensible(e)&&(e._normalized=o),V(o,"$stable",a),V(o,"$key",s),V(o,"$hasNormal",i),o}function Lt(e,t,n){var r=function(){var e=arguments.length?n.apply(null,arguments):n({});return e=e&&"object"===typeof e&&!Array.isArray(e)?[e]:Mt(e),e&&(0===e.length||1===e.length&&e[0].isComment)?void 0:e};return n.proxy&&Object.defineProperty(e,t,{get:r,enumerable:!0,configurable:!0}),r}function Nt(e,t){return function(){return e[t]}}function Pt(e,t){var n,r,i,a,s;if(Array.isArray(e)||"string"===typeof e)for(n=new Array(e.length),r=0,i=e.length;r<i;r++)n[r]=t(e[r],r);else if("number"===typeof e)for(n=new Array(e),r=0;r<e;r++)n[r]=t(r+1,r);else if(u(e))if(pe&&e[Symbol.iterator]){n=[];var c=e[Symbol.iterator](),l=c.next();while(!l.done)n.push(t(l.value,n.length)),l=c.next()}else for(a=Object.keys(e),n=new Array(a.length),r=0,i=a.length;r<i;r++)s=a[r],n[r]=t(e[s],s,r);return o(n)||(n=[]),n._isVList=!0,n}function Gt(e,t,n,r){var o,i=this.$scopedSlots[e];i?(n=n||{},r&&(n=A(A({},r),n)),o=i(n)||t):o=this.$slots[e]||t;var a=n&&n.slot;return a?this.$createElement("template",{slot:a},o):o}function Ut(e){return We(this.$options,"filters",e,!0)||N}function qt(e,t){return Array.isArray(e)?-1===e.indexOf(t):e!==t}function jt(e,t,n,r,o){var i=$.keyCodes[t]||n;return o&&r&&!$.keyCodes[t]?qt(o,r):i?qt(i,e):r?E(r)!==t:void 0}function Ft(e,t,n,r,o){if(n)if(u(n)){var i;Array.isArray(n)&&(n=R(n));var a=function(a){if("class"===a||"style"===a||m(a))i=e;else{var s=e.attrs&&e.attrs.type;i=r||$.mustUseProp(t,s,a)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={})}var u=I(a),c=E(a);if(!(u in i)&&!(c in i)&&(i[a]=n[a],o)){var l=e.on||(e.on={});l["update:"+a]=function(e){n[a]=e}}};for(var s in n)a(s)}else;return e}function $t(e,t){var n=this._staticTrees||(this._staticTrees=[]),r=n[e];return r&&!t||(r=n[e]=this.$options.staticRenderFns[e].call(this._renderProxy,null,this),Ht(r,"__static__"+e,!1)),r}function Bt(e,t,n){return Ht(e,"__once__"+t+(n?"_"+n:""),!0),e}function Ht(e,t,n){if(Array.isArray(e))for(var r=0;r<e.length;r++)e[r]&&"string"!==typeof e[r]&&Vt(e[r],t+"_"+r,n);else Vt(e,t,n)}function Vt(e,t,n){e.isStatic=!0,e.key=t,e.isOnce=n}function zt(e,t){if(t)if(l(t)){var n=e.on=e.on?A({},e.on):{};for(var r in t){var o=n[r],i=t[r];n[r]=o?[].concat(o,i):i}}else;return e}function Kt(e,t,n,r){t=t||{$stable:!n};for(var o=0;o<e.length;o++){var i=e[o];Array.isArray(i)?Kt(i,t,n):i&&(i.proxy&&(i.fn.proxy=!0),t[i.key]=i.fn)}return r&&(t.$key=r),t}function Yt(e,t){for(var n=0;n<t.length;n+=2){var r=t[n];"string"===typeof r&&r&&(e[t[n]]=t[n+1])}return e}function Wt(e,t){return"string"===typeof e?t+e:e}function Xt(e){e._o=Bt,e._n=g,e._s=d,e._l=Pt,e._t=Gt,e._q=P,e._i=G,e._m=$t,e._f=Ut,e._k=jt,e._b=Ft,e._v=Se,e._e=Ce,e._u=Kt,e._g=zt,e._d=Yt,e._p=Wt}function Jt(e,t,r,o,a){var s,u=this,c=a.options;b(o,"_uid")?(s=Object.create(o),s._original=o):(s=o,o=o._original);var l=i(c._compiled),f=!l;this.data=e,this.props=t,this.children=r,this.parent=o,this.listeners=e.on||n,this.injections=Dt(c.inject,o),this.slots=function(){return u.$slots||xt(e.scopedSlots,u.$slots=At(r,o)),u.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return xt(e.scopedSlots,this.slots())}}),l&&(this.$options=c,this.$slots=this.slots(),this.$scopedSlots=xt(e.scopedSlots,this.$slots)),c._scopeId?this._c=function(e,t,n,r){var i=fn(s,e,t,n,r,f);return i&&!Array.isArray(i)&&(i.fnScopeId=c._scopeId,i.fnContext=o),i}:this._c=function(e,t,n,r){return fn(s,e,t,n,r,f)}}function Qt(e,t,r,i,a){var s=e.options,u={},c=s.props;if(o(c))for(var l in c)u[l]=Xe(l,c,t||n);else o(r.attrs)&&en(u,r.attrs),o(r.props)&&en(u,r.props);var f=new Jt(r,u,a,i,e),p=s.render.call(null,f._c,f);if(p instanceof _e)return Zt(p,r,f.parent,s,f);if(Array.isArray(p)){for(var h=Mt(p)||[],d=new Array(h.length),g=0;g<h.length;g++)d[g]=Zt(h[g],r,f.parent,s,f);return d}}function Zt(e,t,n,r,o){var i=Ie(e);return i.fnContext=n,i.fnOptions=r,t.slot&&((i.data||(i.data={})).slot=t.slot),i}function en(e,t){for(var n in t)e[I(n)]=t[n]}Xt(Jt.prototype);var tn={init:function(e,t){if(e.componentInstance&&!e.componentInstance._isDestroyed&&e.data.keepAlive){var n=e;tn.prepatch(n,n)}else{var r=e.componentInstance=on(e,Dn);r.$mount(t?e.elm:void 0,t)}},prepatch:function(e,t){var n=t.componentOptions,r=t.componentInstance=e.componentInstance;Nn(r,n.propsData,n.listeners,t,n.children)},insert:function(e){var t=e.context,n=e.componentInstance;n._isMounted||(n._isMounted=!0,qn(n,"mounted")),e.data.keepAlive&&(t._isMounted?Qn(n):Gn(n,!0))},destroy:function(e){var t=e.componentInstance;t._isDestroyed||(e.data.keepAlive?Un(t,!0):t.$destroy())}},nn=Object.keys(tn);function rn(e,t,n,a,s){if(!r(e)){var c=n.$options._base;if(u(e)&&(e=c.extend(e)),"function"===typeof e){var l;if(r(e.cid)&&(l=e,e=Cn(l,c),void 0===e))return bn(l,t,n,a,s);t=t||{},Cr(e),o(t.model)&&un(e.options,t);var f=St(t,e,s);if(i(e.options.functional))return Qt(e,f,t,n,a);var p=t.on;if(t.on=t.nativeOn,i(e.options.abstract)){var h=t.slot;t={},h&&(t.slot=h)}an(t);var d=e.options.name||s,g=new _e("vue-component-"+e.cid+(d?"-"+d:""),t,void 0,void 0,void 0,n,{Ctor:e,propsData:f,listeners:p,tag:s,children:a},l);return g}}}function on(e,t){var n={_isComponent:!0,_parentVnode:e,parent:t},r=e.data.inlineTemplate;return o(r)&&(n.render=r.render,n.staticRenderFns=r.staticRenderFns),new e.componentOptions.Ctor(n)}function an(e){for(var t=e.hook||(e.hook={}),n=0;n<nn.length;n++){var r=nn[n],o=t[r],i=tn[r];o===i||o&&o._merged||(t[r]=o?sn(i,o):i)}}function sn(e,t){var n=function(n,r){e(n,r),t(n,r)};return n._merged=!0,n}function un(e,t){var n=e.model&&e.model.prop||"value",r=e.model&&e.model.event||"input";(t.attrs||(t.attrs={}))[n]=t.model.value;var i=t.on||(t.on={}),a=i[r],s=t.model.callback;o(a)?(Array.isArray(a)?-1===a.indexOf(s):a!==s)&&(i[r]=[s].concat(a)):i[r]=s}var cn=1,ln=2;function fn(e,t,n,r,o,a){return(Array.isArray(n)||s(n))&&(o=r,r=n,n=void 0),i(a)&&(o=ln),pn(e,t,n,r,o)}function pn(e,t,n,r,i){if(o(n)&&o(n.__ob__))return Ce();if(o(n)&&o(n.is)&&(t=n.is),!t)return Ce();var a,s,u;(Array.isArray(r)&&"function"===typeof r[0]&&(n=n||{},n.scopedSlots={default:r[0]},r.length=0),i===ln?r=Mt(r):i===cn&&(r=wt(r)),"string"===typeof t)?(s=e.$vnode&&e.$vnode.ns||$.getTagNamespace(t),a=$.isReservedTag(t)?new _e($.parsePlatformTagName(t),n,r,void 0,void 0,e):n&&n.pre||!o(u=We(e.$options,"components",t))?new _e(t,n,r,void 0,void 0,e):rn(u,n,e,r,t)):a=rn(t,n,e,r);return Array.isArray(a)?a:o(a)?(o(s)&&hn(a,s),o(n)&&dn(n),a):Ce()}function hn(e,t,n){if(e.ns=t,"foreignObject"===e.tag&&(t=void 0,n=!0),o(e.children))for(var a=0,s=e.children.length;a<s;a++){var u=e.children[a];o(u.tag)&&(r(u.ns)||i(n)&&"svg"!==u.tag)&&hn(u,t,n)}}function dn(e){u(e.style)&&vt(e.style),u(e.class)&&vt(e.class)}function gn(e){e._vnode=null,e._staticTrees=null;var t=e.$options,r=e.$vnode=t._parentVnode,o=r&&r.context;e.$slots=At(t._renderChildren,o),e.$scopedSlots=n,e._c=function(t,n,r,o){return fn(e,t,n,r,o,!1)},e.$createElement=function(t,n,r,o){return fn(e,t,n,r,o,!0)};var i=r&&r.data;Le(e,"$attrs",i&&i.attrs||n,null,!0),Le(e,"$listeners",t._parentListeners||n,null,!0)}var vn,mn=null;function yn(e){Xt(e.prototype),e.prototype.$nextTick=function(e){return dt(e,this)},e.prototype._render=function(){var e,t=this,n=t.$options,r=n.render,o=n._parentVnode;o&&(t.$scopedSlots=xt(o.data.scopedSlots,t.$slots,t.$scopedSlots)),t.$vnode=o;try{mn=t,e=r.call(t._renderProxy,t.$createElement)}catch(Ia){tt(Ia,t,"render"),e=t._vnode}finally{mn=null}return Array.isArray(e)&&1===e.length&&(e=e[0]),e instanceof _e||(e=Ce()),e.parent=o,e}}function _n(e,t){return(e.__esModule||pe&&"Module"===e[Symbol.toStringTag])&&(e=e.default),u(e)?t.extend(e):e}function bn(e,t,n,r,o){var i=Ce();return i.asyncFactory=e,i.asyncMeta={data:t,context:n,children:r,tag:o},i}function Cn(e,t){if(i(e.error)&&o(e.errorComp))return e.errorComp;if(o(e.resolved))return e.resolved;var n=mn;if(n&&o(e.owners)&&-1===e.owners.indexOf(n)&&e.owners.push(n),i(e.loading)&&o(e.loadingComp))return e.loadingComp;if(n&&!o(e.owners)){var a=e.owners=[n],s=!0,c=null,l=null;n.$on("hook:destroyed",(function(){return y(a,n)}));var f=function(e){for(var t=0,n=a.length;t<n;t++)a[t].$forceUpdate();e&&(a.length=0,null!==c&&(clearTimeout(c),c=null),null!==l&&(clearTimeout(l),l=null))},p=U((function(n){e.resolved=_n(n,t),s?a.length=0:f(!0)})),d=U((function(t){o(e.errorComp)&&(e.error=!0,f(!0))})),g=e(p,d);return u(g)&&(h(g)?r(e.resolved)&&g.then(p,d):h(g.component)&&(g.component.then(p,d),o(g.error)&&(e.errorComp=_n(g.error,t)),o(g.loading)&&(e.loadingComp=_n(g.loading,t),0===g.delay?e.loading=!0:c=setTimeout((function(){c=null,r(e.resolved)&&r(e.error)&&(e.loading=!0,f(!1))}),g.delay||200)),o(g.timeout)&&(l=setTimeout((function(){l=null,r(e.resolved)&&d(null)}),g.timeout)))),s=!1,e.loading?e.loadingComp:e.resolved}}function Sn(e){return e.isComment&&e.asyncFactory}function In(e){if(Array.isArray(e))for(var t=0;t<e.length;t++){var n=e[t];if(o(n)&&(o(n.componentOptions)||Sn(n)))return n}}function wn(e){e._events=Object.create(null),e._hasHookEvent=!1;var t=e.$options._parentListeners;t&&Tn(e,t)}function Mn(e,t){vn.$on(e,t)}function En(e,t){vn.$off(e,t)}function kn(e,t){var n=vn;return function r(){var o=t.apply(null,arguments);null!==o&&n.$off(e,r)}}function Tn(e,t,n){vn=e,bt(t,n||{},Mn,En,kn,e),vn=void 0}function On(e){var t=/^hook:/;e.prototype.$on=function(e,n){var r=this;if(Array.isArray(e))for(var o=0,i=e.length;o<i;o++)r.$on(e[o],n);else(r._events[e]||(r._events[e]=[])).push(n),t.test(e)&&(r._hasHookEvent=!0);return r},e.prototype.$once=function(e,t){var n=this;function r(){n.$off(e,r),t.apply(n,arguments)}return r.fn=t,n.$on(e,r),n},e.prototype.$off=function(e,t){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Array.isArray(e)){for(var r=0,o=e.length;r<o;r++)n.$off(e[r],t);return n}var i,a=n._events[e];if(!a)return n;if(!t)return n._events[e]=null,n;var s=a.length;while(s--)if(i=a[s],i===t||i.fn===t){a.splice(s,1);break}return n},e.prototype.$emit=function(e){var t=this,n=t._events[e];if(n){n=n.length>1?D(n):n;for(var r=D(arguments,1),o='event handler for "'+e+'"',i=0,a=n.length;i<a;i++)nt(n[i],t,r,t,o)}return t}}var Dn=null;function An(e){var t=Dn;return Dn=e,function(){Dn=t}}function Rn(e){var t=e.$options,n=t.parent;if(n&&!t.abstract){while(n.$options.abstract&&n.$parent)n=n.$parent;n.$children.push(e)}e.$parent=n,e.$root=n?n.$root:e,e.$children=[],e.$refs={},e._watcher=null,e._inactive=null,e._directInactive=!1,e._isMounted=!1,e._isDestroyed=!1,e._isBeingDestroyed=!1}function xn(e){e.prototype._update=function(e,t){var n=this,r=n.$el,o=n._vnode,i=An(n);n._vnode=e,n.$el=o?n.__patch__(o,e):n.__patch__(n.$el,e,t,!1),i(),r&&(r.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},e.prototype.$forceUpdate=function(){var e=this;e._watcher&&e._watcher.update()},e.prototype.$destroy=function(){var e=this;if(!e._isBeingDestroyed){qn(e,"beforeDestroy"),e._isBeingDestroyed=!0;var t=e.$parent;!t||t._isBeingDestroyed||e.$options.abstract||y(t.$children,e),e._watcher&&e._watcher.teardown();var n=e._watchers.length;while(n--)e._watchers[n].teardown();e._data.__ob__&&e._data.__ob__.vmCount--,e._isDestroyed=!0,e.__patch__(e._vnode,null),qn(e,"destroyed"),e.$off(),e.$el&&(e.$el.__vue__=null),e.$vnode&&(e.$vnode.parent=null)}}}function Ln(e,t,n){var r;return e.$el=t,e.$options.render||(e.$options.render=Ce),qn(e,"beforeMount"),r=function(){e._update(e._render(),n)},new nr(e,r,x,{before:function(){e._isMounted&&!e._isDestroyed&&qn(e,"beforeUpdate")}},!0),n=!1,null==e.$vnode&&(e._isMounted=!0,qn(e,"mounted")),e}function Nn(e,t,r,o,i){var a=o.data.scopedSlots,s=e.$scopedSlots,u=!!(a&&!a.$stable||s!==n&&!s.$stable||a&&e.$scopedSlots.$key!==a.$key),c=!!(i||e.$options._renderChildren||u);if(e.$options._parentVnode=o,e.$vnode=o,e._vnode&&(e._vnode.parent=o),e.$options._renderChildren=i,e.$attrs=o.data.attrs||n,e.$listeners=r||n,t&&e.$options.props){Oe(!1);for(var l=e._props,f=e.$options._propKeys||[],p=0;p<f.length;p++){var h=f[p],d=e.$options.props;l[h]=Xe(h,d,t,e)}Oe(!0),e.$options.propsData=t}r=r||n;var g=e.$options._parentListeners;e.$options._parentListeners=r,Tn(e,r,g),c&&(e.$slots=At(i,o.context),e.$forceUpdate())}function Pn(e){while(e&&(e=e.$parent))if(e._inactive)return!0;return!1}function Gn(e,t){if(t){if(e._directInactive=!1,Pn(e))return}else if(e._directInactive)return;if(e._inactive||null===e._inactive){e._inactive=!1;for(var n=0;n<e.$children.length;n++)Gn(e.$children[n]);qn(e,"activated")}}function Un(e,t){if((!t||(e._directInactive=!0,!Pn(e)))&&!e._inactive){e._inactive=!0;for(var n=0;n<e.$children.length;n++)Un(e.$children[n]);qn(e,"deactivated")}}function qn(e,t){me();var n=e.$options[t],r=t+" hook";if(n)for(var o=0,i=n.length;o<i;o++)nt(n[o],e,null,e,r);e._hasHookEvent&&e.$emit("hook:"+t),ye()}var jn=[],Fn=[],$n={},Bn=!1,Hn=!1,Vn=0;function zn(){Vn=jn.length=Fn.length=0,$n={},Bn=Hn=!1}var Kn=0,Yn=Date.now;if(X&&!ee){var Wn=window.performance;Wn&&"function"===typeof Wn.now&&Yn()>document.createEvent("Event").timeStamp&&(Yn=function(){return Wn.now()})}function Xn(){var e,t;for(Kn=Yn(),Hn=!0,jn.sort((function(e,t){return e.id-t.id})),Vn=0;Vn<jn.length;Vn++)e=jn[Vn],e.before&&e.before(),t=e.id,$n[t]=null,e.run();var n=Fn.slice(),r=jn.slice();zn(),Zn(n),Jn(r),ce&&$.devtools&&ce.emit("flush")}function Jn(e){var t=e.length;while(t--){var n=e[t],r=n.vm;r._watcher===n&&r._isMounted&&!r._isDestroyed&&qn(r,"updated")}}function Qn(e){e._inactive=!1,Fn.push(e)}function Zn(e){for(var t=0;t<e.length;t++)e[t]._inactive=!0,Gn(e[t],!0)}function er(e){var t=e.id;if(null==$n[t]){if($n[t]=!0,Hn){var n=jn.length-1;while(n>Vn&&jn[n].id>e.id)n--;jn.splice(n+1,0,e)}else jn.push(e);Bn||(Bn=!0,dt(Xn))}}var tr=0,nr=function(e,t,n,r,o){this.vm=e,o&&(e._watcher=this),e._watchers.push(this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++tr,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new fe,this.newDepIds=new fe,this.expression="","function"===typeof t?this.getter=t:(this.getter=K(t),this.getter||(this.getter=x)),this.value=this.lazy?void 0:this.get()};nr.prototype.get=function(){var e;me(this);var t=this.vm;try{e=this.getter.call(t,t)}catch(Ia){if(!this.user)throw Ia;tt(Ia,t,'getter for watcher "'+this.expression+'"')}finally{this.deep&&vt(e),ye(),this.cleanupDeps()}return e},nr.prototype.addDep=function(e){var t=e.id;this.newDepIds.has(t)||(this.newDepIds.add(t),this.newDeps.push(e),this.depIds.has(t)||e.addSub(this))},nr.prototype.cleanupDeps=function(){var e=this.deps.length;while(e--){var t=this.deps[e];this.newDepIds.has(t.id)||t.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},nr.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():er(this)},nr.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||u(e)||this.deep){var t=this.value;if(this.value=e,this.user)try{this.cb.call(this.vm,e,t)}catch(Ia){tt(Ia,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,e,t)}}},nr.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},nr.prototype.depend=function(){var e=this.deps.length;while(e--)this.deps[e].depend()},nr.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||y(this.vm._watchers,this);var e=this.deps.length;while(e--)this.deps[e].removeSub(this);this.active=!1}};var rr={enumerable:!0,configurable:!0,get:x,set:x};function or(e,t,n){rr.get=function(){return this[t][n]},rr.set=function(e){this[t][n]=e},Object.defineProperty(e,n,rr)}function ir(e){e._watchers=[];var t=e.$options;t.props&&ar(e,t.props),t.methods&&dr(e,t.methods),t.data?sr(e):xe(e._data={},!0),t.computed&&lr(e,t.computed),t.watch&&t.watch!==ie&&gr(e,t.watch)}function ar(e,t){var n=e.$options.propsData||{},r=e._props={},o=e.$options._propKeys=[],i=!e.$parent;i||Oe(!1);var a=function(i){o.push(i);var a=Xe(i,t,n,e);Le(r,i,a),i in e||or(e,"_props",i)};for(var s in t)a(s);Oe(!0)}function sr(e){var t=e.$options.data;t=e._data="function"===typeof t?ur(t,e):t||{},l(t)||(t={});var n=Object.keys(t),r=e.$options.props,o=(e.$options.methods,n.length);while(o--){var i=n[o];0,r&&b(r,i)||H(i)||or(e,"_data",i)}xe(t,!0)}function ur(e,t){me();try{return e.call(t,t)}catch(Ia){return tt(Ia,t,"data()"),{}}finally{ye()}}var cr={lazy:!0};function lr(e,t){var n=e._computedWatchers=Object.create(null),r=ue();for(var o in t){var i=t[o],a="function"===typeof i?i:i.get;0,r||(n[o]=new nr(e,a||x,x,cr)),o in e||fr(e,o,i)}}function fr(e,t,n){var r=!ue();"function"===typeof n?(rr.get=r?pr(t):hr(n),rr.set=x):(rr.get=n.get?r&&!1!==n.cache?pr(t):hr(n.get):x,rr.set=n.set||x),Object.defineProperty(e,t,rr)}function pr(e){return function(){var t=this._computedWatchers&&this._computedWatchers[e];if(t)return t.dirty&&t.evaluate(),ge.target&&t.depend(),t.value}}function hr(e){return function(){return e.call(this,this)}}function dr(e,t){e.$options.props;for(var n in t)e[n]="function"!==typeof t[n]?x:O(t[n],e)}function gr(e,t){for(var n in t){var r=t[n];if(Array.isArray(r))for(var o=0;o<r.length;o++)vr(e,n,r[o]);else vr(e,n,r)}}function vr(e,t,n,r){return l(n)&&(r=n,n=n.handler),"string"===typeof n&&(n=e[n]),e.$watch(t,n,r)}function mr(e){var t={get:function(){return this._data}},n={get:function(){return this._props}};Object.defineProperty(e.prototype,"$data",t),Object.defineProperty(e.prototype,"$props",n),e.prototype.$set=Ne,e.prototype.$delete=Pe,e.prototype.$watch=function(e,t,n){var r=this;if(l(t))return vr(r,e,t,n);n=n||{},n.user=!0;var o=new nr(r,e,t,n);if(n.immediate)try{t.call(r,o.value)}catch(i){tt(i,r,'callback for immediate watcher "'+o.expression+'"')}return function(){o.teardown()}}}var yr=0;function _r(e){e.prototype._init=function(e){var t=this;t._uid=yr++,t._isVue=!0,e&&e._isComponent?br(t,e):t.$options=Ye(Cr(t.constructor),e||{},t),t._renderProxy=t,t._self=t,Rn(t),wn(t),gn(t),qn(t,"beforeCreate"),Ot(t),ir(t),Tt(t),qn(t,"created"),t.$options.el&&t.$mount(t.$options.el)}}function br(e,t){var n=e.$options=Object.create(e.constructor.options),r=t._parentVnode;n.parent=t.parent,n._parentVnode=r;var o=r.componentOptions;n.propsData=o.propsData,n._parentListeners=o.listeners,n._renderChildren=o.children,n._componentTag=o.tag,t.render&&(n.render=t.render,n.staticRenderFns=t.staticRenderFns)}function Cr(e){var t=e.options;if(e.super){var n=Cr(e.super),r=e.superOptions;if(n!==r){e.superOptions=n;var o=Sr(e);o&&A(e.extendOptions,o),t=e.options=Ye(n,e.extendOptions),t.name&&(t.components[t.name]=e)}}return t}function Sr(e){var t,n=e.options,r=e.sealedOptions;for(var o in n)n[o]!==r[o]&&(t||(t={}),t[o]=n[o]);return t}function Ir(e){this._init(e)}function wr(e){e.use=function(e){var t=this._installedPlugins||(this._installedPlugins=[]);if(t.indexOf(e)>-1)return this;var n=D(arguments,1);return n.unshift(this),"function"===typeof e.install?e.install.apply(e,n):"function"===typeof e&&e.apply(null,n),t.push(e),this}}function Mr(e){e.mixin=function(e){return this.options=Ye(this.options,e),this}}function Er(e){e.cid=0;var t=1;e.extend=function(e){e=e||{};var n=this,r=n.cid,o=e._Ctor||(e._Ctor={});if(o[r])return o[r];var i=e.name||n.options.name;var a=function(e){this._init(e)};return a.prototype=Object.create(n.prototype),a.prototype.constructor=a,a.cid=t++,a.options=Ye(n.options,e),a["super"]=n,a.options.props&&kr(a),a.options.computed&&Tr(a),a.extend=n.extend,a.mixin=n.mixin,a.use=n.use,j.forEach((function(e){a[e]=n[e]})),i&&(a.options.components[i]=a),a.superOptions=n.options,a.extendOptions=e,a.sealedOptions=A({},a.options),o[r]=a,a}}function kr(e){var t=e.options.props;for(var n in t)or(e.prototype,"_props",n)}function Tr(e){var t=e.options.computed;for(var n in t)fr(e.prototype,n,t[n])}function Or(e){j.forEach((function(t){e[t]=function(e,n){return n?("component"===t&&l(n)&&(n.name=n.name||e,n=this.options._base.extend(n)),"directive"===t&&"function"===typeof n&&(n={bind:n,update:n}),this.options[t+"s"][e]=n,n):this.options[t+"s"][e]}}))}function Dr(e){return e&&(e.Ctor.options.name||e.tag)}function Ar(e,t){return Array.isArray(e)?e.indexOf(t)>-1:"string"===typeof e?e.split(",").indexOf(t)>-1:!!f(e)&&e.test(t)}function Rr(e,t){var n=e.cache,r=e.keys,o=e._vnode;for(var i in n){var a=n[i];if(a){var s=Dr(a.componentOptions);s&&!t(s)&&xr(n,i,r,o)}}}function xr(e,t,n,r){var o=e[t];!o||r&&o.tag===r.tag||o.componentInstance.$destroy(),e[t]=null,y(n,t)}_r(Ir),mr(Ir),On(Ir),xn(Ir),yn(Ir);var Lr=[String,RegExp,Array],Nr={name:"keep-alive",abstract:!0,props:{include:Lr,exclude:Lr,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var e in this.cache)xr(this.cache,e,this.keys)},mounted:function(){var e=this;this.$watch("include",(function(t){Rr(e,(function(e){return Ar(t,e)}))})),this.$watch("exclude",(function(t){Rr(e,(function(e){return!Ar(t,e)}))}))},render:function(){var e=this.$slots.default,t=In(e),n=t&&t.componentOptions;if(n){var r=Dr(n),o=this,i=o.include,a=o.exclude;if(i&&(!r||!Ar(i,r))||a&&r&&Ar(a,r))return t;var s=this,u=s.cache,c=s.keys,l=null==t.key?n.Ctor.cid+(n.tag?"::"+n.tag:""):t.key;u[l]?(t.componentInstance=u[l].componentInstance,y(c,l),c.push(l)):(u[l]=t,c.push(l),this.max&&c.length>parseInt(this.max)&&xr(u,c[0],c,this._vnode)),t.data.keepAlive=!0}return t||e&&e[0]}},Pr={KeepAlive:Nr};function Gr(e){var t={get:function(){return $}};Object.defineProperty(e,"config",t),e.util={warn:he,extend:A,mergeOptions:Ye,defineReactive:Le},e.set=Ne,e.delete=Pe,e.nextTick=dt,e.observable=function(e){return xe(e),e},e.options=Object.create(null),j.forEach((function(t){e.options[t+"s"]=Object.create(null)})),e.options._base=e,A(e.options.components,Pr),wr(e),Mr(e),Er(e),Or(e)}Gr(Ir),Object.defineProperty(Ir.prototype,"$isServer",{get:ue}),Object.defineProperty(Ir.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Ir,"FunctionalRenderContext",{value:Jt}),Ir.version="2.6.11";var Ur=v("style,class"),qr=v("input,textarea,option,select,progress"),jr=function(e,t,n){return"value"===n&&qr(e)&&"button"!==t||"selected"===n&&"option"===e||"checked"===n&&"input"===e||"muted"===n&&"video"===e},Fr=v("contenteditable,draggable,spellcheck"),$r=v("events,caret,typing,plaintext-only"),Br=function(e,t){return Yr(t)||"false"===t?"false":"contenteditable"===e&&$r(t)?t:"true"},Hr=v("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),Vr="http://www.w3.org/1999/xlink",zr=function(e){return":"===e.charAt(5)&&"xlink"===e.slice(0,5)},Kr=function(e){return zr(e)?e.slice(6,e.length):""},Yr=function(e){return null==e||!1===e};function Wr(e){var t=e.data,n=e,r=e;while(o(r.componentInstance))r=r.componentInstance._vnode,r&&r.data&&(t=Xr(r.data,t));while(o(n=n.parent))n&&n.data&&(t=Xr(t,n.data));return Jr(t.staticClass,t.class)}function Xr(e,t){return{staticClass:Qr(e.staticClass,t.staticClass),class:o(e.class)?[e.class,t.class]:t.class}}function Jr(e,t){return o(e)||o(t)?Qr(e,Zr(t)):""}function Qr(e,t){return e?t?e+" "+t:e:t||""}function Zr(e){return Array.isArray(e)?eo(e):u(e)?to(e):"string"===typeof e?e:""}function eo(e){for(var t,n="",r=0,i=e.length;r<i;r++)o(t=Zr(e[r]))&&""!==t&&(n&&(n+=" "),n+=t);return n}function to(e){var t="";for(var n in e)e[n]&&(t&&(t+=" "),t+=n);return t}var no={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},ro=v("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),oo=v("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),io=function(e){return ro(e)||oo(e)};function ao(e){return oo(e)?"svg":"math"===e?"math":void 0}var so=Object.create(null);function uo(e){if(!X)return!0;if(io(e))return!1;if(e=e.toLowerCase(),null!=so[e])return so[e];var t=document.createElement(e);return e.indexOf("-")>-1?so[e]=t.constructor===window.HTMLUnknownElement||t.constructor===window.HTMLElement:so[e]=/HTMLUnknownElement/.test(t.toString())}var co=v("text,number,password,search,email,tel,url");function lo(e){if("string"===typeof e){var t=document.querySelector(e);return t||document.createElement("div")}return e}function fo(e,t){var n=document.createElement(e);return"select"!==e||t.data&&t.data.attrs&&void 0!==t.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n}function po(e,t){return document.createElementNS(no[e],t)}function ho(e){return document.createTextNode(e)}function go(e){return document.createComment(e)}function vo(e,t,n){e.insertBefore(t,n)}function mo(e,t){e.removeChild(t)}function yo(e,t){e.appendChild(t)}function _o(e){return e.parentNode}function bo(e){return e.nextSibling}function Co(e){return e.tagName}function So(e,t){e.textContent=t}function Io(e,t){e.setAttribute(t,"")}var wo=Object.freeze({createElement:fo,createElementNS:po,createTextNode:ho,createComment:go,insertBefore:vo,removeChild:mo,appendChild:yo,parentNode:_o,nextSibling:bo,tagName:Co,setTextContent:So,setStyleScope:Io}),Mo={create:function(e,t){Eo(t)},update:function(e,t){e.data.ref!==t.data.ref&&(Eo(e,!0),Eo(t))},destroy:function(e){Eo(e,!0)}};function Eo(e,t){var n=e.data.ref;if(o(n)){var r=e.context,i=e.componentInstance||e.elm,a=r.$refs;t?Array.isArray(a[n])?y(a[n],i):a[n]===i&&(a[n]=void 0):e.data.refInFor?Array.isArray(a[n])?a[n].indexOf(i)<0&&a[n].push(i):a[n]=[i]:a[n]=i}}var ko=new _e("",{},[]),To=["create","activate","update","remove","destroy"];function Oo(e,t){return e.key===t.key&&(e.tag===t.tag&&e.isComment===t.isComment&&o(e.data)===o(t.data)&&Do(e,t)||i(e.isAsyncPlaceholder)&&e.asyncFactory===t.asyncFactory&&r(t.asyncFactory.error))}function Do(e,t){if("input"!==e.tag)return!0;var n,r=o(n=e.data)&&o(n=n.attrs)&&n.type,i=o(n=t.data)&&o(n=n.attrs)&&n.type;return r===i||co(r)&&co(i)}function Ao(e,t,n){var r,i,a={};for(r=t;r<=n;++r)i=e[r].key,o(i)&&(a[i]=r);return a}function Ro(e){var t,n,a={},u=e.modules,c=e.nodeOps;for(t=0;t<To.length;++t)for(a[To[t]]=[],n=0;n<u.length;++n)o(u[n][To[t]])&&a[To[t]].push(u[n][To[t]]);function l(e){return new _e(c.tagName(e).toLowerCase(),{},[],void 0,e)}function f(e,t){function n(){0===--n.listeners&&p(e)}return n.listeners=t,n}function p(e){var t=c.parentNode(e);o(t)&&c.removeChild(t,e)}function h(e,t,n,r,a,s,u){if(o(e.elm)&&o(s)&&(e=s[u]=Ie(e)),e.isRootInsert=!a,!d(e,t,n,r)){var l=e.data,f=e.children,p=e.tag;o(p)?(e.elm=e.ns?c.createElementNS(e.ns,p):c.createElement(p,e),S(e),_(e,f,t),o(l)&&C(e,t),y(n,e.elm,r)):i(e.isComment)?(e.elm=c.createComment(e.text),y(n,e.elm,r)):(e.elm=c.createTextNode(e.text),y(n,e.elm,r))}}function d(e,t,n,r){var a=e.data;if(o(a)){var s=o(e.componentInstance)&&a.keepAlive;if(o(a=a.hook)&&o(a=a.init)&&a(e,!1),o(e.componentInstance))return g(e,t),y(n,e.elm,r),i(s)&&m(e,t,n,r),!0}}function g(e,t){o(e.data.pendingInsert)&&(t.push.apply(t,e.data.pendingInsert),e.data.pendingInsert=null),e.elm=e.componentInstance.$el,b(e)?(C(e,t),S(e)):(Eo(e),t.push(e))}function m(e,t,n,r){var i,s=e;while(s.componentInstance)if(s=s.componentInstance._vnode,o(i=s.data)&&o(i=i.transition)){for(i=0;i<a.activate.length;++i)a.activate[i](ko,s);t.push(s);break}y(n,e.elm,r)}function y(e,t,n){o(e)&&(o(n)?c.parentNode(n)===e&&c.insertBefore(e,t,n):c.appendChild(e,t))}function _(e,t,n){if(Array.isArray(t)){0;for(var r=0;r<t.length;++r)h(t[r],n,e.elm,null,!0,t,r)}else s(e.text)&&c.appendChild(e.elm,c.createTextNode(String(e.text)))}function b(e){while(e.componentInstance)e=e.componentInstance._vnode;return o(e.tag)}function C(e,n){for(var r=0;r<a.create.length;++r)a.create[r](ko,e);t=e.data.hook,o(t)&&(o(t.create)&&t.create(ko,e),o(t.insert)&&n.push(e))}function S(e){var t;if(o(t=e.fnScopeId))c.setStyleScope(e.elm,t);else{var n=e;while(n)o(t=n.context)&&o(t=t.$options._scopeId)&&c.setStyleScope(e.elm,t),n=n.parent}o(t=Dn)&&t!==e.context&&t!==e.fnContext&&o(t=t.$options._scopeId)&&c.setStyleScope(e.elm,t)}function I(e,t,n,r,o,i){for(;r<=o;++r)h(n[r],i,e,t,!1,n,r)}function w(e){var t,n,r=e.data;if(o(r))for(o(t=r.hook)&&o(t=t.destroy)&&t(e),t=0;t<a.destroy.length;++t)a.destroy[t](e);if(o(t=e.children))for(n=0;n<e.children.length;++n)w(e.children[n])}function M(e,t,n){for(;t<=n;++t){var r=e[t];o(r)&&(o(r.tag)?(E(r),w(r)):p(r.elm))}}function E(e,t){if(o(t)||o(e.data)){var n,r=a.remove.length+1;for(o(t)?t.listeners+=r:t=f(e.elm,r),o(n=e.componentInstance)&&o(n=n._vnode)&&o(n.data)&&E(n,t),n=0;n<a.remove.length;++n)a.remove[n](e,t);o(n=e.data.hook)&&o(n=n.remove)?n(e,t):t()}else p(e.elm)}function k(e,t,n,i,a){var s,u,l,f,p=0,d=0,g=t.length-1,v=t[0],m=t[g],y=n.length-1,_=n[0],b=n[y],C=!a;while(p<=g&&d<=y)r(v)?v=t[++p]:r(m)?m=t[--g]:Oo(v,_)?(O(v,_,i,n,d),v=t[++p],_=n[++d]):Oo(m,b)?(O(m,b,i,n,y),m=t[--g],b=n[--y]):Oo(v,b)?(O(v,b,i,n,y),C&&c.insertBefore(e,v.elm,c.nextSibling(m.elm)),v=t[++p],b=n[--y]):Oo(m,_)?(O(m,_,i,n,d),C&&c.insertBefore(e,m.elm,v.elm),m=t[--g],_=n[++d]):(r(s)&&(s=Ao(t,p,g)),u=o(_.key)?s[_.key]:T(_,t,p,g),r(u)?h(_,i,e,v.elm,!1,n,d):(l=t[u],Oo(l,_)?(O(l,_,i,n,d),t[u]=void 0,C&&c.insertBefore(e,l.elm,v.elm)):h(_,i,e,v.elm,!1,n,d)),_=n[++d]);p>g?(f=r(n[y+1])?null:n[y+1].elm,I(e,f,n,d,y,i)):d>y&&M(t,p,g)}function T(e,t,n,r){for(var i=n;i<r;i++){var a=t[i];if(o(a)&&Oo(e,a))return i}}function O(e,t,n,s,u,l){if(e!==t){o(t.elm)&&o(s)&&(t=s[u]=Ie(t));var f=t.elm=e.elm;if(i(e.isAsyncPlaceholder))o(t.asyncFactory.resolved)?R(e.elm,t,n):t.isAsyncPlaceholder=!0;else if(i(t.isStatic)&&i(e.isStatic)&&t.key===e.key&&(i(t.isCloned)||i(t.isOnce)))t.componentInstance=e.componentInstance;else{var p,h=t.data;o(h)&&o(p=h.hook)&&o(p=p.prepatch)&&p(e,t);var d=e.children,g=t.children;if(o(h)&&b(t)){for(p=0;p<a.update.length;++p)a.update[p](e,t);o(p=h.hook)&&o(p=p.update)&&p(e,t)}r(t.text)?o(d)&&o(g)?d!==g&&k(f,d,g,n,l):o(g)?(o(e.text)&&c.setTextContent(f,""),I(f,null,g,0,g.length-1,n)):o(d)?M(d,0,d.length-1):o(e.text)&&c.setTextContent(f,""):e.text!==t.text&&c.setTextContent(f,t.text),o(h)&&o(p=h.hook)&&o(p=p.postpatch)&&p(e,t)}}}function D(e,t,n){if(i(n)&&o(e.parent))e.parent.data.pendingInsert=t;else for(var r=0;r<t.length;++r)t[r].data.hook.insert(t[r])}var A=v("attrs,class,staticClass,staticStyle,key");function R(e,t,n,r){var a,s=t.tag,u=t.data,c=t.children;if(r=r||u&&u.pre,t.elm=e,i(t.isComment)&&o(t.asyncFactory))return t.isAsyncPlaceholder=!0,!0;if(o(u)&&(o(a=u.hook)&&o(a=a.init)&&a(t,!0),o(a=t.componentInstance)))return g(t,n),!0;if(o(s)){if(o(c))if(e.hasChildNodes())if(o(a=u)&&o(a=a.domProps)&&o(a=a.innerHTML)){if(a!==e.innerHTML)return!1}else{for(var l=!0,f=e.firstChild,p=0;p<c.length;p++){if(!f||!R(f,c[p],n,r)){l=!1;break}f=f.nextSibling}if(!l||f)return!1}else _(t,c,n);if(o(u)){var h=!1;for(var d in u)if(!A(d)){h=!0,C(t,n);break}!h&&u["class"]&&vt(u["class"])}}else e.data!==t.text&&(e.data=t.text);return!0}return function(e,t,n,s){if(!r(t)){var u=!1,f=[];if(r(e))u=!0,h(t,f);else{var p=o(e.nodeType);if(!p&&Oo(e,t))O(e,t,f,null,null,s);else{if(p){if(1===e.nodeType&&e.hasAttribute(q)&&(e.removeAttribute(q),n=!0),i(n)&&R(e,t,f))return D(t,f,!0),e;e=l(e)}var d=e.elm,g=c.parentNode(d);if(h(t,f,d._leaveCb?null:g,c.nextSibling(d)),o(t.parent)){var v=t.parent,m=b(t);while(v){for(var y=0;y<a.destroy.length;++y)a.destroy[y](v);if(v.elm=t.elm,m){for(var _=0;_<a.create.length;++_)a.create[_](ko,v);var C=v.data.hook.insert;if(C.merged)for(var S=1;S<C.fns.length;S++)C.fns[S]()}else Eo(v);v=v.parent}}o(g)?M([e],0,0):o(e.tag)&&w(e)}}return D(t,f,u),t.elm}o(e)&&w(e)}}var xo={create:Lo,update:Lo,destroy:function(e){Lo(e,ko)}};function Lo(e,t){(e.data.directives||t.data.directives)&&No(e,t)}function No(e,t){var n,r,o,i=e===ko,a=t===ko,s=Go(e.data.directives,e.context),u=Go(t.data.directives,t.context),c=[],l=[];for(n in u)r=s[n],o=u[n],r?(o.oldValue=r.value,o.oldArg=r.arg,qo(o,"update",t,e),o.def&&o.def.componentUpdated&&l.push(o)):(qo(o,"bind",t,e),o.def&&o.def.inserted&&c.push(o));if(c.length){var f=function(){for(var n=0;n<c.length;n++)qo(c[n],"inserted",t,e)};i?Ct(t,"insert",f):f()}if(l.length&&Ct(t,"postpatch",(function(){for(var n=0;n<l.length;n++)qo(l[n],"componentUpdated",t,e)})),!i)for(n in s)u[n]||qo(s[n],"unbind",e,e,a)}var Po=Object.create(null);function Go(e,t){var n,r,o=Object.create(null);if(!e)return o;for(n=0;n<e.length;n++)r=e[n],r.modifiers||(r.modifiers=Po),o[Uo(r)]=r,r.def=We(t.$options,"directives",r.name,!0);return o}function Uo(e){return e.rawName||e.name+"."+Object.keys(e.modifiers||{}).join(".")}function qo(e,t,n,r,o){var i=e.def&&e.def[t];if(i)try{i(n.elm,e,n,r,o)}catch(Ia){tt(Ia,n.context,"directive "+e.name+" "+t+" hook")}}var jo=[Mo,xo];function Fo(e,t){var n=t.componentOptions;if((!o(n)||!1!==n.Ctor.options.inheritAttrs)&&(!r(e.data.attrs)||!r(t.data.attrs))){var i,a,s,u=t.elm,c=e.data.attrs||{},l=t.data.attrs||{};for(i in o(l.__ob__)&&(l=t.data.attrs=A({},l)),l)a=l[i],s=c[i],s!==a&&$o(u,i,a);for(i in(ee||ne)&&l.value!==c.value&&$o(u,"value",l.value),c)r(l[i])&&(zr(i)?u.removeAttributeNS(Vr,Kr(i)):Fr(i)||u.removeAttribute(i))}}function $o(e,t,n){e.tagName.indexOf("-")>-1?Bo(e,t,n):Hr(t)?Yr(n)?e.removeAttribute(t):(n="allowfullscreen"===t&&"EMBED"===e.tagName?"true":t,e.setAttribute(t,n)):Fr(t)?e.setAttribute(t,Br(t,n)):zr(t)?Yr(n)?e.removeAttributeNS(Vr,Kr(t)):e.setAttributeNS(Vr,t,n):Bo(e,t,n)}function Bo(e,t,n){if(Yr(n))e.removeAttribute(t);else{if(ee&&!te&&"TEXTAREA"===e.tagName&&"placeholder"===t&&""!==n&&!e.__ieph){var r=function(t){t.stopImmediatePropagation(),e.removeEventListener("input",r)};e.addEventListener("input",r),e.__ieph=!0}e.setAttribute(t,n)}}var Ho={create:Fo,update:Fo};function Vo(e,t){var n=t.elm,i=t.data,a=e.data;if(!(r(i.staticClass)&&r(i.class)&&(r(a)||r(a.staticClass)&&r(a.class)))){var s=Wr(t),u=n._transitionClasses;o(u)&&(s=Qr(s,Zr(u))),s!==n._prevClass&&(n.setAttribute("class",s),n._prevClass=s)}}var zo,Ko={create:Vo,update:Vo},Yo="__r",Wo="__c";function Xo(e){if(o(e[Yo])){var t=ee?"change":"input";e[t]=[].concat(e[Yo],e[t]||[]),delete e[Yo]}o(e[Wo])&&(e.change=[].concat(e[Wo],e.change||[]),delete e[Wo])}function Jo(e,t,n){var r=zo;return function o(){var i=t.apply(null,arguments);null!==i&&ei(e,o,n,r)}}var Qo=at&&!(oe&&Number(oe[1])<=53);function Zo(e,t,n,r){if(Qo){var o=Kn,i=t;t=i._wrapper=function(e){if(e.target===e.currentTarget||e.timeStamp>=o||e.timeStamp<=0||e.target.ownerDocument!==document)return i.apply(this,arguments)}}zo.addEventListener(e,t,ae?{capture:n,passive:r}:n)}function ei(e,t,n,r){(r||zo).removeEventListener(e,t._wrapper||t,n)}function ti(e,t){if(!r(e.data.on)||!r(t.data.on)){var n=t.data.on||{},o=e.data.on||{};zo=t.elm,Xo(n),bt(n,o,Zo,ei,Jo,t.context),zo=void 0}}var ni,ri={create:ti,update:ti};function oi(e,t){if(!r(e.data.domProps)||!r(t.data.domProps)){var n,i,a=t.elm,s=e.data.domProps||{},u=t.data.domProps||{};for(n in o(u.__ob__)&&(u=t.data.domProps=A({},u)),s)n in u||(a[n]="");for(n in u){if(i=u[n],"textContent"===n||"innerHTML"===n){if(t.children&&(t.children.length=0),i===s[n])continue;1===a.childNodes.length&&a.removeChild(a.childNodes[0])}if("value"===n&&"PROGRESS"!==a.tagName){a._value=i;var c=r(i)?"":String(i);ii(a,c)&&(a.value=c)}else if("innerHTML"===n&&oo(a.tagName)&&r(a.innerHTML)){ni=ni||document.createElement("div"),ni.innerHTML="<svg>"+i+"</svg>";var l=ni.firstChild;while(a.firstChild)a.removeChild(a.firstChild);while(l.firstChild)a.appendChild(l.firstChild)}else if(i!==s[n])try{a[n]=i}catch(Ia){}}}}function ii(e,t){return!e.composing&&("OPTION"===e.tagName||ai(e,t)||si(e,t))}function ai(e,t){var n=!0;try{n=document.activeElement!==e}catch(Ia){}return n&&e.value!==t}function si(e,t){var n=e.value,r=e._vModifiers;if(o(r)){if(r.number)return g(n)!==g(t);if(r.trim)return n.trim()!==t.trim()}return n!==t}var ui={create:oi,update:oi},ci=C((function(e){var t={},n=/;(?![^(]*\))/g,r=/:(.+)/;return e.split(n).forEach((function(e){if(e){var n=e.split(r);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}));function li(e){var t=fi(e.style);return e.staticStyle?A(e.staticStyle,t):t}function fi(e){return Array.isArray(e)?R(e):"string"===typeof e?ci(e):e}function pi(e,t){var n,r={};if(t){var o=e;while(o.componentInstance)o=o.componentInstance._vnode,o&&o.data&&(n=li(o.data))&&A(r,n)}(n=li(e.data))&&A(r,n);var i=e;while(i=i.parent)i.data&&(n=li(i.data))&&A(r,n);return r}var hi,di=/^--/,gi=/\s*!important$/,vi=function(e,t,n){if(di.test(t))e.style.setProperty(t,n);else if(gi.test(n))e.style.setProperty(E(t),n.replace(gi,""),"important");else{var r=yi(t);if(Array.isArray(n))for(var o=0,i=n.length;o<i;o++)e.style[r]=n[o];else e.style[r]=n}},mi=["Webkit","Moz","ms"],yi=C((function(e){if(hi=hi||document.createElement("div").style,e=I(e),"filter"!==e&&e in hi)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<mi.length;n++){var r=mi[n]+t;if(r in hi)return r}}));function _i(e,t){var n=t.data,i=e.data;if(!(r(n.staticStyle)&&r(n.style)&&r(i.staticStyle)&&r(i.style))){var a,s,u=t.elm,c=i.staticStyle,l=i.normalizedStyle||i.style||{},f=c||l,p=fi(t.data.style)||{};t.data.normalizedStyle=o(p.__ob__)?A({},p):p;var h=pi(t,!0);for(s in f)r(h[s])&&vi(u,s,"");for(s in h)a=h[s],a!==f[s]&&vi(u,s,null==a?"":a)}}var bi={create:_i,update:_i},Ci=/\s+/;function Si(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(Ci).forEach((function(t){return e.classList.add(t)})):e.classList.add(t);else{var n=" "+(e.getAttribute("class")||"")+" ";n.indexOf(" "+t+" ")<0&&e.setAttribute("class",(n+t).trim())}}function Ii(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(Ci).forEach((function(t){return e.classList.remove(t)})):e.classList.remove(t),e.classList.length||e.removeAttribute("class");else{var n=" "+(e.getAttribute("class")||"")+" ",r=" "+t+" ";while(n.indexOf(r)>=0)n=n.replace(r," ");n=n.trim(),n?e.setAttribute("class",n):e.removeAttribute("class")}}function wi(e){if(e){if("object"===typeof e){var t={};return!1!==e.css&&A(t,Mi(e.name||"v")),A(t,e),t}return"string"===typeof e?Mi(e):void 0}}var Mi=C((function(e){return{enterClass:e+"-enter",enterToClass:e+"-enter-to",enterActiveClass:e+"-enter-active",leaveClass:e+"-leave",leaveToClass:e+"-leave-to",leaveActiveClass:e+"-leave-active"}})),Ei=X&&!te,ki="transition",Ti="animation",Oi="transition",Di="transitionend",Ai="animation",Ri="animationend";Ei&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Oi="WebkitTransition",Di="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(Ai="WebkitAnimation",Ri="webkitAnimationEnd"));var xi=X?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(e){return e()};function Li(e){xi((function(){xi(e)}))}function Ni(e,t){var n=e._transitionClasses||(e._transitionClasses=[]);n.indexOf(t)<0&&(n.push(t),Si(e,t))}function Pi(e,t){e._transitionClasses&&y(e._transitionClasses,t),Ii(e,t)}function Gi(e,t,n){var r=qi(e,t),o=r.type,i=r.timeout,a=r.propCount;if(!o)return n();var s=o===ki?Di:Ri,u=0,c=function(){e.removeEventListener(s,l),n()},l=function(t){t.target===e&&++u>=a&&c()};setTimeout((function(){u<a&&c()}),i+1),e.addEventListener(s,l)}var Ui=/\b(transform|all)(,|$)/;function qi(e,t){var n,r=window.getComputedStyle(e),o=(r[Oi+"Delay"]||"").split(", "),i=(r[Oi+"Duration"]||"").split(", "),a=ji(o,i),s=(r[Ai+"Delay"]||"").split(", "),u=(r[Ai+"Duration"]||"").split(", "),c=ji(s,u),l=0,f=0;t===ki?a>0&&(n=ki,l=a,f=i.length):t===Ti?c>0&&(n=Ti,l=c,f=u.length):(l=Math.max(a,c),n=l>0?a>c?ki:Ti:null,f=n?n===ki?i.length:u.length:0);var p=n===ki&&Ui.test(r[Oi+"Property"]);return{type:n,timeout:l,propCount:f,hasTransform:p}}function ji(e,t){while(e.length<t.length)e=e.concat(e);return Math.max.apply(null,t.map((function(t,n){return Fi(t)+Fi(e[n])})))}function Fi(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function $i(e,t){var n=e.elm;o(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var i=wi(e.data.transition);if(!r(i)&&!o(n._enterCb)&&1===n.nodeType){var a=i.css,s=i.type,c=i.enterClass,l=i.enterToClass,f=i.enterActiveClass,p=i.appearClass,h=i.appearToClass,d=i.appearActiveClass,v=i.beforeEnter,m=i.enter,y=i.afterEnter,_=i.enterCancelled,b=i.beforeAppear,C=i.appear,S=i.afterAppear,I=i.appearCancelled,w=i.duration,M=Dn,E=Dn.$vnode;while(E&&E.parent)M=E.context,E=E.parent;var k=!M._isMounted||!e.isRootInsert;if(!k||C||""===C){var T=k&&p?p:c,O=k&&d?d:f,D=k&&h?h:l,A=k&&b||v,R=k&&"function"===typeof C?C:m,x=k&&S||y,L=k&&I||_,N=g(u(w)?w.enter:w);0;var P=!1!==a&&!te,G=Vi(R),q=n._enterCb=U((function(){P&&(Pi(n,D),Pi(n,O)),q.cancelled?(P&&Pi(n,T),L&&L(n)):x&&x(n),n._enterCb=null}));e.data.show||Ct(e,"insert",(function(){var t=n.parentNode,r=t&&t._pending&&t._pending[e.key];r&&r.tag===e.tag&&r.elm._leaveCb&&r.elm._leaveCb(),R&&R(n,q)})),A&&A(n),P&&(Ni(n,T),Ni(n,O),Li((function(){Pi(n,T),q.cancelled||(Ni(n,D),G||(Hi(N)?setTimeout(q,N):Gi(n,s,q)))}))),e.data.show&&(t&&t(),R&&R(n,q)),P||G||q()}}}function Bi(e,t){var n=e.elm;o(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var i=wi(e.data.transition);if(r(i)||1!==n.nodeType)return t();if(!o(n._leaveCb)){var a=i.css,s=i.type,c=i.leaveClass,l=i.leaveToClass,f=i.leaveActiveClass,p=i.beforeLeave,h=i.leave,d=i.afterLeave,v=i.leaveCancelled,m=i.delayLeave,y=i.duration,_=!1!==a&&!te,b=Vi(h),C=g(u(y)?y.leave:y);0;var S=n._leaveCb=U((function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[e.key]=null),_&&(Pi(n,l),Pi(n,f)),S.cancelled?(_&&Pi(n,c),v&&v(n)):(t(),d&&d(n)),n._leaveCb=null}));m?m(I):I()}function I(){S.cancelled||(!e.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[e.key]=e),p&&p(n),_&&(Ni(n,c),Ni(n,f),Li((function(){Pi(n,c),S.cancelled||(Ni(n,l),b||(Hi(C)?setTimeout(S,C):Gi(n,s,S)))}))),h&&h(n,S),_||b||S())}}function Hi(e){return"number"===typeof e&&!isNaN(e)}function Vi(e){if(r(e))return!1;var t=e.fns;return o(t)?Vi(Array.isArray(t)?t[0]:t):(e._length||e.length)>1}function zi(e,t){!0!==t.data.show&&$i(t)}var Ki=X?{create:zi,activate:zi,remove:function(e,t){!0!==e.data.show?Bi(e,t):t()}}:{},Yi=[Ho,Ko,ri,ui,bi,Ki],Wi=Yi.concat(jo),Xi=Ro({nodeOps:wo,modules:Wi});te&&document.addEventListener("selectionchange",(function(){var e=document.activeElement;e&&e.vmodel&&oa(e,"input")}));var Ji={inserted:function(e,t,n,r){"select"===n.tag?(r.elm&&!r.elm._vOptions?Ct(n,"postpatch",(function(){Ji.componentUpdated(e,t,n)})):Qi(e,t,n.context),e._vOptions=[].map.call(e.options,ta)):("textarea"===n.tag||co(e.type))&&(e._vModifiers=t.modifiers,t.modifiers.lazy||(e.addEventListener("compositionstart",na),e.addEventListener("compositionend",ra),e.addEventListener("change",ra),te&&(e.vmodel=!0)))},componentUpdated:function(e,t,n){if("select"===n.tag){Qi(e,t,n.context);var r=e._vOptions,o=e._vOptions=[].map.call(e.options,ta);if(o.some((function(e,t){return!P(e,r[t])}))){var i=e.multiple?t.value.some((function(e){return ea(e,o)})):t.value!==t.oldValue&&ea(t.value,o);i&&oa(e,"change")}}}};function Qi(e,t,n){Zi(e,t,n),(ee||ne)&&setTimeout((function(){Zi(e,t,n)}),0)}function Zi(e,t,n){var r=t.value,o=e.multiple;if(!o||Array.isArray(r)){for(var i,a,s=0,u=e.options.length;s<u;s++)if(a=e.options[s],o)i=G(r,ta(a))>-1,a.selected!==i&&(a.selected=i);else if(P(ta(a),r))return void(e.selectedIndex!==s&&(e.selectedIndex=s));o||(e.selectedIndex=-1)}}function ea(e,t){return t.every((function(t){return!P(t,e)}))}function ta(e){return"_value"in e?e._value:e.value}function na(e){e.target.composing=!0}function ra(e){e.target.composing&&(e.target.composing=!1,oa(e.target,"input"))}function oa(e,t){var n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}function ia(e){return!e.componentInstance||e.data&&e.data.transition?e:ia(e.componentInstance._vnode)}var aa={bind:function(e,t,n){var r=t.value;n=ia(n);var o=n.data&&n.data.transition,i=e.__vOriginalDisplay="none"===e.style.display?"":e.style.display;r&&o?(n.data.show=!0,$i(n,(function(){e.style.display=i}))):e.style.display=r?i:"none"},update:function(e,t,n){var r=t.value,o=t.oldValue;if(!r!==!o){n=ia(n);var i=n.data&&n.data.transition;i?(n.data.show=!0,r?$i(n,(function(){e.style.display=e.__vOriginalDisplay})):Bi(n,(function(){e.style.display="none"}))):e.style.display=r?e.__vOriginalDisplay:"none"}},unbind:function(e,t,n,r,o){o||(e.style.display=e.__vOriginalDisplay)}},sa={model:Ji,show:aa},ua={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function ca(e){var t=e&&e.componentOptions;return t&&t.Ctor.options.abstract?ca(In(t.children)):e}function la(e){var t={},n=e.$options;for(var r in n.propsData)t[r]=e[r];var o=n._parentListeners;for(var i in o)t[I(i)]=o[i];return t}function fa(e,t){if(/\d-keep-alive$/.test(t.tag))return e("keep-alive",{props:t.componentOptions.propsData})}function pa(e){while(e=e.parent)if(e.data.transition)return!0}function ha(e,t){return t.key===e.key&&t.tag===e.tag}var da=function(e){return e.tag||Sn(e)},ga=function(e){return"show"===e.name},va={name:"transition",props:ua,abstract:!0,render:function(e){var t=this,n=this.$slots.default;if(n&&(n=n.filter(da),n.length)){0;var r=this.mode;0;var o=n[0];if(pa(this.$vnode))return o;var i=ca(o);if(!i)return o;if(this._leaving)return fa(e,o);var a="__transition-"+this._uid+"-";i.key=null==i.key?i.isComment?a+"comment":a+i.tag:s(i.key)?0===String(i.key).indexOf(a)?i.key:a+i.key:i.key;var u=(i.data||(i.data={})).transition=la(this),c=this._vnode,l=ca(c);if(i.data.directives&&i.data.directives.some(ga)&&(i.data.show=!0),l&&l.data&&!ha(i,l)&&!Sn(l)&&(!l.componentInstance||!l.componentInstance._vnode.isComment)){var f=l.data.transition=A({},u);if("out-in"===r)return this._leaving=!0,Ct(f,"afterLeave",(function(){t._leaving=!1,t.$forceUpdate()})),fa(e,o);if("in-out"===r){if(Sn(i))return c;var p,h=function(){p()};Ct(u,"afterEnter",h),Ct(u,"enterCancelled",h),Ct(f,"delayLeave",(function(e){p=e}))}}return o}}},ma=A({tag:String,moveClass:String},ua);delete ma.mode;var ya={props:ma,beforeMount:function(){var e=this,t=this._update;this._update=function(n,r){var o=An(e);e.__patch__(e._vnode,e.kept,!1,!0),e._vnode=e.kept,o(),t.call(e,n,r)}},render:function(e){for(var t=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),r=this.prevChildren=this.children,o=this.$slots.default||[],i=this.children=[],a=la(this),s=0;s<o.length;s++){var u=o[s];if(u.tag)if(null!=u.key&&0!==String(u.key).indexOf("__vlist"))i.push(u),n[u.key]=u,(u.data||(u.data={})).transition=a;else;}if(r){for(var c=[],l=[],f=0;f<r.length;f++){var p=r[f];p.data.transition=a,p.data.pos=p.elm.getBoundingClientRect(),n[p.key]?c.push(p):l.push(p)}this.kept=e(t,null,c),this.removed=l}return e(t,null,i)},updated:function(){var e=this.prevChildren,t=this.moveClass||(this.name||"v")+"-move";e.length&&this.hasMove(e[0].elm,t)&&(e.forEach(_a),e.forEach(ba),e.forEach(Ca),this._reflow=document.body.offsetHeight,e.forEach((function(e){if(e.data.moved){var n=e.elm,r=n.style;Ni(n,t),r.transform=r.WebkitTransform=r.transitionDuration="",n.addEventListener(Di,n._moveCb=function e(r){r&&r.target!==n||r&&!/transform$/.test(r.propertyName)||(n.removeEventListener(Di,e),n._moveCb=null,Pi(n,t))})}})))},methods:{hasMove:function(e,t){if(!Ei)return!1;if(this._hasMove)return this._hasMove;var n=e.cloneNode();e._transitionClasses&&e._transitionClasses.forEach((function(e){Ii(n,e)})),Si(n,t),n.style.display="none",this.$el.appendChild(n);var r=qi(n);return this.$el.removeChild(n),this._hasMove=r.hasTransform}}};function _a(e){e.elm._moveCb&&e.elm._moveCb(),e.elm._enterCb&&e.elm._enterCb()}function ba(e){e.data.newPos=e.elm.getBoundingClientRect()}function Ca(e){var t=e.data.pos,n=e.data.newPos,r=t.left-n.left,o=t.top-n.top;if(r||o){e.data.moved=!0;var i=e.elm.style;i.transform=i.WebkitTransform="translate("+r+"px,"+o+"px)",i.transitionDuration="0s"}}var Sa={Transition:va,TransitionGroup:ya};Ir.config.mustUseProp=jr,Ir.config.isReservedTag=io,Ir.config.isReservedAttr=Ur,Ir.config.getTagNamespace=ao,Ir.config.isUnknownElement=uo,A(Ir.options.directives,sa),A(Ir.options.components,Sa),Ir.prototype.__patch__=X?Xi:x,Ir.prototype.$mount=function(e,t){return e=e&&X?lo(e):void 0,Ln(this,e,t)},X&&setTimeout((function(){$.devtools&&ce&&ce.emit("init",Ir)}),0),t["a"]=Ir}).call(this,n("77e5"))},"02c8":function(e,t,n){"use strict";var r=n("0260");e.exports=function(e,t,n){return r.forEach(n,(function(n){e=n(e,t)})),e}},"02d8":function(e,t){var n={default:this,call:function(e,t,n){var r="";"function"==typeof t&&(n=t,t={});var o={data:void 0===t?null:t};if("function"==typeof n){var i="dscb"+window.dscb++;window[i]=n,o["_dscbstub"]=i}return o=JSON.stringify(o),window._dsbridge?r=_dsbridge.call(e,o):(window._dswk||-1!=navigator.userAgent.indexOf("_dsbridge"))&&(r=prompt("_dsbridge="+e,o)),JSON.parse(r||"{}").data},register:function(e,t,r){var o=r?window._dsaf:window._dsf;window._dsInit||(window._dsInit=!0,setTimeout((function(){n.call("_dsb.dsinit")}),0)),"object"==typeof t?o._obs[e]=t:o[e]=t},registerAsyn:function(e,t){this.register(e,t,!0)},hasNativeMethod:function(e,t){return this.call("_dsb.hasNativeMethod",{name:e,type:t||"all"})},disableJavascriptDialogBlock:function(e){this.call("_dsb.disableJavascriptDialogBlock",{disable:!1!==e})}};!function(){if(!window._dsf){var e={_dsf:{_obs:{}},_dsaf:{_obs:{}},dscb:0,dsBridge:n,close:function(){n.call("_dsb.closePage")},_handleMessageFromNative:function(e){var t=JSON.parse(e.data),r={id:e.callbackId,complete:!0},o=this._dsf[e.method],i=this._dsaf[e.method],a=function(e,o){r.data=e.apply(o,t),n.call("_dsb.returnValue",r)},s=function(e,o){t.push((function(e,t){r.data=e,r.complete=!1!==t,n.call("_dsb.returnValue",r)})),e.apply(o,t)};if(o)a(o,this._dsf);else if(i)s(i,this._dsaf);else{var u=e.method.split(".");if(u.length<2)return;var c=u.pop(),l=u.join("."),f=this._dsf._obs,p=f[l]||{},h=p[c];if(h&&"function"==typeof h)return void a(h,p);if(f=this._dsaf._obs,p=f[l]||{},h=p[c],h&&"function"==typeof h)return void s(h,p)}}};for(var t in e)window[t]=e[t];n.register("_hasJavascriptMethod",(function(e,t){var n=e.split(".");if(n.length<2)return!(!_dsf[n]&&!_dsaf[n]);e=n.pop();var r=n.join("."),o=_dsf._obs[r]||_dsaf._obs[r];return o&&!!o[e]}))}}(),e.exports=n},"046d":function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},"0520":function(e,t,n){},"064e":function(e,t,n){var r=n("69b3"),o=n("db6b"),i=n("94b3"),a=Object.defineProperty;t.f=n("149f")?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return a(e,t,n)}catch(s){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},"083c":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("ea6e");function o(e){return/^\d+(\.\d+)?$/.test(e)}function i(e){if(Object(r["b"])(e))return e=String(e),o(e)?e+"px":e}},"08c1":function(e,t,n){"use strict";(function(e){
/**
 * vuex v3.1.2
 * (c) 2019 Evan You
 * @license MIT
 */
function r(e){var t=Number(e.version.split(".")[0]);if(t>=2)e.mixin({beforeCreate:r});else{var n=e.prototype._init;e.prototype._init=function(e){void 0===e&&(e={}),e.init=e.init?[r].concat(e.init):r,n.call(this,e)}}function r(){var e=this.$options;e.store?this.$store="function"===typeof e.store?e.store():e.store:e.parent&&e.parent.$store&&(this.$store=e.parent.$store)}}n.d(t,"c",(function(){return A})),n.d(t,"b",(function(){return L}));var o="undefined"!==typeof window?window:"undefined"!==typeof e?e:{},i=o.__VUE_DEVTOOLS_GLOBAL_HOOK__;function a(e){i&&(e._devtoolHook=i,i.emit("vuex:init",e),i.on("vuex:travel-to-state",(function(t){e.replaceState(t)})),e.subscribe((function(e,t){i.emit("vuex:mutation",e,t)})))}function s(e,t){Object.keys(e).forEach((function(n){return t(e[n],n)}))}function u(e){return null!==e&&"object"===typeof e}function c(e){return e&&"function"===typeof e.then}function l(e,t){return function(){return e(t)}}var f=function(e,t){this.runtime=t,this._children=Object.create(null),this._rawModule=e;var n=e.state;this.state=("function"===typeof n?n():n)||{}},p={namespaced:{configurable:!0}};p.namespaced.get=function(){return!!this._rawModule.namespaced},f.prototype.addChild=function(e,t){this._children[e]=t},f.prototype.removeChild=function(e){delete this._children[e]},f.prototype.getChild=function(e){return this._children[e]},f.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)},f.prototype.forEachChild=function(e){s(this._children,e)},f.prototype.forEachGetter=function(e){this._rawModule.getters&&s(this._rawModule.getters,e)},f.prototype.forEachAction=function(e){this._rawModule.actions&&s(this._rawModule.actions,e)},f.prototype.forEachMutation=function(e){this._rawModule.mutations&&s(this._rawModule.mutations,e)},Object.defineProperties(f.prototype,p);var h=function(e){this.register([],e,!1)};function d(e,t,n){if(t.update(n),n.modules)for(var r in n.modules){if(!t.getChild(r))return void 0;d(e.concat(r),t.getChild(r),n.modules[r])}}h.prototype.get=function(e){return e.reduce((function(e,t){return e.getChild(t)}),this.root)},h.prototype.getNamespace=function(e){var t=this.root;return e.reduce((function(e,n){return t=t.getChild(n),e+(t.namespaced?n+"/":"")}),"")},h.prototype.update=function(e){d([],this.root,e)},h.prototype.register=function(e,t,n){var r=this;void 0===n&&(n=!0);var o=new f(t,n);if(0===e.length)this.root=o;else{var i=this.get(e.slice(0,-1));i.addChild(e[e.length-1],o)}t.modules&&s(t.modules,(function(t,o){r.register(e.concat(o),t,n)}))},h.prototype.unregister=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1];t.getChild(n).runtime&&t.removeChild(n)};var g;var v=function(e){var t=this;void 0===e&&(e={}),!g&&"undefined"!==typeof window&&window.Vue&&D(window.Vue);var n=e.plugins;void 0===n&&(n=[]);var r=e.strict;void 0===r&&(r=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new h(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new g,this._makeLocalGettersCache=Object.create(null);var o=this,i=this,s=i.dispatch,u=i.commit;this.dispatch=function(e,t){return s.call(o,e,t)},this.commit=function(e,t,n){return u.call(o,e,t,n)},this.strict=r;var c=this._modules.root.state;C(this,c,[],this._modules.root),b(this,c),n.forEach((function(e){return e(t)}));var l=void 0!==e.devtools?e.devtools:g.config.devtools;l&&a(this)},m={state:{configurable:!0}};function y(e,t){return t.indexOf(e)<0&&t.push(e),function(){var n=t.indexOf(e);n>-1&&t.splice(n,1)}}function _(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;C(e,n,[],e._modules.root,!0),b(e,n,t)}function b(e,t,n){var r=e._vm;e.getters={},e._makeLocalGettersCache=Object.create(null);var o=e._wrappedGetters,i={};s(o,(function(t,n){i[n]=l(t,e),Object.defineProperty(e.getters,n,{get:function(){return e._vm[n]},enumerable:!0})}));var a=g.config.silent;g.config.silent=!0,e._vm=new g({data:{$$state:t},computed:i}),g.config.silent=a,e.strict&&k(e),r&&(n&&e._withCommit((function(){r._data.$$state=null})),g.nextTick((function(){return r.$destroy()})))}function C(e,t,n,r,o){var i=!n.length,a=e._modules.getNamespace(n);if(r.namespaced&&(e._modulesNamespaceMap[a],e._modulesNamespaceMap[a]=r),!i&&!o){var s=T(t,n.slice(0,-1)),u=n[n.length-1];e._withCommit((function(){g.set(s,u,r.state)}))}var c=r.context=S(e,a,n);r.forEachMutation((function(t,n){var r=a+n;w(e,r,t,c)})),r.forEachAction((function(t,n){var r=t.root?n:a+n,o=t.handler||t;M(e,r,o,c)})),r.forEachGetter((function(t,n){var r=a+n;E(e,r,t,c)})),r.forEachChild((function(r,i){C(e,t,n.concat(i),r,o)}))}function S(e,t,n){var r=""===t,o={dispatch:r?e.dispatch:function(n,r,o){var i=O(n,r,o),a=i.payload,s=i.options,u=i.type;return s&&s.root||(u=t+u),e.dispatch(u,a)},commit:r?e.commit:function(n,r,o){var i=O(n,r,o),a=i.payload,s=i.options,u=i.type;s&&s.root||(u=t+u),e.commit(u,a,s)}};return Object.defineProperties(o,{getters:{get:r?function(){return e.getters}:function(){return I(e,t)}},state:{get:function(){return T(e.state,n)}}}),o}function I(e,t){if(!e._makeLocalGettersCache[t]){var n={},r=t.length;Object.keys(e.getters).forEach((function(o){if(o.slice(0,r)===t){var i=o.slice(r);Object.defineProperty(n,i,{get:function(){return e.getters[o]},enumerable:!0})}})),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function w(e,t,n,r){var o=e._mutations[t]||(e._mutations[t]=[]);o.push((function(t){n.call(e,r.state,t)}))}function M(e,t,n,r){var o=e._actions[t]||(e._actions[t]=[]);o.push((function(t){var o=n.call(e,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:e.getters,rootState:e.state},t);return c(o)||(o=Promise.resolve(o)),e._devtoolHook?o.catch((function(t){throw e._devtoolHook.emit("vuex:error",t),t})):o}))}function E(e,t,n,r){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(e){return n(r.state,r.getters,e.state,e.getters)})}function k(e){e._vm.$watch((function(){return this._data.$$state}),(function(){0}),{deep:!0,sync:!0})}function T(e,t){return t.length?t.reduce((function(e,t){return e[t]}),e):e}function O(e,t,n){return u(e)&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}function D(e){g&&e===g||(g=e,r(g))}m.state.get=function(){return this._vm._data.$$state},m.state.set=function(e){0},v.prototype.commit=function(e,t,n){var r=this,o=O(e,t,n),i=o.type,a=o.payload,s=(o.options,{type:i,payload:a}),u=this._mutations[i];u&&(this._withCommit((function(){u.forEach((function(e){e(a)}))})),this._subscribers.forEach((function(e){return e(s,r.state)})))},v.prototype.dispatch=function(e,t){var n=this,r=O(e,t),o=r.type,i=r.payload,a={type:o,payload:i},s=this._actions[o];if(s){try{this._actionSubscribers.filter((function(e){return e.before})).forEach((function(e){return e.before(a,n.state)}))}catch(c){0}var u=s.length>1?Promise.all(s.map((function(e){return e(i)}))):s[0](i);return u.then((function(e){try{n._actionSubscribers.filter((function(e){return e.after})).forEach((function(e){return e.after(a,n.state)}))}catch(c){0}return e}))}},v.prototype.subscribe=function(e){return y(e,this._subscribers)},v.prototype.subscribeAction=function(e){var t="function"===typeof e?{before:e}:e;return y(t,this._actionSubscribers)},v.prototype.watch=function(e,t,n){var r=this;return this._watcherVM.$watch((function(){return e(r.state,r.getters)}),t,n)},v.prototype.replaceState=function(e){var t=this;this._withCommit((function(){t._vm._data.$$state=e}))},v.prototype.registerModule=function(e,t,n){void 0===n&&(n={}),"string"===typeof e&&(e=[e]),this._modules.register(e,t),C(this,this.state,e,this._modules.get(e),n.preserveState),b(this,this.state)},v.prototype.unregisterModule=function(e){var t=this;"string"===typeof e&&(e=[e]),this._modules.unregister(e),this._withCommit((function(){var n=T(t.state,e.slice(0,-1));g.delete(n,e[e.length-1])})),_(this)},v.prototype.hotUpdate=function(e){this._modules.update(e),_(this,!0)},v.prototype._withCommit=function(e){var t=this._committing;this._committing=!0,e(),this._committing=t},Object.defineProperties(v.prototype,m);var A=U((function(e,t){var n={};return P(t).forEach((function(t){var r=t.key,o=t.val;n[r]=function(){var t=this.$store.state,n=this.$store.getters;if(e){var r=q(this.$store,"mapState",e);if(!r)return;t=r.context.state,n=r.context.getters}return"function"===typeof o?o.call(this,t,n):t[o]},n[r].vuex=!0})),n})),R=U((function(e,t){var n={};return P(t).forEach((function(t){var r=t.key,o=t.val;n[r]=function(){var t=[],n=arguments.length;while(n--)t[n]=arguments[n];var r=this.$store.commit;if(e){var i=q(this.$store,"mapMutations",e);if(!i)return;r=i.context.commit}return"function"===typeof o?o.apply(this,[r].concat(t)):r.apply(this.$store,[o].concat(t))}})),n})),x=U((function(e,t){var n={};return P(t).forEach((function(t){var r=t.key,o=t.val;o=e+o,n[r]=function(){if(!e||q(this.$store,"mapGetters",e))return this.$store.getters[o]},n[r].vuex=!0})),n})),L=U((function(e,t){var n={};return P(t).forEach((function(t){var r=t.key,o=t.val;n[r]=function(){var t=[],n=arguments.length;while(n--)t[n]=arguments[n];var r=this.$store.dispatch;if(e){var i=q(this.$store,"mapActions",e);if(!i)return;r=i.context.dispatch}return"function"===typeof o?o.apply(this,[r].concat(t)):r.apply(this.$store,[o].concat(t))}})),n})),N=function(e){return{mapState:A.bind(null,e),mapGetters:x.bind(null,e),mapMutations:R.bind(null,e),mapActions:L.bind(null,e)}};function P(e){return G(e)?Array.isArray(e)?e.map((function(e){return{key:e,val:e}})):Object.keys(e).map((function(t){return{key:t,val:e[t]}})):[]}function G(e){return Array.isArray(e)||u(e)}function U(e){return function(t,n){return"string"!==typeof t?(n=t,t=""):"/"!==t.charAt(t.length-1)&&(t+="/"),e(t,n)}}function q(e,t,n){var r=e._modulesNamespaceMap[n];return r}var j={Store:v,install:D,version:"3.1.2",mapState:A,mapMutations:R,mapGetters:x,mapActions:L,createNamespacedHelpers:N};t["a"]=j}).call(this,n("77e5"))},"09b9":function(e,t,n){var r=n("224c"),o=n("f6b4");e.exports=function(e){return r(o(e))}},"0aed":function(e,t,n){"use strict";n("aaba");var r=n("bf16"),o=n("86d4"),i=n("238a"),a=n("f6b4"),s=n("cb3d"),u=n("8714"),c=s("species"),l=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),f=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();e.exports=function(e,t,n){var p=s(e),h=!i((function(){var t={};return t[p]=function(){return 7},7!=""[e](t)})),d=h?!i((function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},"split"===e&&(n.constructor={},n.constructor[c]=function(){return n}),n[p](""),!t})):void 0;if(!h||!d||"replace"===e&&!l||"split"===e&&!f){var g=/./[p],v=n(a,p,""[e],(function(e,t,n,r,o){return t.exec===u?h&&!o?{done:!0,value:g.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}})),m=v[0],y=v[1];r(String.prototype,e,m),o(RegExp.prototype,p,2==t?function(e,t){return y.call(e,this,t)}:function(e){return y.call(e,this)})}}},"0b2a":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("0261"),o=n("24b9"),i=10;function a(e,t){return e>t&&e>i?"horizontal":t>e&&t>i?"vertical":""}var s=r["a"].extend({data:function(){return{direction:""}},methods:{touchStart:function(e){this.resetTouchStatus(),this.startX=e.touches[0].clientX,this.startY=e.touches[0].clientY},touchMove:function(e){var t=e.touches[0];this.deltaX=t.clientX-this.startX,this.deltaY=t.clientY-this.startY,this.offsetX=Math.abs(this.deltaX),this.offsetY=Math.abs(this.deltaY),this.direction=this.direction||a(this.offsetX,this.offsetY)},resetTouchStatus:function(){this.direction="",this.deltaX=0,this.deltaY=0,this.offsetX=0,this.offsetY=0},bindTouchEvent:function(e){var t=this,n=t.onTouchStart,r=t.onTouchMove,i=t.onTouchEnd;Object(o["b"])(e,"touchstart",n),Object(o["b"])(e,"touchmove",r),i&&(Object(o["b"])(e,"touchend",i),Object(o["b"])(e,"touchcancel",i))}}})},"0cb8":function(e,t,n){"use strict";var r=n("caa2"),o=n("f25d"),i=n("ea6e"),a=n("f57f"),s=n("f20f"),u=Object(o["a"])("tab"),c=u[0],l=u[1];t["a"]=c({mixins:[Object(a["a"])("vanTabs")],props:Object(r["a"])({},s["c"],{dot:Boolean,info:[Number,String],name:[Number,String],title:String,titleStyle:null,disabled:Boolean}),data:function(){return{inited:!1}},computed:{computedName:function(){return Object(i["b"])(this.name)?this.name:this.index},isActive:function(){return this.computedName===this.parent.currentName}},watch:{"parent.currentIndex":function(){this.inited=this.inited||this.isActive},title:function(){this.parent.setLine()},inited:function(e){var t=this;this.parent.lazyRender&&e&&this.$nextTick((function(){t.parent.$emit("rendered",t.computedName,t.title)}))}},render:function(e){var t=this.slots,n=this.parent,r=this.isActive,o=this.inited||n.scrollspy||!n.lazyRender,i=n.scrollspy||r,a=o?t():e();return n.animated?e("div",{attrs:{role:"tabpanel","aria-hidden":!r},class:l("pane-wrapper",{inactive:!r})},[e("div",{class:l("pane")},[a])]):e("div",{directives:[{name:"show",value:i}],attrs:{role:"tabpanel"},class:l("pane")},[a])}})},"0dc8":function(e,t,n){var r=n("064e"),o=n("69b3"),i=n("80a9");e.exports=n("149f")?Object.defineProperties:function(e,t){o(e);var n,a=i(t),s=a.length,u=0;while(s>u)r.f(e,n=a[u++],t[n]);return e}},"0e8b":function(e,t,n){var r=n("cb3d")("unscopables"),o=Array.prototype;void 0==o[r]&&n("86d4")(o,r,{}),e.exports=function(e){o[r][e]=!0}},"0f51":function(e,t,n){"use strict";var r=n("0260");function o(){this.handlers=[]}o.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=o},"0fee":function(e,t,n){"use strict";var r=n("f25d"),o=n("24b9"),i=n("4b1f"),a=n("0b2a"),s=n("4614"),u=Object(r["a"])("pull-refresh"),c=u[0],l=u[1],f=u[2],p=50,h=["pulling","loosing","success"];t["a"]=c({mixins:[a["a"]],props:{disabled:Boolean,successText:String,pullingText:String,loosingText:String,loadingText:String,value:{type:Boolean,required:!0},successDuration:{type:[Number,String],default:500},animationDuration:{type:[Number,String],default:300},headHeight:{type:[Number,String],default:p}},data:function(){return{status:"normal",distance:0,duration:0}},computed:{touchable:function(){return"loading"!==this.status&&"success"!==this.status&&!this.disabled},headStyle:function(){if(this.headHeight!==p)return{height:this.headHeight+"px"}}},watch:{value:function(e){this.duration=this.animationDuration,e?this.setStatus(+this.headHeight,!0):this.slots("success")||this.successText?this.showSuccessTip():this.setStatus(0,!1)}},mounted:function(){this.bindTouchEvent(this.$refs.track),this.scrollEl=Object(i["d"])(this.$el)},methods:{checkPullStart:function(e){this.ceiling=0===Object(i["c"])(this.scrollEl),this.ceiling&&(this.duration=0,this.touchStart(e))},onTouchStart:function(e){this.touchable&&this.checkPullStart(e)},onTouchMove:function(e){this.touchable&&(this.ceiling||this.checkPullStart(e),this.touchMove(e),this.ceiling&&this.deltaY>=0&&"vertical"===this.direction&&(Object(o["c"])(e),this.setStatus(this.ease(this.deltaY))))},onTouchEnd:function(){var e=this;this.touchable&&this.ceiling&&this.deltaY&&(this.duration=this.animationDuration,"loosing"===this.status?(this.setStatus(+this.headHeight,!0),this.$emit("input",!0),this.$nextTick((function(){e.$emit("refresh")}))):this.setStatus(0))},ease:function(e){var t=+this.headHeight;return e>t&&(e=e<2*t?t+(e-t)/2:1.5*t+(e-2*t)/4),Math.round(e)},setStatus:function(e,t){var n;n=t?"loading":0===e?"normal":e<this.headHeight?"pulling":"loosing",this.distance=e,n!==this.status&&(this.status=n)},genStatus:function(){var e=this.$createElement,t=this.status,n=this.distance,r=this.slots(t,{distance:n});if(r)return r;var o=[],i=this[t+"Text"]||f(t);return-1!==h.indexOf(t)&&o.push(e("div",{class:l("text")},[i])),"loading"===t&&o.push(e(s["a"],{attrs:{size:"16"}},[i])),o},showSuccessTip:function(){var e=this;this.status="success",setTimeout((function(){e.setStatus(0)}),this.successDuration)}},render:function(){var e=arguments[0],t={transitionDuration:this.duration+"ms",transform:this.distance?"translate3d(0,"+this.distance+"px, 0)":""};return e("div",{class:l()},[e("div",{ref:"track",class:l("track"),style:t},[e("div",{class:l("head"),style:this.headStyle},[this.genStatus()]),this.slots()])])}})},1157:function(e,t,n){"use strict";var r=n("e7ad"),o=n("064e"),i=n("149f"),a=n("cb3d")("species");e.exports=function(e){var t=r[e];i&&t&&!t[a]&&o.f(t,a,{configurable:!0,get:function(){return this}})}},"149f":function(e,t,n){e.exports=!n("238a")((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},"163d":function(e,t,n){"use strict";var r=n("e7ad"),o=n("e042"),i=n("75c4"),a=n("1e5b"),s=n("94b3"),u=n("238a"),c=n("2ea2").f,l=n("dcb7").f,f=n("064e").f,p=n("777a").trim,h="Number",d=r[h],g=d,v=d.prototype,m=i(n("e005")(v))==h,y="trim"in String.prototype,_=function(e){var t=s(e,!1);if("string"==typeof t&&t.length>2){t=y?t.trim():p(t,3);var n,r,o,i=t.charCodeAt(0);if(43===i||45===i){if(n=t.charCodeAt(2),88===n||120===n)return NaN}else if(48===i){switch(t.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+t}for(var a,u=t.slice(2),c=0,l=u.length;c<l;c++)if(a=u.charCodeAt(c),a<48||a>o)return NaN;return parseInt(u,r)}}return+t};if(!d(" 0o1")||!d("0b1")||d("+0x1")){d=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof d&&(m?u((function(){v.valueOf.call(n)})):i(n)!=h)?a(new g(_(t)),n,d):_(t)};for(var b,C=n("149f")?c(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),S=0;C.length>S;S++)o(g,b=C[S])&&!o(d,b)&&f(d,b,l(g,b));d.prototype=v,v.constructor=d,n("bf16")(r,h,d)}},"173d":function(e,t,n){"use strict";var r=n("a44d"),o=n("0260"),i=n("0f51"),a=n("96e2");function s(e){this.defaults=e,this.interceptors={request:new i,response:new i}}s.prototype.request=function(e){"string"===typeof e&&(e=o.merge({url:arguments[0]},arguments[1])),e=o.merge(r,{method:"get"},this.defaults,e),e.method=e.method.toLowerCase();var t=[a,void 0],n=Promise.resolve(e);this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));while(t.length)n=n.then(t.shift(),t.shift());return n},o.forEach(["delete","get","head","options"],(function(e){s.prototype[e]=function(t,n){return this.request(o.merge(n||{},{method:e,url:t}))}})),o.forEach(["post","put","patch"],(function(e){s.prototype[e]=function(t,n,r){return this.request(o.merge(r||{},{method:e,url:t,data:n}))}})),e.exports=s},"190f":function(e,t,n){"use strict";e.exports=function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e}},"1bee":function(e,t,n){"use strict";
/*!
  * vue-router v3.1.6
  * (c) 2020 Evan You
  * @license MIT
  */function r(e,t){0}function o(e){return Object.prototype.toString.call(e).indexOf("Error")>-1}function i(e,t){return t instanceof e||t&&(t.name===e.name||t._name===e._name)}function a(e,t){for(var n in t)e[n]=t[n];return e}var s={name:"RouterView",functional:!0,props:{name:{type:String,default:"default"}},render:function(e,t){var n=t.props,r=t.children,o=t.parent,i=t.data;i.routerView=!0;var s=o.$createElement,c=n.name,l=o.$route,f=o._routerViewCache||(o._routerViewCache={}),p=0,h=!1;while(o&&o._routerRoot!==o){var d=o.$vnode?o.$vnode.data:{};d.routerView&&p++,d.keepAlive&&o._directInactive&&o._inactive&&(h=!0),o=o.$parent}if(i.routerViewDepth=p,h){var g=f[c],v=g&&g.component;return v?(g.configProps&&u(v,i,g.route,g.configProps),s(v,i,r)):s()}var m=l.matched[p],y=m&&m.components[c];if(!m||!y)return f[c]=null,s();f[c]={component:y},i.registerRouteInstance=function(e,t){var n=m.instances[c];(t&&n!==e||!t&&n===e)&&(m.instances[c]=t)},(i.hook||(i.hook={})).prepatch=function(e,t){m.instances[c]=t.componentInstance},i.hook.init=function(e){e.data.keepAlive&&e.componentInstance&&e.componentInstance!==m.instances[c]&&(m.instances[c]=e.componentInstance)};var _=m.props&&m.props[c];return _&&(a(f[c],{route:l,configProps:_}),u(y,i,l,_)),s(y,i,r)}};function u(e,t,n,r){var o=t.props=c(n,r);if(o){o=t.props=a({},o);var i=t.attrs=t.attrs||{};for(var s in o)e.props&&s in e.props||(i[s]=o[s],delete o[s])}}function c(e,t){switch(typeof t){case"undefined":return;case"object":return t;case"function":return t(e);case"boolean":return t?e.params:void 0;default:0}}var l=/[!'()*]/g,f=function(e){return"%"+e.charCodeAt(0).toString(16)},p=/%2C/g,h=function(e){return encodeURIComponent(e).replace(l,f).replace(p,",")},d=decodeURIComponent;function g(e,t,n){void 0===t&&(t={});var r,o=n||v;try{r=o(e||"")}catch(a){r={}}for(var i in t)r[i]=t[i];return r}function v(e){var t={};return e=e.trim().replace(/^(\?|#|&)/,""),e?(e.split("&").forEach((function(e){var n=e.replace(/\+/g," ").split("="),r=d(n.shift()),o=n.length>0?d(n.join("=")):null;void 0===t[r]?t[r]=o:Array.isArray(t[r])?t[r].push(o):t[r]=[t[r],o]})),t):t}function m(e){var t=e?Object.keys(e).map((function(t){var n=e[t];if(void 0===n)return"";if(null===n)return h(t);if(Array.isArray(n)){var r=[];return n.forEach((function(e){void 0!==e&&(null===e?r.push(h(t)):r.push(h(t)+"="+h(e)))})),r.join("&")}return h(t)+"="+h(n)})).filter((function(e){return e.length>0})).join("&"):null;return t?"?"+t:""}var y=/\/?$/;function _(e,t,n,r){var o=r&&r.options.stringifyQuery,i=t.query||{};try{i=b(i)}catch(s){}var a={name:t.name||e&&e.name,meta:e&&e.meta||{},path:t.path||"/",hash:t.hash||"",query:i,params:t.params||{},fullPath:I(t,o),matched:e?S(e):[]};return n&&(a.redirectedFrom=I(n,o)),Object.freeze(a)}function b(e){if(Array.isArray(e))return e.map(b);if(e&&"object"===typeof e){var t={};for(var n in e)t[n]=b(e[n]);return t}return e}var C=_(null,{path:"/"});function S(e){var t=[];while(e)t.unshift(e),e=e.parent;return t}function I(e,t){var n=e.path,r=e.query;void 0===r&&(r={});var o=e.hash;void 0===o&&(o="");var i=t||m;return(n||"/")+i(r)+o}function w(e,t){return t===C?e===t:!!t&&(e.path&&t.path?e.path.replace(y,"")===t.path.replace(y,"")&&e.hash===t.hash&&M(e.query,t.query):!(!e.name||!t.name)&&(e.name===t.name&&e.hash===t.hash&&M(e.query,t.query)&&M(e.params,t.params)))}function M(e,t){if(void 0===e&&(e={}),void 0===t&&(t={}),!e||!t)return e===t;var n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every((function(n){var r=e[n],o=t[n];return"object"===typeof r&&"object"===typeof o?M(r,o):String(r)===String(o)}))}function E(e,t){return 0===e.path.replace(y,"/").indexOf(t.path.replace(y,"/"))&&(!t.hash||e.hash===t.hash)&&k(e.query,t.query)}function k(e,t){for(var n in t)if(!(n in e))return!1;return!0}function T(e,t,n){var r=e.charAt(0);if("/"===r)return e;if("?"===r||"#"===r)return t+e;var o=t.split("/");n&&o[o.length-1]||o.pop();for(var i=e.replace(/^\//,"").split("/"),a=0;a<i.length;a++){var s=i[a];".."===s?o.pop():"."!==s&&o.push(s)}return""!==o[0]&&o.unshift(""),o.join("/")}function O(e){var t="",n="",r=e.indexOf("#");r>=0&&(t=e.slice(r),e=e.slice(0,r));var o=e.indexOf("?");return o>=0&&(n=e.slice(o+1),e=e.slice(0,o)),{path:e,query:n,hash:t}}function D(e){return e.replace(/\/\//g,"/")}var A=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)},R=J,x=U,L=q,N=$,P=X,G=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function U(e,t){var n,r=[],o=0,i=0,a="",s=t&&t.delimiter||"/";while(null!=(n=G.exec(e))){var u=n[0],c=n[1],l=n.index;if(a+=e.slice(i,l),i=l+u.length,c)a+=c[1];else{var f=e[i],p=n[2],h=n[3],d=n[4],g=n[5],v=n[6],m=n[7];a&&(r.push(a),a="");var y=null!=p&&null!=f&&f!==p,_="+"===v||"*"===v,b="?"===v||"*"===v,C=n[2]||s,S=d||g;r.push({name:h||o++,prefix:p||"",delimiter:C,optional:b,repeat:_,partial:y,asterisk:!!m,pattern:S?H(S):m?".*":"[^"+B(C)+"]+?"})}}return i<e.length&&(a+=e.substr(i)),a&&r.push(a),r}function q(e,t){return $(U(e,t))}function j(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function F(e){return encodeURI(e).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function $(e){for(var t=new Array(e.length),n=0;n<e.length;n++)"object"===typeof e[n]&&(t[n]=new RegExp("^(?:"+e[n].pattern+")$"));return function(n,r){for(var o="",i=n||{},a=r||{},s=a.pretty?j:encodeURIComponent,u=0;u<e.length;u++){var c=e[u];if("string"!==typeof c){var l,f=i[c.name];if(null==f){if(c.optional){c.partial&&(o+=c.prefix);continue}throw new TypeError('Expected "'+c.name+'" to be defined')}if(A(f)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received `'+JSON.stringify(f)+"`");if(0===f.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var p=0;p<f.length;p++){if(l=s(f[p]),!t[u].test(l))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received `'+JSON.stringify(l)+"`");o+=(0===p?c.prefix:c.delimiter)+l}}else{if(l=c.asterisk?F(f):s(f),!t[u].test(l))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+l+'"');o+=c.prefix+l}}else o+=c}return o}}function B(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function H(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function V(e,t){return e.keys=t,e}function z(e){return e.sensitive?"":"i"}function K(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return V(e,t)}function Y(e,t,n){for(var r=[],o=0;o<e.length;o++)r.push(J(e[o],t,n).source);var i=new RegExp("(?:"+r.join("|")+")",z(n));return V(i,t)}function W(e,t,n){return X(U(e,n),t,n)}function X(e,t,n){A(t)||(n=t||n,t=[]),n=n||{};for(var r=n.strict,o=!1!==n.end,i="",a=0;a<e.length;a++){var s=e[a];if("string"===typeof s)i+=B(s);else{var u=B(s.prefix),c="(?:"+s.pattern+")";t.push(s),s.repeat&&(c+="(?:"+u+c+")*"),c=s.optional?s.partial?u+"("+c+")?":"(?:"+u+"("+c+"))?":u+"("+c+")",i+=c}}var l=B(n.delimiter||"/"),f=i.slice(-l.length)===l;return r||(i=(f?i.slice(0,-l.length):i)+"(?:"+l+"(?=$))?"),i+=o?"$":r&&f?"":"(?="+l+"|$)",V(new RegExp("^"+i,z(n)),t)}function J(e,t,n){return A(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?K(e,t):A(e)?Y(e,t,n):W(e,t,n)}R.parse=x,R.compile=L,R.tokensToFunction=N,R.tokensToRegExp=P;var Q=Object.create(null);function Z(e,t,n){t=t||{};try{var r=Q[e]||(Q[e]=R.compile(e));return"string"===typeof t.pathMatch&&(t[0]=t.pathMatch),r(t,{pretty:!0})}catch(o){return""}finally{delete t[0]}}function ee(e,t,n,r){var o="string"===typeof e?{path:e}:e;if(o._normalized)return o;if(o.name){o=a({},e);var i=o.params;return i&&"object"===typeof i&&(o.params=a({},i)),o}if(!o.path&&o.params&&t){o=a({},o),o._normalized=!0;var s=a(a({},t.params),o.params);if(t.name)o.name=t.name,o.params=s;else if(t.matched.length){var u=t.matched[t.matched.length-1].path;o.path=Z(u,s,"path "+t.path)}else 0;return o}var c=O(o.path||""),l=t&&t.path||"/",f=c.path?T(c.path,l,n||o.append):l,p=g(c.query,o.query,r&&r.options.parseQuery),h=o.hash||c.hash;return h&&"#"!==h.charAt(0)&&(h="#"+h),{_normalized:!0,path:f,query:p,hash:h}}var te,ne=[String,Object],re=[String,Array],oe=function(){},ie={name:"RouterLink",props:{to:{type:ne,required:!0},tag:{type:String,default:"a"},exact:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,event:{type:re,default:"click"}},render:function(e){var t=this,n=this.$router,r=this.$route,o=n.resolve(this.to,r,this.append),i=o.location,s=o.route,u=o.href,c={},l=n.options.linkActiveClass,f=n.options.linkExactActiveClass,p=null==l?"router-link-active":l,h=null==f?"router-link-exact-active":f,d=null==this.activeClass?p:this.activeClass,g=null==this.exactActiveClass?h:this.exactActiveClass,v=s.redirectedFrom?_(null,ee(s.redirectedFrom),null,n):s;c[g]=w(r,v),c[d]=this.exact?c[g]:E(r,v);var m=function(e){ae(e)&&(t.replace?n.replace(i,oe):n.push(i,oe))},y={click:ae};Array.isArray(this.event)?this.event.forEach((function(e){y[e]=m})):y[this.event]=m;var b={class:c},C=!this.$scopedSlots.$hasNormal&&this.$scopedSlots.default&&this.$scopedSlots.default({href:u,route:s,navigate:m,isActive:c[d],isExactActive:c[g]});if(C){if(1===C.length)return C[0];if(C.length>1||!C.length)return 0===C.length?e():e("span",{},C)}if("a"===this.tag)b.on=y,b.attrs={href:u};else{var S=se(this.$slots.default);if(S){S.isStatic=!1;var I=S.data=a({},S.data);for(var M in I.on=I.on||{},I.on){var k=I.on[M];M in y&&(I.on[M]=Array.isArray(k)?k:[k])}for(var T in y)T in I.on?I.on[T].push(y[T]):I.on[T]=m;var O=S.data.attrs=a({},S.data.attrs);O.href=u}else b.on=y}return e(this.tag,b,this.$slots.default)}};function ae(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&(void 0===e.button||0===e.button)){if(e.currentTarget&&e.currentTarget.getAttribute){var t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function se(e){if(e)for(var t,n=0;n<e.length;n++){if(t=e[n],"a"===t.tag)return t;if(t.children&&(t=se(t.children)))return t}}function ue(e){if(!ue.installed||te!==e){ue.installed=!0,te=e;var t=function(e){return void 0!==e},n=function(e,n){var r=e.$options._parentVnode;t(r)&&t(r=r.data)&&t(r=r.registerRouteInstance)&&r(e,n)};e.mixin({beforeCreate:function(){t(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),e.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,n(this,this)},destroyed:function(){n(this)}}),Object.defineProperty(e.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(e.prototype,"$route",{get:function(){return this._routerRoot._route}}),e.component("RouterView",s),e.component("RouterLink",ie);var r=e.config.optionMergeStrategies;r.beforeRouteEnter=r.beforeRouteLeave=r.beforeRouteUpdate=r.created}}var ce="undefined"!==typeof window;function le(e,t,n,r){var o=t||[],i=n||Object.create(null),a=r||Object.create(null);e.forEach((function(e){fe(o,i,a,e)}));for(var s=0,u=o.length;s<u;s++)"*"===o[s]&&(o.push(o.splice(s,1)[0]),u--,s--);return{pathList:o,pathMap:i,nameMap:a}}function fe(e,t,n,r,o,i){var a=r.path,s=r.name;var u=r.pathToRegexpOptions||{},c=he(a,o,u.strict);"boolean"===typeof r.caseSensitive&&(u.sensitive=r.caseSensitive);var l={path:c,regex:pe(c,u),components:r.components||{default:r.component},instances:{},name:s,parent:o,matchAs:i,redirect:r.redirect,beforeEnter:r.beforeEnter,meta:r.meta||{},props:null==r.props?{}:r.components?r.props:{default:r.props}};if(r.children&&r.children.forEach((function(r){var o=i?D(i+"/"+r.path):void 0;fe(e,t,n,r,l,o)})),t[l.path]||(e.push(l.path),t[l.path]=l),void 0!==r.alias)for(var f=Array.isArray(r.alias)?r.alias:[r.alias],p=0;p<f.length;++p){var h=f[p];0;var d={path:h,children:r.children};fe(e,t,n,d,o,l.path||"/")}s&&(n[s]||(n[s]=l))}function pe(e,t){var n=R(e,[],t);return n}function he(e,t,n){return n||(e=e.replace(/\/$/,"")),"/"===e[0]||null==t?e:D(t.path+"/"+e)}function de(e,t){var n=le(e),r=n.pathList,o=n.pathMap,i=n.nameMap;function a(e){le(e,r,o,i)}function s(e,n,a){var s=ee(e,n,!1,t),u=s.name;if(u){var c=i[u];if(!c)return l(null,s);var f=c.regex.keys.filter((function(e){return!e.optional})).map((function(e){return e.name}));if("object"!==typeof s.params&&(s.params={}),n&&"object"===typeof n.params)for(var p in n.params)!(p in s.params)&&f.indexOf(p)>-1&&(s.params[p]=n.params[p]);return s.path=Z(c.path,s.params,'named route "'+u+'"'),l(c,s,a)}if(s.path){s.params={};for(var h=0;h<r.length;h++){var d=r[h],g=o[d];if(ge(g.regex,s.path,s.params))return l(g,s,a)}}return l(null,s)}function u(e,n){var r=e.redirect,o="function"===typeof r?r(_(e,n,null,t)):r;if("string"===typeof o&&(o={path:o}),!o||"object"!==typeof o)return l(null,n);var a=o,u=a.name,c=a.path,f=n.query,p=n.hash,h=n.params;if(f=a.hasOwnProperty("query")?a.query:f,p=a.hasOwnProperty("hash")?a.hash:p,h=a.hasOwnProperty("params")?a.params:h,u){i[u];return s({_normalized:!0,name:u,query:f,hash:p,params:h},void 0,n)}if(c){var d=ve(c,e),g=Z(d,h,'redirect route with path "'+d+'"');return s({_normalized:!0,path:g,query:f,hash:p},void 0,n)}return l(null,n)}function c(e,t,n){var r=Z(n,t.params,'aliased route with path "'+n+'"'),o=s({_normalized:!0,path:r});if(o){var i=o.matched,a=i[i.length-1];return t.params=o.params,l(a,t)}return l(null,t)}function l(e,n,r){return e&&e.redirect?u(e,r||n):e&&e.matchAs?c(e,n,e.matchAs):_(e,n,r,t)}return{match:s,addRoutes:a}}function ge(e,t,n){var r=t.match(e);if(!r)return!1;if(!n)return!0;for(var o=1,i=r.length;o<i;++o){var a=e.keys[o-1],s="string"===typeof r[o]?decodeURIComponent(r[o]):r[o];a&&(n[a.name||"pathMatch"]=s)}return!0}function ve(e,t){return T(e,t.parent?t.parent.path:"/",!0)}var me=ce&&window.performance&&window.performance.now?window.performance:Date;function ye(){return me.now().toFixed(3)}var _e=ye();function be(){return _e}function Ce(e){return _e=e}var Se=Object.create(null);function Ie(){var e=window.location.protocol+"//"+window.location.host,t=window.location.href.replace(e,""),n=a({},window.history.state);n.key=be(),window.history.replaceState(n,"",t),window.addEventListener("popstate",(function(e){Me(),e.state&&e.state.key&&Ce(e.state.key)}))}function we(e,t,n,r){if(e.app){var o=e.options.scrollBehavior;o&&e.app.$nextTick((function(){var i=Ee(),a=o.call(e,t,n,r?i:null);a&&("function"===typeof a.then?a.then((function(e){xe(e,i)})).catch((function(e){0})):xe(a,i))}))}}function Me(){var e=be();e&&(Se[e]={x:window.pageXOffset,y:window.pageYOffset})}function Ee(){var e=be();if(e)return Se[e]}function ke(e,t){var n=document.documentElement,r=n.getBoundingClientRect(),o=e.getBoundingClientRect();return{x:o.left-r.left-t.x,y:o.top-r.top-t.y}}function Te(e){return Ae(e.x)||Ae(e.y)}function Oe(e){return{x:Ae(e.x)?e.x:window.pageXOffset,y:Ae(e.y)?e.y:window.pageYOffset}}function De(e){return{x:Ae(e.x)?e.x:0,y:Ae(e.y)?e.y:0}}function Ae(e){return"number"===typeof e}var Re=/^#\d/;function xe(e,t){var n="object"===typeof e;if(n&&"string"===typeof e.selector){var r=Re.test(e.selector)?document.getElementById(e.selector.slice(1)):document.querySelector(e.selector);if(r){var o=e.offset&&"object"===typeof e.offset?e.offset:{};o=De(o),t=ke(r,o)}else Te(e)&&(t=Oe(e))}else n&&Te(e)&&(t=Oe(e));t&&window.scrollTo(t.x,t.y)}var Le=ce&&function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)}();function Ne(e,t){Me();var n=window.history;try{if(t){var r=a({},n.state);r.key=be(),n.replaceState(r,"",e)}else n.pushState({key:Ce(ye())},"",e)}catch(o){window.location[t?"replace":"assign"](e)}}function Pe(e){Ne(e,!0)}function Ge(e,t,n){var r=function(o){o>=e.length?n():e[o]?t(e[o],(function(){r(o+1)})):r(o+1)};r(0)}function Ue(e){return function(t,n,r){var i=!1,a=0,s=null;qe(e,(function(e,t,n,u){if("function"===typeof e&&void 0===e.cid){i=!0,a++;var c,l=Be((function(t){$e(t)&&(t=t.default),e.resolved="function"===typeof t?t:te.extend(t),n.components[u]=t,a--,a<=0&&r()})),f=Be((function(e){var t="Failed to resolve async component "+u+": "+e;s||(s=o(e)?e:new Error(t),r(s))}));try{c=e(l,f)}catch(h){f(h)}if(c)if("function"===typeof c.then)c.then(l,f);else{var p=c.component;p&&"function"===typeof p.then&&p.then(l,f)}}})),i||r()}}function qe(e,t){return je(e.map((function(e){return Object.keys(e.components).map((function(n){return t(e.components[n],e.instances[n],e,n)}))})))}function je(e){return Array.prototype.concat.apply([],e)}var Fe="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag;function $e(e){return e.__esModule||Fe&&"Module"===e[Symbol.toStringTag]}function Be(e){var t=!1;return function(){var n=[],r=arguments.length;while(r--)n[r]=arguments[r];if(!t)return t=!0,e.apply(this,n)}}var He=function(e){function t(t){e.call(this),this.name=this._name="NavigationDuplicated",this.message='Navigating to current location ("'+t.fullPath+'") is not allowed',Object.defineProperty(this,"stack",{value:(new e).stack,writable:!0,configurable:!0})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Error);He._name="NavigationDuplicated";var Ve=function(e,t){this.router=e,this.base=ze(t),this.current=C,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[]};function ze(e){if(!e)if(ce){var t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^https?:\/\/[^\/]+/,"")}else e="/";return"/"!==e.charAt(0)&&(e="/"+e),e.replace(/\/$/,"")}function Ke(e,t){var n,r=Math.max(e.length,t.length);for(n=0;n<r;n++)if(e[n]!==t[n])break;return{updated:t.slice(0,n),activated:t.slice(n),deactivated:e.slice(n)}}function Ye(e,t,n,r){var o=qe(e,(function(e,r,o,i){var a=We(e,t);if(a)return Array.isArray(a)?a.map((function(e){return n(e,r,o,i)})):n(a,r,o,i)}));return je(r?o.reverse():o)}function We(e,t){return"function"!==typeof e&&(e=te.extend(e)),e.options[t]}function Xe(e){return Ye(e,"beforeRouteLeave",Qe,!0)}function Je(e){return Ye(e,"beforeRouteUpdate",Qe)}function Qe(e,t){if(t)return function(){return e.apply(t,arguments)}}function Ze(e,t,n){return Ye(e,"beforeRouteEnter",(function(e,r,o,i){return et(e,o,i,t,n)}))}function et(e,t,n,r,o){return function(i,a,s){return e(i,a,(function(e){"function"===typeof e&&r.push((function(){tt(e,t.instances,n,o)})),s(e)}))}}function tt(e,t,n,r){t[n]&&!t[n]._isBeingDestroyed?e(t[n]):r()&&setTimeout((function(){tt(e,t,n,r)}),16)}Ve.prototype.listen=function(e){this.cb=e},Ve.prototype.onReady=function(e,t){this.ready?e():(this.readyCbs.push(e),t&&this.readyErrorCbs.push(t))},Ve.prototype.onError=function(e){this.errorCbs.push(e)},Ve.prototype.transitionTo=function(e,t,n){var r=this,o=this.router.match(e,this.current);this.confirmTransition(o,(function(){r.updateRoute(o),t&&t(o),r.ensureURL(),r.ready||(r.ready=!0,r.readyCbs.forEach((function(e){e(o)})))}),(function(e){n&&n(e),e&&!r.ready&&(r.ready=!0,r.readyErrorCbs.forEach((function(t){t(e)})))}))},Ve.prototype.confirmTransition=function(e,t,n){var a=this,s=this.current,u=function(e){!i(He,e)&&o(e)&&(a.errorCbs.length?a.errorCbs.forEach((function(t){t(e)})):(r(!1,"uncaught error during route navigation:"),console.error(e))),n&&n(e)};if(w(e,s)&&e.matched.length===s.matched.length)return this.ensureURL(),u(new He(e));var c=Ke(this.current.matched,e.matched),l=c.updated,f=c.deactivated,p=c.activated,h=[].concat(Xe(f),this.router.beforeHooks,Je(l),p.map((function(e){return e.beforeEnter})),Ue(p));this.pending=e;var d=function(t,n){if(a.pending!==e)return u();try{t(e,s,(function(e){!1===e||o(e)?(a.ensureURL(!0),u(e)):"string"===typeof e||"object"===typeof e&&("string"===typeof e.path||"string"===typeof e.name)?(u(),"object"===typeof e&&e.replace?a.replace(e):a.push(e)):n(e)}))}catch(r){u(r)}};Ge(h,d,(function(){var n=[],r=function(){return a.current===e},o=Ze(p,n,r),i=o.concat(a.router.resolveHooks);Ge(i,d,(function(){if(a.pending!==e)return u();a.pending=null,t(e),a.router.app&&a.router.app.$nextTick((function(){n.forEach((function(e){e()}))}))}))}))},Ve.prototype.updateRoute=function(e){var t=this.current;this.current=e,this.cb&&this.cb(e),this.router.afterHooks.forEach((function(n){n&&n(e,t)}))};var nt=function(e){function t(t,n){var r=this;e.call(this,t,n);var o=t.options.scrollBehavior,i=Le&&o;i&&Ie();var a=rt(this.base);window.addEventListener("popstate",(function(e){var n=r.current,o=rt(r.base);r.current===C&&o===a||r.transitionTo(o,(function(e){i&&we(t,e,n,!0)}))}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.go=function(e){window.history.go(e)},t.prototype.push=function(e,t,n){var r=this,o=this,i=o.current;this.transitionTo(e,(function(e){Ne(D(r.base+e.fullPath)),we(r.router,e,i,!1),t&&t(e)}),n)},t.prototype.replace=function(e,t,n){var r=this,o=this,i=o.current;this.transitionTo(e,(function(e){Pe(D(r.base+e.fullPath)),we(r.router,e,i,!1),t&&t(e)}),n)},t.prototype.ensureURL=function(e){if(rt(this.base)!==this.current.fullPath){var t=D(this.base+this.current.fullPath);e?Ne(t):Pe(t)}},t.prototype.getCurrentLocation=function(){return rt(this.base)},t}(Ve);function rt(e){var t=decodeURI(window.location.pathname);return e&&0===t.indexOf(e)&&(t=t.slice(e.length)),(t||"/")+window.location.search+window.location.hash}var ot=function(e){function t(t,n,r){e.call(this,t,n),r&&it(this.base)||at()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setupListeners=function(){var e=this,t=this.router,n=t.options.scrollBehavior,r=Le&&n;r&&Ie(),window.addEventListener(Le?"popstate":"hashchange",(function(){var t=e.current;at()&&e.transitionTo(st(),(function(n){r&&we(e.router,n,t,!0),Le||lt(n.fullPath)}))}))},t.prototype.push=function(e,t,n){var r=this,o=this,i=o.current;this.transitionTo(e,(function(e){ct(e.fullPath),we(r.router,e,i,!1),t&&t(e)}),n)},t.prototype.replace=function(e,t,n){var r=this,o=this,i=o.current;this.transitionTo(e,(function(e){lt(e.fullPath),we(r.router,e,i,!1),t&&t(e)}),n)},t.prototype.go=function(e){window.history.go(e)},t.prototype.ensureURL=function(e){var t=this.current.fullPath;st()!==t&&(e?ct(t):lt(t))},t.prototype.getCurrentLocation=function(){return st()},t}(Ve);function it(e){var t=rt(e);if(!/^\/#/.test(t))return window.location.replace(D(e+"/#"+t)),!0}function at(){var e=st();return"/"===e.charAt(0)||(lt("/"+e),!1)}function st(){var e=window.location.href,t=e.indexOf("#");if(t<0)return"";e=e.slice(t+1);var n=e.indexOf("?");if(n<0){var r=e.indexOf("#");e=r>-1?decodeURI(e.slice(0,r))+e.slice(r):decodeURI(e)}else e=decodeURI(e.slice(0,n))+e.slice(n);return e}function ut(e){var t=window.location.href,n=t.indexOf("#"),r=n>=0?t.slice(0,n):t;return r+"#"+e}function ct(e){Le?Ne(ut(e)):window.location.hash=e}function lt(e){Le?Pe(ut(e)):window.location.replace(ut(e))}var ft=function(e){function t(t,n){e.call(this,t,n),this.stack=[],this.index=-1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.push=function(e,t,n){var r=this;this.transitionTo(e,(function(e){r.stack=r.stack.slice(0,r.index+1).concat(e),r.index++,t&&t(e)}),n)},t.prototype.replace=function(e,t,n){var r=this;this.transitionTo(e,(function(e){r.stack=r.stack.slice(0,r.index).concat(e),t&&t(e)}),n)},t.prototype.go=function(e){var t=this,n=this.index+e;if(!(n<0||n>=this.stack.length)){var r=this.stack[n];this.confirmTransition(r,(function(){t.index=n,t.updateRoute(r)}),(function(e){i(He,e)&&(t.index=n)}))}},t.prototype.getCurrentLocation=function(){var e=this.stack[this.stack.length-1];return e?e.fullPath:"/"},t.prototype.ensureURL=function(){},t}(Ve),pt=function(e){void 0===e&&(e={}),this.app=null,this.apps=[],this.options=e,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=de(e.routes||[],this);var t=e.mode||"hash";switch(this.fallback="history"===t&&!Le&&!1!==e.fallback,this.fallback&&(t="hash"),ce||(t="abstract"),this.mode=t,t){case"history":this.history=new nt(this,e.base);break;case"hash":this.history=new ot(this,e.base,this.fallback);break;case"abstract":this.history=new ft(this,e.base);break;default:0}},ht={currentRoute:{configurable:!0}};function dt(e,t){return e.push(t),function(){var n=e.indexOf(t);n>-1&&e.splice(n,1)}}function gt(e,t,n){var r="hash"===n?"#"+t:t;return e?D(e+"/"+r):r}pt.prototype.match=function(e,t,n){return this.matcher.match(e,t,n)},ht.currentRoute.get=function(){return this.history&&this.history.current},pt.prototype.init=function(e){var t=this;if(this.apps.push(e),e.$once("hook:destroyed",(function(){var n=t.apps.indexOf(e);n>-1&&t.apps.splice(n,1),t.app===e&&(t.app=t.apps[0]||null)})),!this.app){this.app=e;var n=this.history;if(n instanceof nt)n.transitionTo(n.getCurrentLocation());else if(n instanceof ot){var r=function(){n.setupListeners()};n.transitionTo(n.getCurrentLocation(),r,r)}n.listen((function(e){t.apps.forEach((function(t){t._route=e}))}))}},pt.prototype.beforeEach=function(e){return dt(this.beforeHooks,e)},pt.prototype.beforeResolve=function(e){return dt(this.resolveHooks,e)},pt.prototype.afterEach=function(e){return dt(this.afterHooks,e)},pt.prototype.onReady=function(e,t){this.history.onReady(e,t)},pt.prototype.onError=function(e){this.history.onError(e)},pt.prototype.push=function(e,t,n){var r=this;if(!t&&!n&&"undefined"!==typeof Promise)return new Promise((function(t,n){r.history.push(e,t,n)}));this.history.push(e,t,n)},pt.prototype.replace=function(e,t,n){var r=this;if(!t&&!n&&"undefined"!==typeof Promise)return new Promise((function(t,n){r.history.replace(e,t,n)}));this.history.replace(e,t,n)},pt.prototype.go=function(e){this.history.go(e)},pt.prototype.back=function(){this.go(-1)},pt.prototype.forward=function(){this.go(1)},pt.prototype.getMatchedComponents=function(e){var t=e?e.matched?e:this.resolve(e).route:this.currentRoute;return t?[].concat.apply([],t.matched.map((function(e){return Object.keys(e.components).map((function(t){return e.components[t]}))}))):[]},pt.prototype.resolve=function(e,t,n){t=t||this.history.current;var r=ee(e,t,n,this),o=this.match(r,t),i=o.redirectedFrom||o.fullPath,a=this.history.base,s=gt(a,i,this.mode);return{location:r,route:o,href:s,normalizedTo:r,resolved:o}},pt.prototype.addRoutes=function(e){this.matcher.addRoutes(e),this.history.current!==C&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(pt.prototype,ht),pt.install=ue,pt.version="3.1.6",ce&&window.Vue&&window.Vue.use(pt),t["a"]=pt},"1e5b":function(e,t,n){var r=n("fb68"),o=n("859b").set;e.exports=function(e,t,n){var i,a=t.constructor;return a!==n&&"function"==typeof a&&(i=a.prototype)!==n.prototype&&r(i)&&o&&o(e,i),e}},"1ed6":function(e,t,n){"use strict";n("2698"),n("9e64")},"1fb4":function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(t){return{e:!0,v:t}}}},"206c":function(e,t,n){var r=n("4ce5"),o=n("d0bc"),i=n("2285"),a=n("69b3"),s=n("eafa"),u=n("f878"),c={},l={};t=e.exports=function(e,t,n,f,p){var h,d,g,v,m=p?function(){return e}:u(e),y=r(n,f,t?2:1),_=0;if("function"!=typeof m)throw TypeError(e+" is not iterable!");if(i(m)){for(h=s(e.length);h>_;_++)if(v=t?y(a(d=e[_])[0],d[1]):y(e[_]),v===c||v===l)return v}else for(g=m.call(e);!(d=g.next()).done;)if(v=o(g,y,d.value,t),v===c||v===l)return v};t.BREAK=c,t.RETURN=l},"224c":function(e,t,n){var r=n("75c4");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},2252:function(e,t,n){"use strict";function r(e){var t=window.getComputedStyle(e),n="none"===t.display,r=null===e.offsetParent&&"fixed"!==t.position;return n||r}n.d(t,"a",(function(){return r}))},2285:function(e,t,n){var r=n("da6d"),o=n("cb3d")("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||i[o]===e)}},2346:function(e,t,n){var r=n("75c4");e.exports=Array.isArray||function(e){return"Array"==r(e)}},"238a":function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},"23c4":function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t,n=1;n<arguments.length;n++)for(var r in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},r.apply(this,arguments)}var o=["attrs","props","domProps"],i=["class","style","directives"],a=["on","nativeOn"],s=function(e){return e.reduce((function(e,t){for(var n in t)if(e[n])if(-1!==o.indexOf(n))e[n]=r({},e[n],t[n]);else if(-1!==i.indexOf(n)){var s=e[n]instanceof Array?e[n]:[e[n]],c=t[n]instanceof Array?t[n]:[t[n]];e[n]=s.concat(c)}else if(-1!==a.indexOf(n))for(var l in t[n])if(e[n][l]){var f=e[n][l]instanceof Array?e[n][l]:[e[n][l]],p=t[n][l]instanceof Array?t[n][l]:[t[n][l]];e[n][l]=f.concat(p)}else e[n][l]=t[n][l];else if("hook"==n)for(var h in t[n])e[n][h]=e[n][h]?u(e[n][h],t[n][h]):t[n][h];else e[n]=t[n];else e[n]=t[n];return e}),{})},u=function(e,t){return function(){e&&e.apply(this,arguments),t&&t.apply(this,arguments)}};e.exports=s},"24b9":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return c}));var r=n("ea6e"),o=!1;if(!r["f"])try{var i={};Object.defineProperty(i,"passive",{get:function(){o=!0}}),window.addEventListener("test-passive",null,i)}catch(l){}function a(e,t,n,i){void 0===i&&(i=!1),r["f"]||e.addEventListener(t,n,!!o&&{capture:!1,passive:i})}function s(e,t,n){r["f"]||e.removeEventListener(t,n)}function u(e){e.stopPropagation()}function c(e,t){("boolean"!==typeof e.cancelable||e.cancelable)&&e.preventDefault(),t&&u(e)}},2698:function(e,t,n){},"28bd":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return c}));var r=n("caa2"),o=n("0261"),i=["ref","style","class","attrs","nativeOn","directives","staticClass","staticStyle"],a={nativeOn:"on"};function s(e,t){var n=i.reduce((function(t,n){return e.data[n]&&(t[a[n]||n]=e.data[n]),t}),{});return t&&(n.on=n.on||{},Object(r["a"])(n.on,e.data.on)),n}function u(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];var i=e.listeners[t];i&&(Array.isArray(i)?i.forEach((function(e){e.apply(void 0,r)})):i.apply(void 0,r))}function c(e,t){var n=new o["a"]({el:document.createElement("div"),props:e.props,render:function(n){return n(e,Object(r["a"])({props:this.$props},t))}});return document.body.appendChild(n.$el),n}},"28e0":function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},2947:function(e,t,n){},"29aa":function(e,t,n){},"2cdf":function(e,t,n){"use strict";n("2698"),n("72e1"),n("2947"),n("38d8")},"2cf7":function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var r={zIndex:2e3,lockCount:0,stack:[],get top(){return this.stack[this.stack.length-1]}},o=n("caa2"),i=n("23c4"),a=n.n(i),s=n("f25d"),u=n("ea6e"),c=n("28bd"),l=n("24b9"),f=Object(s["a"])("overlay"),p=f[0],h=f[1];function d(e){Object(l["c"])(e,!0)}function g(e,t,n,r){var i=Object(o["a"])({zIndex:t.zIndex},t.customStyle);return Object(u["b"])(t.duration)&&(i.animationDuration=t.duration+"s"),e("transition",{attrs:{name:"van-fade"}},[e("div",a()([{directives:[{name:"show",value:t.show}],style:i,class:[h(),t.className],on:{touchmove:d}},Object(c["b"])(r,!0)]),[n.default&&n.default()])])}g.props={show:Boolean,zIndex:[Number,String],duration:[Number,String],className:null,customStyle:Object};var v,m=p(g),y={className:"",customStyle:{}};function _(){if(r.top){var e=r.top.vm;e.$emit("click-overlay"),e.closeOnClickOverlay&&(e.onClickOverlay?e.onClickOverlay():e.close())}}function b(){v=Object(c["c"])(m,{on:{click:_}})}function C(){if(v||b(),r.top){var e=r.top,t=e.vm,n=e.config,i=t.$el;i&&i.parentNode?i.parentNode.insertBefore(v.$el,i):document.body.appendChild(v.$el),Object(o["a"])(v,y,n,{show:!0})}else v.show=!1}function S(e,t){r.stack.some((function(t){return t.vm===e}))||(r.stack.push({vm:e,config:t}),C())}function I(e){var t=r.stack;t.length&&(r.top.vm===e?(t.pop(),C()):r.stack=t.filter((function(t){return t.vm!==e})))}var w=n("383f"),M=n("4b1f"),E=n("0b2a"),k=n("0261");function T(e){return"string"===typeof e?document.querySelector(e):e()}function O(e){var t=e.ref,n=e.afterPortal;return k["a"].extend({props:{getContainer:[String,Function]},watch:{getContainer:"portal"},mounted:function(){this.getContainer&&this.portal()},methods:{portal:function(){var e,r=this.getContainer,o=t?this.$refs[t]:this.$el;r?e=T(r):this.$parent&&(e=this.$parent.$el),e&&e!==o.parentNode&&e.appendChild(o),n&&n.call(this)}}})}var D=n("5f9d"),A={mixins:[Object(D["a"])((function(e,t){this.handlePopstate(t&&this.closeOnPopstate)}))],props:{closeOnPopstate:Boolean},data:function(){return{bindStatus:!1}},watch:{closeOnPopstate:function(e){this.handlePopstate(e)}},methods:{handlePopstate:function(e){var t=this;if(!this.$isServer&&this.bindStatus!==e){this.bindStatus=e;var n=e?l["b"]:l["a"];n(window,"popstate",(function(){t.close(),t.shouldReopen=!1}))}}}},R={value:Boolean,overlay:Boolean,overlayStyle:Object,overlayClass:String,closeOnClickOverlay:Boolean,zIndex:[Number,String],lockScroll:{type:Boolean,default:!0},lazyRender:{type:Boolean,default:!0}};function x(e){return void 0===e&&(e={}),{mixins:[E["a"],A,O({afterPortal:function(){this.overlay&&C()}})],props:R,data:function(){return{inited:this.value}},computed:{shouldRender:function(){return this.inited||!this.lazyRender}},watch:{value:function(t){var n=t?"open":"close";this.inited=this.inited||this.value,this[n](),e.skipToggleEvent||this.$emit(n)},overlay:"renderOverlay"},mounted:function(){this.value&&this.open()},activated:function(){this.shouldReopen&&(this.$emit("input",!0),this.shouldReopen=!1)},beforeDestroy:function(){this.close(),this.getContainer&&Object(w["a"])(this.$el)},deactivated:function(){this.value&&(this.close(),this.shouldReopen=!0)},methods:{open:function(){this.$isServer||this.opened||(void 0!==this.zIndex&&(r.zIndex=this.zIndex),this.opened=!0,this.renderOverlay(),this.lockScroll&&(Object(l["b"])(document,"touchstart",this.touchStart),Object(l["b"])(document,"touchmove",this.onTouchMove),r.lockCount||document.body.classList.add("van-overflow-hidden"),r.lockCount++))},close:function(){this.opened&&(this.lockScroll&&(r.lockCount--,Object(l["a"])(document,"touchstart",this.touchStart),Object(l["a"])(document,"touchmove",this.onTouchMove),r.lockCount||document.body.classList.remove("van-overflow-hidden")),this.opened=!1,I(this),this.$emit("input",!1))},onTouchMove:function(e){this.touchMove(e);var t=this.deltaY>0?"10":"01",n=Object(M["d"])(e.target,this.$el),r=n.scrollHeight,o=n.offsetHeight,i=n.scrollTop,a="11";0===i?a=o>=r?"00":"01":i+o>=r&&(a="10"),"11"===a||"vertical"!==this.direction||parseInt(a,2)&parseInt(t,2)||Object(l["c"])(e,!0)},renderOverlay:function(){var e=this;!this.$isServer&&this.value&&this.$nextTick((function(){e.updateZIndex(e.overlay?1:0),e.overlay?S(e,{zIndex:r.zIndex++,duration:e.duration,className:e.overlayClass,customStyle:e.overlayStyle}):I(e)}))},updateZIndex:function(e){void 0===e&&(e=0),this.$el.style.zIndex=++r.zIndex+e}}}}},"2ea2":function(e,t,n){var r=n("c2f7"),o=n("ceac").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},"2f2a":function(e,t,n){"use strict";var r=n("caa2"),o=n("0261"),i=n("f25d"),a=n("ea6e"),s=0;function u(e){e?(s||document.body.classList.add("van-toast--unclickable"),s++):(s--,s||document.body.classList.remove("van-toast--unclickable"))}var c=n("2cf7"),l=n("a9f0"),f=n("4614"),p=Object(i["a"])("toast"),h=p[0],d=p[1],g=h({mixins:[Object(c["a"])()],props:{icon:String,className:null,iconPrefix:String,loadingType:String,forbidClick:Boolean,closeOnClick:Boolean,message:[Number,String],type:{type:String,default:"text"},position:{type:String,default:"middle"},transition:{type:String,default:"van-fade"},lockScroll:{type:Boolean,default:!1}},data:function(){return{clickable:!1}},mounted:function(){this.toggleClickable()},destroyed:function(){this.toggleClickable()},watch:{value:"toggleClickable",forbidClick:"toggleClickable"},methods:{onClick:function(){this.closeOnClick&&this.close()},toggleClickable:function(){var e=this.value&&this.forbidClick;this.clickable!==e&&(this.clickable=e,u(e))},onAfterEnter:function(){this.$emit("opened"),this.onOpened&&this.onOpened()},onAfterLeave:function(){this.$emit("closed")},genIcon:function(){var e=this.$createElement,t=this.icon,n=this.type,r=this.iconPrefix,o=this.loadingType,i=t||"success"===n||"fail"===n;return i?e(l["a"],{class:d("icon"),attrs:{classPrefix:r,name:t||n}}):"loading"===n?e(f["a"],{class:d("loading"),attrs:{type:o}}):void 0},genMessage:function(){var e=this.$createElement,t=this.type,n=this.message;if(Object(a["b"])(n)&&""!==n)return"html"===t?e("div",{class:d("text"),domProps:{innerHTML:n}}):e("div",{class:d("text")},[n])}},render:function(){var e,t=arguments[0];return t("transition",{attrs:{name:this.transition},on:{afterEnter:this.onAfterEnter,afterLeave:this.onAfterLeave}},[t("div",{directives:[{name:"show",value:this.value}],class:[d([this.position,(e={},e[this.type]=!this.icon,e)]),this.className],on:{click:this.onClick}},[this.genIcon(),this.genMessage()])])}}),v=n("383f"),m={icon:"",type:"text",mask:!1,value:!0,message:"",className:"",overlay:!1,onClose:null,onOpened:null,duration:2e3,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,getContainer:"body",overlayStyle:null,closeOnClick:!1,closeOnClickOverlay:!1},y={},_=[],b=!1,C=Object(r["a"])({},m);function S(e){return Object(a["d"])(e)?e:{message:e}}function I(){if(a["f"])return{};if(!_.length||b){var e=new(o["a"].extend(g))({el:document.createElement("div")});e.$on("input",(function(t){e.value=t})),_.push(e)}return _[_.length-1]}function w(e){return Object(r["a"])({},e,{overlay:e.mask||e.overlay,mask:void 0,duration:void 0})}function M(e){void 0===e&&(e={});var t=I();return t.value&&t.updateZIndex(),e=S(e),e=Object(r["a"])({},C,{},y[e.type||C.type],{},e),e.clear=function(){t.value=!1,e.onClose&&e.onClose(),b&&!a["f"]&&t.$on("closed",(function(){clearTimeout(t.timer),_=_.filter((function(e){return e!==t})),Object(v["a"])(t.$el),t.$destroy()}))},Object(r["a"])(t,w(e)),clearTimeout(t.timer),e.duration>0&&(t.timer=setTimeout((function(){t.clear()}),e.duration)),t}var E=function(e){return function(t){return M(Object(r["a"])({type:e},S(t)))}};["loading","success","fail"].forEach((function(e){M[e]=E(e)})),M.clear=function(e){_.length&&(e?(_.forEach((function(e){e.clear()})),_=[]):b?_.shift().clear():_[0].clear())},M.setDefaultOptions=function(e,t){"string"===typeof e?y[e]=t:Object(r["a"])(C,e)},M.resetDefaultOptions=function(e){"string"===typeof e?y[e]=null:(C=Object(r["a"])({},m),y={})},M.allowMultiple=function(e){void 0===e&&(e=!0),b=e},M.install=function(){o["a"].use(g)},o["a"].prototype.$toast=M;t["a"]=M},"2f50":function(e,t,n){},"2f77":function(e,t){t.f=Object.getOwnPropertySymbols},"2fd4":function(e,t,n){var r=n("fb68"),o=n("75c4"),i=n("cb3d")("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},"32b9":function(e,t,n){"use strict";var r=n("e005"),o=n("cc33"),i=n("399f"),a={};n("86d4")(a,n("cb3d")("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r(a,{next:o(1,n)}),i(e,t+" Iterator")}},3360:function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return u}));var r="#fff",o="van-hairline",i=o+"--top",a=o+"--left",s=o+"--surround",u=o+"--top-bottom"},3387:function(e,t,n){var r=n("e7ad"),o=n("da9f").set,i=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,u="process"==n("75c4")(a);e.exports=function(){var e,t,n,c=function(){var r,o;u&&(r=a.domain)&&r.exit();while(e){o=e.fn,e=e.next;try{o()}catch(i){throw e?n():t=void 0,i}}t=void 0,r&&r.enter()};if(u)n=function(){a.nextTick(c)};else if(!i||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var l=s.resolve(void 0);n=function(){l.then(c)}}else n=function(){o.call(r,c)};else{var f=!0,p=document.createTextNode("");new i(c).observe(p,{characterData:!0}),n=function(){p.data=f=!f}}return function(r){var o={fn:r,next:void 0};t&&(t.next=o),e||(e=o,n()),t=o}}},"383f":function(e,t,n){"use strict";function r(e){var t=e.parentNode;t&&t.removeChild(e)}n.d(t,"a",(function(){return r}))},"38d8":function(e,t,n){},"399f":function(e,t,n){var r=n("064e").f,o=n("e042"),i=n("cb3d")("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},"3a9d":function(e,t,n){"use strict";var r=n("5daa");function o(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)}e.exports.f=function(e){return new o(e)}},"40b2":function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},"419a":function(e,t,n){var r=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,o="function"===typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n,r){var o=t&&t.prototype instanceof g?t:g,i=Object.create(o.prototype),a=new T(r||[]);return i._invoke=w(e,n,a),i}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}e.wrap=u;var l="suspendedStart",f="suspendedYield",p="executing",h="completed",d={};function g(){}function v(){}function m(){}var y={};y[i]=function(){return this};var _=Object.getPrototypeOf,b=_&&_(_(O([])));b&&b!==n&&r.call(b,i)&&(y=b);var C=m.prototype=g.prototype=Object.create(y);function S(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function I(e,t){function n(o,i,a,s){var u=c(e[o],e,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(f).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,s)}))}s(u.arg)}var o;function i(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}this._invoke=i}function w(e,t,n){var r=l;return function(o,i){if(r===p)throw new Error("Generator is already running");if(r===h){if("throw"===o)throw i;return D()}n.method=o,n.arg=i;while(1){var a=n.delegate;if(a){var s=M(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===l)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var u=c(e,t,n);if("normal"===u.type){if(r=n.done?h:f,u.arg===d)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=h,n.method="throw",n.arg=u.arg)}}}function M(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator["return"]&&(n.method="return",n.arg=t,M(e,n),"throw"===n.method))return d;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var o=c(r,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,d;var i=o.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,d):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,d)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function O(e){if(e){var n=e[i];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){while(++o<e.length)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:D}}function D(){return{value:t,done:!0}}return v.prototype=C.constructor=m,m.constructor=v,m[s]=v.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(C),e},e.awrap=function(e){return{__await:e}},S(I.prototype),I.prototype[a]=function(){return this},e.AsyncIterator=I,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new I(u(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},S(C),C[s]="Generator",C[i]=function(){return this},C.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){while(t.length){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=O,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;k(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:O(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),d}},e}(e.exports);try{regeneratorRuntime=r}catch(o){Function("r","regeneratorRuntime = r")(r)}},4614:function(e,t,n){"use strict";var r=n("23c4"),o=n.n(r),i=n("f25d"),a=n("083c"),s=n("28bd"),u=Object(i["a"])("loading"),c=u[0],l=u[1];function f(e,t){if("spinner"===t.type){for(var n=[],r=0;r<12;r++)n.push(e("i"));return n}return e("svg",{class:l("circular"),attrs:{viewBox:"25 25 50 50"}},[e("circle",{attrs:{cx:"50",cy:"50",r:"20",fill:"none"}})])}function p(e,t,n){if(n.default){var r=t.textSize&&{fontSize:Object(a["a"])(t.textSize)};return e("span",{class:l("text"),style:r},[n.default()])}}function h(e,t,n,r){var i=t.color,u=t.size,c=t.type,h={color:i};if(u){var d=Object(a["a"])(u);h.width=d,h.height=d}return e("div",o()([{class:l([c,{vertical:t.vertical}])},Object(s["b"])(r,!0)]),[e("span",{class:l("spinner",c),style:h},[f(e,t)]),p(e,t,n)])}h.props={color:String,size:[Number,String],vertical:Boolean,textSize:[Number,String],type:{type:String,default:"circular"}},t["a"]=c(h)},4637:function(e,t,n){},"475d":function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},"48d4":function(e,t,n){"use strict";var r=n("23c4"),o=n.n(r),i=n("f25d"),a=n("ea6e"),s=n("28bd"),u=Object(i["a"])("info"),c=u[0],l=u[1];function f(e,t,n,r){var i=t.dot,u=t.info,c=Object(a["b"])(u)&&""!==u;if(i||c)return e("div",o()([{class:l({dot:i})},Object(s["b"])(r,!0)]),[i?"":t.info])}f.props={dot:Boolean,info:[Number,String]},t["a"]=c(f)},"492d":function(e,t,n){"use strict";var r=n("550e"),o=n("e46b"),i=n("bf16"),a=n("86d4"),s=n("da6d"),u=n("32b9"),c=n("399f"),l=n("58cf"),f=n("cb3d")("iterator"),p=!([].keys&&"next"in[].keys()),h="@@iterator",d="keys",g="values",v=function(){return this};e.exports=function(e,t,n,m,y,_,b){u(n,t,m);var C,S,I,w=function(e){if(!p&&e in T)return T[e];switch(e){case d:return function(){return new n(this,e)};case g:return function(){return new n(this,e)}}return function(){return new n(this,e)}},M=t+" Iterator",E=y==g,k=!1,T=e.prototype,O=T[f]||T[h]||y&&T[y],D=O||w(y),A=y?E?w("entries"):D:void 0,R="Array"==t&&T.entries||O;if(R&&(I=l(R.call(new e)),I!==Object.prototype&&I.next&&(c(I,M,!0),r||"function"==typeof I[f]||a(I,f,v))),E&&O&&O.name!==g&&(k=!0,D=function(){return O.call(this)}),r&&!b||!p&&!k&&T[f]||a(T,f,D),s[t]=D,s[M]=v,y)if(C={values:E?D:w(g),keys:_?D:w(d),entries:A},b)for(S in C)S in T||i(T,S,C[S]);else o(o.P+o.F*(p||k),t,C);return C}},"4a76":function(e,t,n){"use strict";var r=n("5a2a"),o=n.n(r);t["a"]=o.a},"4b1f":function(e,t,n){"use strict";function r(e){return e===window}n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"h",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"g",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return f})),n.d(t,"f",(function(){return p}));var o=/scroll|auto/i;function i(e,t){void 0===t&&(t=window);var n=e;while(n&&"HTML"!==n.tagName&&1===n.nodeType&&n!==t){var r=window.getComputedStyle(n),i=r.overflowY;if(o.test(i)){if("BODY"!==n.tagName)return n;var a=window.getComputedStyle(n.parentNode),s=a.overflowY;if(o.test(s))return n}n=n.parentNode}return t}function a(e){return"scrollTop"in e?e.scrollTop:e.pageYOffset}function s(e,t){"scrollTop"in e?e.scrollTop=t:e.scrollTo(e.scrollX,t)}function u(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}function c(e){s(window,e),s(document.body,e)}function l(e,t){if(r(e))return 0;var n=t?a(t):u();return e.getBoundingClientRect().top+n}function f(e){return r(e)?e.innerHeight:e.getBoundingClientRect().height}function p(e){return r(e)?0:e.getBoundingClientRect().top}},"4ba2":function(e,t,n){var r=n("2ea2"),o=n("2f77"),i=n("69b3"),a=n("e7ad").Reflect;e.exports=a&&a.ownKeys||function(e){var t=r.f(i(e)),n=o.f;return n?t.concat(n(e)):t}},"4c39":function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}function u(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(function(){try{n="function"===typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"===typeof clearTimeout?clearTimeout:a}catch(e){r=a}})();var c,l=[],f=!1,p=-1;function h(){f&&c&&(f=!1,c.length?l=c.concat(l):p=-1,l.length&&d())}function d(){if(!f){var e=s(h);f=!0;var t=l.length;while(t){c=l,l=[];while(++p<t)c&&c[p].run();p=-1,t=l.length}c=null,f=!1,u(e)}}function g(e,t){this.fun=e,this.array=t}function v(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new g(e,t)),1!==l.length||f||s(d)},g.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},"4ce5":function(e,t,n){var r=n("5daa");e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},"4f18":function(e,t){t.f={}.propertyIsEnumerable},"54d0":function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function o(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function i(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function a(e){return r(e)||o(e)||i()}n.d(t,"a",(function(){return a}))},"550e":function(e,t){e.exports=!1},5661:function(e,t,n){"use strict";n("2698"),n("a7d0"),n("72e1"),n("2947"),n("4637"),n("a166"),n("2f50")},"56f2":function(e,t,n){var r=n("6798")("keys"),o=n("ec45");e.exports=function(e){return r[e]||(r[e]=o(e))}},"58cf":function(e,t,n){var r=n("e042"),o=n("008a"),i=n("56f2")("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),r(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},"59c9":function(e,t,n){"use strict";var r=n("0260");e.exports=r.isStandardBrowserEnv()?function(){return{write:function(e,t,n,o,i,a){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(o)&&s.push("path="+o),r.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},"5a2a":function(e,t,n){
/*!
 * Vue-Lazyload.js v1.2.3
 * (c) 2018 Awe <hilongjw@gmail.com>
 * Released under the MIT License.
 */
!function(t,n){e.exports=n()}(0,(function(){"use strict";function e(e){return e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function t(e){e=e||{};var t=arguments.length,o=0;if(1===t)return e;for(;++o<t;){var i=arguments[o];y(e)&&(e=i),r(i)&&n(e,i)}return e}function n(e,n){for(var i in _(e,n),n)if("__proto__"!==i&&o(n,i)){var a=n[i];r(a)?("undefined"===C(e[i])&&"function"===C(a)&&(e[i]=a),e[i]=t(e[i]||{},a)):e[i]=a}return e}function r(e){return"object"===C(e)||"function"===C(e)}function o(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function i(e,t){if(e.length){var n=e.indexOf(t);return n>-1?e.splice(n,1):void 0}}function a(e,t){for(var n=!1,r=0,o=e.length;r<o;r++)if(t(e[r])){n=!0;break}return n}function s(e,t){if("IMG"===e.tagName&&e.getAttribute("data-srcset")){var n=e.getAttribute("data-srcset"),r=[],o=e.parentNode,i=o.offsetWidth*t,a=void 0,s=void 0,u=void 0;n=n.trim().split(","),n.map((function(e){e=e.trim(),a=e.lastIndexOf(" "),-1===a?(s=e,u=999998):(s=e.substr(0,a),u=parseInt(e.substr(a+1,e.length-a-2),10)),r.push([u,s])})),r.sort((function(e,t){if(e[0]<t[0])return-1;if(e[0]>t[0])return 1;if(e[0]===t[0]){if(-1!==t[1].indexOf(".webp",t[1].length-5))return 1;if(-1!==e[1].indexOf(".webp",e[1].length-5))return-1}return 0}));for(var c="",l=void 0,f=r.length,p=0;p<f;p++)if(l=r[p],l[0]>=i){c=l[1];break}return c}}function u(e,t){for(var n=void 0,r=0,o=e.length;r<o;r++)if(t(e[r])){n=e[r];break}return n}function c(){if(!I)return!1;var e=!0,t=document;try{var n=t.createElement("object");n.type="image/webp",n.style.visibility="hidden",n.innerHTML="!",t.body.appendChild(n),e=!n.offsetWidth,t.body.removeChild(n)}catch(t){e=!1}return e}function l(e,t){var n=null,r=0;return function(){if(!n){var o=Date.now()-r,i=this,a=arguments,s=function(){r=Date.now(),n=!1,e.apply(i,a)};o>=t?s():n=setTimeout(s,t)}}}function f(e){return null!==e&&"object"===(void 0===e?"undefined":g(e))}function p(e){if(!(e instanceof Object))return[];if(Object.keys)return Object.keys(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}function h(e){for(var t=e.length,n=[],r=0;r<t;r++)n.push(e[r]);return n}function d(){}var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),y=function(e){return null==e||"function"!=typeof e&&"object"!==(void 0===e?"undefined":g(e))},_=function(e,t){if(null===e||void 0===e)throw new TypeError("expected first argument to be an object.");if(void 0===t||"undefined"==typeof Symbol)return e;if("function"!=typeof Object.getOwnPropertySymbols)return e;for(var n=Object.prototype.propertyIsEnumerable,r=Object(e),o=arguments.length,i=0;++i<o;)for(var a=Object(arguments[i]),s=Object.getOwnPropertySymbols(a),u=0;u<s.length;u++){var c=s[u];n.call(a,c)&&(r[c]=a[c])}return r},b=Object.prototype.toString,C=function(t){var n=void 0===t?"undefined":g(t);return"undefined"===n?"undefined":null===t?"null":!0===t||!1===t||t instanceof Boolean?"boolean":"string"===n||t instanceof String?"string":"number"===n||t instanceof Number?"number":"function"===n||t instanceof Function?void 0!==t.constructor.name&&"Generator"===t.constructor.name.slice(0,9)?"generatorfunction":"function":void 0!==Array.isArray&&Array.isArray(t)?"array":t instanceof RegExp?"regexp":t instanceof Date?"date":(n=b.call(t),"[object RegExp]"===n?"regexp":"[object Date]"===n?"date":"[object Arguments]"===n?"arguments":"[object Error]"===n?"error":"[object Promise]"===n?"promise":e(t)?"buffer":"[object Set]"===n?"set":"[object WeakSet]"===n?"weakset":"[object Map]"===n?"map":"[object WeakMap]"===n?"weakmap":"[object Symbol]"===n?"symbol":"[object Map Iterator]"===n?"mapiterator":"[object Set Iterator]"===n?"setiterator":"[object String Iterator]"===n?"stringiterator":"[object Array Iterator]"===n?"arrayiterator":"[object Int8Array]"===n?"int8array":"[object Uint8Array]"===n?"uint8array":"[object Uint8ClampedArray]"===n?"uint8clampedarray":"[object Int16Array]"===n?"int16array":"[object Uint16Array]"===n?"uint16array":"[object Int32Array]"===n?"int32array":"[object Uint32Array]"===n?"uint32array":"[object Float32Array]"===n?"float32array":"[object Float64Array]"===n?"float64array":"object")},S=t,I="undefined"!=typeof window,w=I&&"IntersectionObserver"in window,M={event:"event",observer:"observer"},E=function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}if(I)return"function"==typeof window.CustomEvent?window.CustomEvent:(e.prototype=window.Event.prototype,e)}(),k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return I&&window.devicePixelRatio||e},T=function(){if(I){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t)}catch(e){}return e}}(),O={on:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];T?e.addEventListener(t,n,{capture:r,passive:!0}):e.addEventListener(t,n,r)},off:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.removeEventListener(t,n,r)}},D=function(e,t,n){var r=new Image;r.src=e.src,r.onload=function(){t({naturalHeight:r.naturalHeight,naturalWidth:r.naturalWidth,src:r.src})},r.onerror=function(e){n(e)}},A=function(e,t){return"undefined"!=typeof getComputedStyle?getComputedStyle(e,null).getPropertyValue(t):e.style[t]},R=function(e){return A(e,"overflow")+A(e,"overflow-y")+A(e,"overflow-x")},x=function(e){if(I){if(!(e instanceof HTMLElement))return window;for(var t=e;t&&t!==document.body&&t!==document.documentElement&&t.parentNode;){if(/(scroll|auto)/.test(R(t)))return t;t=t.parentNode}return window}},L={},N=function(){function e(t){var n=t.el,r=t.src,o=t.error,i=t.loading,a=t.bindType,s=t.$parent,u=t.options,c=t.elRenderer;v(this,e),this.el=n,this.src=r,this.error=o,this.loading=i,this.bindType=a,this.attempt=0,this.naturalHeight=0,this.naturalWidth=0,this.options=u,this.rect=null,this.$parent=s,this.elRenderer=c,this.performanceData={init:Date.now(),loadStart:0,loadEnd:0},this.filter(),this.initState(),this.render("loading",!1)}return m(e,[{key:"initState",value:function(){this.el.dataset.src=this.src,this.state={error:!1,loaded:!1,rendered:!1}}},{key:"record",value:function(e){this.performanceData[e]=Date.now()}},{key:"update",value:function(e){var t=e.src,n=e.loading,r=e.error,o=this.src;this.src=t,this.loading=n,this.error=r,this.filter(),o!==this.src&&(this.attempt=0,this.initState())}},{key:"getRect",value:function(){this.rect=this.el.getBoundingClientRect()}},{key:"checkInView",value:function(){return this.getRect(),this.rect.top<window.innerHeight*this.options.preLoad&&this.rect.bottom>this.options.preLoadTop&&this.rect.left<window.innerWidth*this.options.preLoad&&this.rect.right>0}},{key:"filter",value:function(){var e=this;p(this.options.filter).map((function(t){e.options.filter[t](e,e.options)}))}},{key:"renderLoading",value:function(e){var t=this;D({src:this.loading},(function(n){t.render("loading",!1),e()}),(function(){e(),t.options.silent||console.warn("VueLazyload log: load failed with loading image("+t.loading+")")}))}},{key:"load",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;return this.attempt>this.options.attempt-1&&this.state.error?(this.options.silent||console.log("VueLazyload log: "+this.src+" tried too more than "+this.options.attempt+" times"),void t()):this.state.loaded||L[this.src]?(this.state.loaded=!0,t(),this.render("loaded",!0)):void this.renderLoading((function(){e.attempt++,e.record("loadStart"),D({src:e.src},(function(n){e.naturalHeight=n.naturalHeight,e.naturalWidth=n.naturalWidth,e.state.loaded=!0,e.state.error=!1,e.record("loadEnd"),e.render("loaded",!1),L[e.src]=1,t()}),(function(t){!e.options.silent&&console.error(t),e.state.error=!0,e.state.loaded=!1,e.render("error",!1)}))}))}},{key:"render",value:function(e,t){this.elRenderer(this,e,t)}},{key:"performance",value:function(){var e="loading",t=0;return this.state.loaded&&(e="loaded",t=(this.performanceData.loadEnd-this.performanceData.loadStart)/1e3),this.state.error&&(e="error"),{src:this.src,state:e,time:t}}},{key:"destroy",value:function(){this.el=null,this.src=null,this.error=null,this.loading=null,this.bindType=null,this.attempt=0}}]),e}(),P="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",G=["scroll","wheel","mousewheel","resize","animationend","transitionend","touchmove"],U={rootMargin:"0px",threshold:0},q=function(e){return function(){function t(e){var n=e.preLoad,r=e.error,o=e.throttleWait,i=e.preLoadTop,a=e.dispatchEvent,s=e.loading,u=e.attempt,f=e.silent,p=void 0===f||f,h=e.scale,d=e.listenEvents,g=(e.hasbind,e.filter),m=e.adapter,y=e.observer,_=e.observerOptions;v(this,t),this.version="1.2.3",this.mode=M.event,this.ListenerQueue=[],this.TargetIndex=0,this.TargetQueue=[],this.options={silent:p,dispatchEvent:!!a,throttleWait:o||200,preLoad:n||1.3,preLoadTop:i||0,error:r||P,loading:s||P,attempt:u||3,scale:h||k(h),ListenEvents:d||G,hasbind:!1,supportWebp:c(),filter:g||{},adapter:m||{},observer:!!y,observerOptions:_||U},this._initEvent(),this.lazyLoadHandler=l(this._lazyLoadHandler.bind(this),this.options.throttleWait),this.setMode(this.options.observer?M.observer:M.event)}return m(t,[{key:"config",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};S(this.options,e)}},{key:"performance",value:function(){var e=[];return this.ListenerQueue.map((function(t){e.push(t.performance())})),e}},{key:"addLazyBox",value:function(e){this.ListenerQueue.push(e),I&&(this._addListenerTarget(window),this._observer&&this._observer.observe(e.el),e.$el&&e.$el.parentNode&&this._addListenerTarget(e.$el.parentNode))}},{key:"add",value:function(t,n,r){var o=this;if(a(this.ListenerQueue,(function(e){return e.el===t})))return this.update(t,n),e.nextTick(this.lazyLoadHandler);var i=this._valueFormatter(n.value),u=i.src,c=i.loading,l=i.error;e.nextTick((function(){u=s(t,o.options.scale)||u,o._observer&&o._observer.observe(t);var i=Object.keys(n.modifiers)[0],a=void 0;i&&(a=r.context.$refs[i],a=a?a.$el||a:document.getElementById(i)),a||(a=x(t));var f=new N({bindType:n.arg,$parent:a,el:t,loading:c,error:l,src:u,elRenderer:o._elRenderer.bind(o),options:o.options});o.ListenerQueue.push(f),I&&(o._addListenerTarget(window),o._addListenerTarget(a)),o.lazyLoadHandler(),e.nextTick((function(){return o.lazyLoadHandler()}))}))}},{key:"update",value:function(t,n){var r=this,o=this._valueFormatter(n.value),i=o.src,a=o.loading,c=o.error;i=s(t,this.options.scale)||i;var l=u(this.ListenerQueue,(function(e){return e.el===t}));l&&l.update({src:i,loading:a,error:c}),this._observer&&(this._observer.unobserve(t),this._observer.observe(t)),this.lazyLoadHandler(),e.nextTick((function(){return r.lazyLoadHandler()}))}},{key:"remove",value:function(e){if(e){this._observer&&this._observer.unobserve(e);var t=u(this.ListenerQueue,(function(t){return t.el===e}));t&&(this._removeListenerTarget(t.$parent),this._removeListenerTarget(window),i(this.ListenerQueue,t)&&t.destroy())}}},{key:"removeComponent",value:function(e){e&&(i(this.ListenerQueue,e),this._observer&&this._observer.unobserve(e.el),e.$parent&&e.$el.parentNode&&this._removeListenerTarget(e.$el.parentNode),this._removeListenerTarget(window))}},{key:"setMode",value:function(e){var t=this;w||e!==M.observer||(e=M.event),this.mode=e,e===M.event?(this._observer&&(this.ListenerQueue.forEach((function(e){t._observer.unobserve(e.el)})),this._observer=null),this.TargetQueue.forEach((function(e){t._initListen(e.el,!0)}))):(this.TargetQueue.forEach((function(e){t._initListen(e.el,!1)})),this._initIntersectionObserver())}},{key:"_addListenerTarget",value:function(e){if(e){var t=u(this.TargetQueue,(function(t){return t.el===e}));return t?t.childrenCount++:(t={el:e,id:++this.TargetIndex,childrenCount:1,listened:!0},this.mode===M.event&&this._initListen(t.el,!0),this.TargetQueue.push(t)),this.TargetIndex}}},{key:"_removeListenerTarget",value:function(e){var t=this;this.TargetQueue.forEach((function(n,r){n.el===e&&(--n.childrenCount||(t._initListen(n.el,!1),t.TargetQueue.splice(r,1),n=null))}))}},{key:"_initListen",value:function(e,t){var n=this;this.options.ListenEvents.forEach((function(r){return O[t?"on":"off"](e,r,n.lazyLoadHandler)}))}},{key:"_initEvent",value:function(){var e=this;this.Event={listeners:{loading:[],loaded:[],error:[]}},this.$on=function(t,n){e.Event.listeners[t].push(n)},this.$once=function(t,n){function r(){o.$off(t,r),n.apply(o,arguments)}var o=e;e.$on(t,r)},this.$off=function(t,n){n?i(e.Event.listeners[t],n):e.Event.listeners[t]=[]},this.$emit=function(t,n,r){e.Event.listeners[t].forEach((function(e){return e(n,r)}))}}},{key:"_lazyLoadHandler",value:function(){var e=this;this.ListenerQueue.forEach((function(t,n){t.state.loaded||t.checkInView()&&t.load((function(){!t.error&&t.loaded&&e.ListenerQueue.splice(n,1)}))}))}},{key:"_initIntersectionObserver",value:function(){var e=this;w&&(this._observer=new IntersectionObserver(this._observerHandler.bind(this),this.options.observerOptions),this.ListenerQueue.length&&this.ListenerQueue.forEach((function(t){e._observer.observe(t.el)})))}},{key:"_observerHandler",value:function(e,t){var n=this;e.forEach((function(e){e.isIntersecting&&n.ListenerQueue.forEach((function(t){if(t.el===e.target){if(t.state.loaded)return n._observer.unobserve(t.el);t.load()}}))}))}},{key:"_elRenderer",value:function(e,t,n){if(e.el){var r=e.el,o=e.bindType,i=void 0;switch(t){case"loading":i=e.loading;break;case"error":i=e.error;break;default:i=e.src}if(o?r.style[o]='url("'+i+'")':r.getAttribute("src")!==i&&r.setAttribute("src",i),r.setAttribute("lazy",t),this.$emit(t,e,n),this.options.adapter[t]&&this.options.adapter[t](e,this.options),this.options.dispatchEvent){var a=new E(t,{detail:e});r.dispatchEvent(a)}}}},{key:"_valueFormatter",value:function(e){var t=e,n=this.options.loading,r=this.options.error;return f(e)&&(e.src||this.options.silent||console.error("Vue Lazyload warning: miss src with "+e),t=e.src,n=e.loading||this.options.loading,r=e.error||this.options.error),{src:t,loading:n,error:r}}}]),t}()},j=function(e){return{props:{tag:{type:String,default:"div"}},render:function(e){return!1===this.show?e(this.tag):e(this.tag,null,this.$slots.default)},data:function(){return{el:null,state:{loaded:!1},rect:{},show:!1}},mounted:function(){this.el=this.$el,e.addLazyBox(this),e.lazyLoadHandler()},beforeDestroy:function(){e.removeComponent(this)},methods:{getRect:function(){this.rect=this.$el.getBoundingClientRect()},checkInView:function(){return this.getRect(),I&&this.rect.top<window.innerHeight*e.options.preLoad&&this.rect.bottom>0&&this.rect.left<window.innerWidth*e.options.preLoad&&this.rect.right>0},load:function(){this.show=!0,this.state.loaded=!0,this.$emit("show",this)}}}},F=function(){function e(t){var n=t.lazy;v(this,e),this.lazy=n,n.lazyContainerMananger=this,this._queue=[]}return m(e,[{key:"bind",value:function(e,t,n){var r=new B({el:e,binding:t,vnode:n,lazy:this.lazy});this._queue.push(r)}},{key:"update",value:function(e,t,n){var r=u(this._queue,(function(t){return t.el===e}));r&&r.update({el:e,binding:t,vnode:n})}},{key:"unbind",value:function(e,t,n){var r=u(this._queue,(function(t){return t.el===e}));r&&(r.clear(),i(this._queue,r))}}]),e}(),$={selector:"img"},B=function(){function e(t){var n=t.el,r=t.binding,o=t.vnode,i=t.lazy;v(this,e),this.el=null,this.vnode=o,this.binding=r,this.options={},this.lazy=i,this._queue=[],this.update({el:n,binding:r})}return m(e,[{key:"update",value:function(e){var t=this,n=e.el,r=e.binding;this.el=n,this.options=S({},$,r.value),this.getImgs().forEach((function(e){t.lazy.add(e,S({},t.binding,{value:{src:e.dataset.src,error:e.dataset.error,loading:e.dataset.loading}}),t.vnode)}))}},{key:"getImgs",value:function(){return h(this.el.querySelectorAll(this.options.selector))}},{key:"clear",value:function(){var e=this;this.getImgs().forEach((function(t){return e.lazy.remove(t)})),this.vnode=null,this.binding=null,this.lazy=null}}]),e}();return{install:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=q(e),r=new n(t),o=new F({lazy:r}),i="2"===e.version.split(".")[0];e.prototype.$Lazyload=r,t.lazyComponent&&e.component("lazy-component",j(r)),i?(e.directive("lazy",{bind:r.add.bind(r),update:r.update.bind(r),componentUpdated:r.lazyLoadHandler.bind(r),unbind:r.remove.bind(r)}),e.directive("lazy-container",{bind:o.bind.bind(o),update:o.update.bind(o),unbind:o.unbind.bind(o)})):(e.directive("lazy",{bind:r.lazyLoadHandler.bind(r),update:function(e,t){S(this.vm.$refs,this.vm.$els),r.add(this.el,{modifiers:this.modifiers||{},arg:this.arg,value:e,oldValue:t},{context:this.vm})},unbind:function(){r.remove(this.el)}}),e.directive("lazy-container",{update:function(e,t){o.update(this.el,{modifiers:this.modifiers||{},arg:this.arg,value:e,oldValue:t},{context:this.vm})},unbind:function(){o.unbind(this.el)}}))}}}))},"5ab2":function(e,t,n){var r=n("e46b"),o=n("4ba2"),i=n("09b9"),a=n("dcb7"),s=n("ebc3");r(r.S,"Object",{getOwnPropertyDescriptors:function(e){var t,n,r=i(e),u=a.f,c=o(r),l={},f=0;while(c.length>f)n=u(r,t=c[f++]),void 0!==n&&s(l,t,n);return l}})},"5daa":function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},"5dd2":function(e,t,n){var r=n("81dc");e.exports=function(e,t){return new(r(e))(t)}},"5f54":function(e,t,n){var r=n("e46b");r(r.S+r.F,"Object",{assign:n("e118")})},"5f9d":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("24b9");function o(e){function t(){this.binded||(e.call(this,r["b"],!0),this.binded=!0)}function n(){this.binded&&(e.call(this,r["a"],!1),this.binded=!1)}return{mounted:t,activated:t,deactivated:n,beforeDestroy:n}}},"5fad":function(e,t,n){"use strict";var r=n("0260"),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,i,a={};return e?(r.forEach(e.split("\n"),(function(e){if(i=e.indexOf(":"),t=r.trim(e.substr(0,i)).toLowerCase(),n=r.trim(e.substr(i+1)),t){if(a[t]&&o.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}})),a):a}},6016:function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},"623f":function(e,t,n){"use strict";function r(e,t,n,r,o,i,a,s){var u,c="function"===typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),a?(u=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},c._ssrRegister=u):o&&(u=s?function(){o.call(this,this.$root.$options.shadowRoot)}:o),u)if(c.functional){c._injectStyles=u;var l=c.render;c.render=function(e,t){return u.call(t),l(e,t)}}else{var f=c.beforeCreate;c.beforeCreate=f?[].concat(f,u):[u]}return{exports:e,options:c}}n.d(t,"a",(function(){return r}))},6648:function(e,t,n){"use strict";var r,o,i,a,s=n("550e"),u=n("e7ad"),c=n("4ce5"),l=n("7e23"),f=n("e46b"),p=n("fb68"),h=n("5daa"),d=n("a73b"),g=n("206c"),v=n("f63e"),m=n("da9f").set,y=n("3387")(),_=n("3a9d"),b=n("1fb4"),C=n("6bf0"),S=n("bc0a"),I="Promise",w=u.TypeError,M=u.process,E=M&&M.versions,k=E&&E.v8||"",T=u[I],O="process"==l(M),D=function(){},A=o=_.f,R=!!function(){try{var e=T.resolve(1),t=(e.constructor={})[n("cb3d")("species")]=function(e){e(D,D)};return(O||"function"==typeof PromiseRejectionEvent)&&e.then(D)instanceof t&&0!==k.indexOf("6.6")&&-1===C.indexOf("Chrome/66")}catch(r){}}(),x=function(e){var t;return!(!p(e)||"function"!=typeof(t=e.then))&&t},L=function(e,t){if(!e._n){e._n=!0;var n=e._c;y((function(){var r=e._v,o=1==e._s,i=0,a=function(t){var n,i,a,s=o?t.ok:t.fail,u=t.resolve,c=t.reject,l=t.domain;try{s?(o||(2==e._h&&G(e),e._h=1),!0===s?n=r:(l&&l.enter(),n=s(r),l&&(l.exit(),a=!0)),n===t.promise?c(w("Promise-chain cycle")):(i=x(n))?i.call(n,u,c):u(n)):c(r)}catch(f){l&&!a&&l.exit(),c(f)}};while(n.length>i)a(n[i++]);e._c=[],e._n=!1,t&&!e._h&&N(e)}))}},N=function(e){m.call(u,(function(){var t,n,r,o=e._v,i=P(e);if(i&&(t=b((function(){O?M.emit("unhandledRejection",o,e):(n=u.onunhandledrejection)?n({promise:e,reason:o}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",o)})),e._h=O||P(e)?2:1),e._a=void 0,i&&t.e)throw t.v}))},P=function(e){return 1!==e._h&&0===(e._a||e._c).length},G=function(e){m.call(u,(function(){var t;O?M.emit("rejectionHandled",e):(t=u.onrejectionhandled)&&t({promise:e,reason:e._v})}))},U=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),L(t,!0))},q=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw w("Promise can't be resolved itself");(t=x(e))?y((function(){var r={_w:n,_d:!1};try{t.call(e,c(q,r,1),c(U,r,1))}catch(o){U.call(r,o)}})):(n._v=e,n._s=1,L(n,!1))}catch(r){U.call({_w:n,_d:!1},r)}}};R||(T=function(e){d(this,T,I,"_h"),h(e),r.call(this);try{e(c(q,this,1),c(U,this,1))}catch(t){U.call(this,t)}},r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=n("ef91")(T.prototype,{then:function(e,t){var n=A(v(this,T));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=O?M.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&L(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r;this.promise=e,this.resolve=c(q,e,1),this.reject=c(U,e,1)},_.f=A=function(e){return e===T||e===a?new i(e):o(e)}),f(f.G+f.W+f.F*!R,{Promise:T}),n("399f")(T,I),n("1157")(I),a=n("7ddc")[I],f(f.S+f.F*!R,I,{reject:function(e){var t=A(this),n=t.reject;return n(e),t.promise}}),f(f.S+f.F*(s||!R),I,{resolve:function(e){return S(s&&this===a?T:this,e)}}),f(f.S+f.F*!(R&&n("d0c5")((function(e){T.all(e)["catch"](D)}))),I,{all:function(e){var t=this,n=A(t),r=n.resolve,o=n.reject,i=b((function(){var n=[],i=0,a=1;g(e,!1,(function(e){var s=i++,u=!1;n.push(void 0),a++,t.resolve(e).then((function(e){u||(u=!0,n[s]=e,--a||r(n))}),o)})),--a||r(n)}));return i.e&&o(i.v),n.promise},race:function(e){var t=this,n=A(t),r=n.reject,o=b((function(){g(e,!1,(function(e){t.resolve(e).then(n.resolve,r)}))}));return o.e&&r(o.v),n.promise}})},"66e2":function(e,t,n){"use strict";n("2698")},6746:function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},6798:function(e,t,n){var r=n("7ddc"),o=n("e7ad"),i="__core-js_shared__",a=o[i]||(o[i]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n("550e")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},"69b3":function(e,t,n){var r=n("fb68");e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},"6bf0":function(e,t,n){var r=n("e7ad"),o=r.navigator;e.exports=o&&o.userAgent||""},"6d57":function(e,t,n){for(var r=n("e44b"),o=n("80a9"),i=n("bf16"),a=n("e7ad"),s=n("86d4"),u=n("da6d"),c=n("cb3d"),l=c("iterator"),f=c("toStringTag"),p=u.Array,h={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},d=o(h),g=0;g<d.length;g++){var v,m=d[g],y=h[m],_=a[m],b=_&&_.prototype;if(b&&(b[l]||s(b,l,p),b[f]||s(b,f,m),u[m]=p,y))for(v in r)b[v]||i(b,v,r[v],!0)}},7108:function(e,t,n){"use strict";var r=n("7e23"),o=RegExp.prototype.exec;e.exports=function(e,t){var n=e.exec;if("function"===typeof n){var i=n.call(e,t);if("object"!==typeof i)throw new TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(e))throw new TypeError("RegExp#exec called on incompatible receiver");return o.call(e,t)}},"72e1":function(e,t,n){},"75c4":function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},"777a":function(e,t,n){var r=n("e46b"),o=n("f6b4"),i=n("238a"),a=n("9769"),s="["+a+"]",u="​",c=RegExp("^"+s+s+"*"),l=RegExp(s+s+"*$"),f=function(e,t,n){var o={},s=i((function(){return!!a[e]()||u[e]()!=u})),c=o[e]=s?t(p):a[e];n&&(o[n]=c),r(r.P+r.F*s,"String",o)},p=f.trim=function(e,t){return e=String(o(e)),1&t&&(e=e.replace(c,"")),2&t&&(e=e.replace(l,"")),e};e.exports=f},"77e5":function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},7847:function(e,t,n){"use strict";var r=n("0260");e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=o(window.location.href),function(t){var n=r.isString(t)?o(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return function(){return!0}}()},"7a07":function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},"7c0a":function(e,t,n){var r=n("2fd4"),o=n("f6b4");e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(o(e))}},"7c28":function(e,t,n){"use strict";var r=n("23c4"),o=n.n(r),i=n("caa2");function a(e,t){if(t){var n=e.indexOf(".");n>-1&&(e=e.slice(0,n+1)+e.slice(n).replace(/\./g,""))}var r=t?/[^0-9.]/g:/\D/g;return e.replace(r,"")}var s=n("ea6e");function u(){return!s["f"]&&/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase())}var c=n("24b9"),l=n("4b1f"),f=u();function p(){f&&Object(l["g"])(Object(l["b"])())}var h=n("f25d"),d=n("083c"),g=n("a9f0"),v=n("fad3"),m=n("8ff2"),y=Object(h["a"])("field"),_=y[0],b=y[1];t["a"]=_({inheritAttrs:!1,provide:function(){return{vanField:this}},inject:{vanForm:{default:null}},props:Object(i["a"])({},m["a"],{name:String,rules:Array,error:Boolean,disabled:Boolean,readonly:Boolean,autosize:[Boolean,Object],leftIcon:String,rightIcon:String,clearable:Boolean,formatter:Function,maxlength:[Number,String],labelWidth:[Number,String],labelClass:null,labelAlign:String,inputAlign:String,placeholder:String,errorMessage:String,errorMessageAlign:String,showWordLimit:Boolean,type:{type:String,default:"text"}}),data:function(){return{focused:!1,validateMessage:""}},watch:{value:function(){this.resetValidation(),this.validateWithTrigger("onChange"),this.$nextTick(this.adjustSize)}},mounted:function(){this.format(),this.$nextTick(this.adjustSize),this.vanForm&&this.vanForm.fields.push(this)},beforeDestroy:function(){var e=this;this.vanForm&&(this.vanForm.fields=this.vanForm.fields.filter((function(t){return t!==e})))},computed:{showClear:function(){return this.clearable&&this.focused&&""!==this.value&&Object(s["b"])(this.value)&&!this.readonly},listeners:function(){var e=Object(i["a"])({},this.$listeners,{input:this.onInput,keypress:this.onKeypress,focus:this.onFocus,blur:this.onBlur});return delete e.click,e},labelStyle:function(){var e=this.getProp("labelWidth");if(e)return{width:Object(d["a"])(e)}},formValue:function(){return this.children?this.children.value:this.value}},methods:{focus:function(){this.$refs.input&&this.$refs.input.focus()},blur:function(){this.$refs.input&&this.$refs.input.blur()},runValidator:function(e,t){return new Promise((function(n){var r=t.validator(e,t);if(Object(s["e"])(r))return r.then(n);n(r)}))},isEmptyValue:function(e){return Array.isArray(e)?!e.length:!e},runSyncRule:function(e,t){return(!t.required||!this.isEmptyValue(e))&&!(t.pattern&&!t.pattern.test(e))},getRuleMessage:function(e,t){var n=t.message;return Object(s["c"])(n)?n(e,t):n},runRules:function(e){var t=this;return e.reduce((function(e,n){return e.then((function(){if(!t.validateMessage){var e=t.formValue;if(n.formatter&&(e=n.formatter(e,n)),t.runSyncRule(e,n))return n.validator?t.runValidator(e,n).then((function(r){!1===r&&(t.validateMessage=t.getRuleMessage(e,n))})):void 0;t.validateMessage=t.getRuleMessage(e,n)}}))}),Promise.resolve())},validate:function(e){var t=this;return void 0===e&&(e=this.rules),new Promise((function(n){e||n(),t.runRules(e).then((function(){t.validateMessage?n({name:t.name,message:t.validateMessage}):n()}))}))},validateWithTrigger:function(e){if(this.vanForm&&this.rules){var t=this.vanForm.validateTrigger===e,n=this.rules.filter((function(n){return n.trigger?n.trigger===e:t}));this.validate(n)}},resetValidation:function(){this.validateMessage&&(this.validateMessage="")},format:function(e){if(void 0===e&&(e=this.$refs.input),e){var t=e,n=t.value,r=this.maxlength;if(Object(s["b"])(r)&&n.length>r&&(n=n.slice(0,r),e.value=n),"number"===this.type||"digit"===this.type){var o=n,i="number"===this.type;n=a(n,i),n!==o&&(e.value=n)}if(this.formatter){var u=n;n=this.formatter(n),n!==u&&(e.value=n)}return n}},onInput:function(e){e.target.composing||this.$emit("input",this.format(e.target))},onFocus:function(e){this.focused=!0,this.$emit("focus",e),this.readonly&&this.blur()},onBlur:function(e){this.focused=!1,this.$emit("blur",e),this.validateWithTrigger("onBlur"),p()},onClick:function(e){this.$emit("click",e)},onClickLeftIcon:function(e){this.$emit("click-left-icon",e)},onClickRightIcon:function(e){this.$emit("click-right-icon",e)},onClear:function(e){Object(c["c"])(e),this.$emit("input",""),this.$emit("clear",e)},onKeypress:function(e){"search"===this.type&&13===e.keyCode&&this.blur(),this.$emit("keypress",e)},adjustSize:function(){var e=this.$refs.input;if("textarea"===this.type&&this.autosize&&e){e.style.height="auto";var t=e.scrollHeight;if(Object(s["d"])(this.autosize)){var n=this.autosize,r=n.maxHeight,o=n.minHeight;r&&(t=Math.min(t,r)),o&&(t=Math.max(t,o))}t&&(e.style.height=t+"px")}},genInput:function(){var e=this.$createElement,t=this.type,n=this.slots("input"),r=this.getProp("inputAlign");if(n)return e("div",{class:b("control",[r,"custom"])},[n]);var a={ref:"input",class:b("control",r),domProps:{value:this.value},attrs:Object(i["a"])({},this.$attrs,{name:this.name,disabled:this.disabled,readonly:this.readonly,placeholder:this.placeholder}),on:this.listeners,directives:[{name:"model",value:this.value}]};if("textarea"===t)return e("textarea",o()([{},a]));var s=t;return"number"===t&&(s="text"),"digit"===t&&(u()?(s="number",a.attrs.pattern="\\d*"):s="tel"),e("input",o()([{attrs:{type:s}},a]))},genLeftIcon:function(){var e=this.$createElement,t=this.slots("left-icon")||this.leftIcon;if(t)return e("div",{class:b("left-icon"),on:{click:this.onClickLeftIcon}},[this.slots("left-icon")||e(g["a"],{attrs:{name:this.leftIcon,classPrefix:this.iconPrefix}})])},genRightIcon:function(){var e=this.$createElement,t=this.slots,n=t("right-icon")||this.rightIcon;if(n)return e("div",{class:b("right-icon"),on:{click:this.onClickRightIcon}},[t("right-icon")||e(g["a"],{attrs:{name:this.rightIcon,classPrefix:this.iconPrefix}})])},genWordLimit:function(){var e=this.$createElement;if(this.showWordLimit&&this.maxlength){var t=this.value.length,n=t>=this.maxlength;return e("div",{class:b("word-limit")},[e("span",{class:b("word-num",{full:n})},[t]),"/",this.maxlength])}},genMessage:function(){var e=this.$createElement,t=this.errorMessage||this.validateMessage;if(t){var n=this.getProp("errorMessageAlign");return e("div",{class:b("error-message",n)},[t])}},getProp:function(e){return Object(s["b"])(this[e])?this[e]:this.vanForm&&Object(s["b"])(this.vanForm[e])?this.vanForm[e]:void 0},genLabel:function(){var e=this.$createElement,t=this.getProp("colon")?":":"";return this.slots("label")?[this.slots("label"),t]:this.label?e("span",[this.label+t]):void 0}},render:function(){var e,t=arguments[0],n=this.slots,r=this.getProp("labelAlign"),o={icon:this.genLeftIcon},i=this.genLabel();return i&&(o.title=function(){return i}),t(v["a"],{attrs:{icon:this.leftIcon,size:this.size,center:this.center,border:this.border,isLink:this.isLink,required:this.required,clickable:this.clickable,titleStyle:this.labelStyle,valueClass:b("value"),titleClass:[b("label",r),this.labelClass],arrowDirection:this.arrowDirection},scopedSlots:o,class:b((e={error:this.error||this.validateMessage},e["label-"+r]=r,e["min-height"]="textarea"===this.type&&!this.autosize,e)),on:{click:this.onClick}},[t("div",{class:b("body")},[this.genInput(),this.showClear&&t(g["a"],{attrs:{name:"clear"},class:b("clear"),on:{touchstart:this.onClear}}),this.genRightIcon(),n("button")&&t("div",{class:b("button")},[n("button")])]),this.genWordLimit(),this.genMessage()])}})},"7ddc":function(e,t){var n=e.exports={version:"2.6.11"};"number"==typeof __e&&(__e=n)},"7e23":function(e,t,n){var r=n("75c4"),o=n("cb3d")("toStringTag"),i="Arguments"==r(function(){return arguments}()),a=function(e,t){try{return e[t]}catch(n){}};e.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=a(t=Object(e),o))?n:i?r(t):"Object"==(s=r(t))&&"function"==typeof t.callee?"Arguments":s}},"7e27":function(e,t,n){!function(t,n){e.exports=n()}("undefined"!=typeof self&&self,(function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=6)}([function(e,t){function n(e,t){return new RegExp("(\\s|^)"+t+"(\\s|$)").test(e.className)}e.exports=n},function(e,t){function n(e,t,n){var r="";if("number"==typeof n.expires){var o=new Date;o.setDate(o.getDate()+n.expires),r+=";expires="+o}r+=";path="+(n.path?n.path:"/"),n.domain&&(r+=";domain="+n.domain),document.cookie=e+"="+t+r}e.exports=n},function(e,t){function n(){return document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop}e.exports=n},function(e,t){function n(e){return window.scrollTo(0,e),e}e.exports=n},function(e,t){e.exports=function(e,t,n,r){function o(){function o(){a=Number(new Date),n.apply(u,l)}function s(){i=void 0}var u=this,c=Number(new Date)-a,l=arguments;r&&!i&&o(),i&&clearTimeout(i),void 0===r&&c>e?o():!0!==t&&(i=setTimeout(r?s:o,void 0===r?e-c:e))}var i,a=0;return"boolean"!=typeof t&&(r=n,n=t,t=void 0),o}},function(e,t){function n(e,t){if("number"==typeof e&&(e=new Date(e)),!e instanceof Date)return"";var n={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours()%12==0?12:e.getHours()%12,"H+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()},r={0:"日",1:"一",2:"二",3:"三",4:"四",5:"五",6:"六"};for(var o in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),/(E+)/.test(t)&&(t=t.replace(RegExp.$1,(RegExp.$1.length>1?RegExp.$1.length>2?"星期":"周":"")+r[e.getDay()+""])),n)new RegExp("("+o+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?n[o]:("00"+n[o]).substr((""+n[o]).length)));return t}e.exports=n},function(e,t,n){var r=n(7),o=n(8),i=n(0),a=n(9),s=n(10),u=n(11),c=n(1),l=n(12),f=n(13),p=n(14),h=n(2),d=n(15),g=n(16),v=n(3),m=n(17),y=n(18),_=n(19),b=n(4),C=n(20),S=n(21),I=n(22),w=n(23),M=n(24),E=n(25),k=n(26),T=n(27),O=n(28),D=n(29),A=n(30),R=n(31),x=n(32),L=n(33),N=n(5),P=n(34),G=(n(35),n(36)),U=n(37),q=n(38),j=n(39);e.exports={arrayEqual:r,addClass:o,hasClass:i,removeClass:a,getCookie:s,removeCookie:u,setCookie:c,getOS:l,getExplore:f,versionCompare:p,getScrollTop:h,offset:d,scrollTo:g,setScrollTop:v,windowResize:m,inViewPort:y,debounce:_,throttle:b,getKeyName:C,deepClone:S,isEmptyObject:I,randomColor:w,randomNum:M,isEmail:E,isIdCard:k,isPhoneNum:T,isUrl:O,digitUppercase:D,isSupportWebP:A,formatPassTime:R,formatRemainTime:x,isSameDay:L,formatFixedDate:N,formatCount:P,parseQueryString:G,stringfyQueryString:U,getUrlParam:q,deleteUrlParam:j}},function(e,t){function n(e,t){if(e.length!=t.length)return!1;for(var r=0,o=e.length;r<o;r++)if(e[r]instanceof Array&&t[r]instanceof Array){if(!n(e[r],t[r]))return!1}else if(e[r]!==t[r])return!1;return!0}e.exports=n},function(e,t,n){function r(e,t){o(e,t)||(e.className+=" "+t)}var o=n(0);e.exports=r},function(e,t,n){function r(e,t){if(o(e,t)){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ")}}var o=n(0);e.exports=r},function(e,t){function n(e){for(var t=document.cookie.replace(/\s/g,"").split(";"),n=0;n<t.length;n++){var r=t[n].split("=");if(r[0]==e)return decodeURIComponent(r[1])}return""}e.exports=n},function(e,t,n){function r(e,t){t.expires=-1,o(e,"",t)}var o=n(1);e.exports=r},function(e,t){function n(){var e="navigator"in window&&"userAgent"in navigator&&navigator.userAgent.toLowerCase()||"",t=("navigator"in window&&"vendor"in navigator&&navigator.vendor.toLowerCase(),"navigator"in window&&"appVersion"in navigator&&navigator.appVersion.toLowerCase()||"");return/iphone/i.test(e)||/ipad/i.test(e)||/ipod/i.test(e)?"ios":/android/i.test(e)?"android":/win/i.test(t)&&/phone/i.test(e)?"windowsPhone":/mac/i.test(t)?"MacOSX":/win/i.test(t)?"windows":/linux/i.test(t)?"linux":void 0}e.exports=n},function(e,t){function n(){var e,t={},n=navigator.userAgent.toLowerCase();return(e=n.match(/rv:([\d.]+)\) like gecko/))||(e=n.match(/msie ([\d\.]+)/))?t.ie=e[1]:(e=n.match(/edge\/([\d\.]+)/))?t.edge=e[1]:(e=n.match(/firefox\/([\d\.]+)/))?t.firefox=e[1]:(e=n.match(/(?:opera|opr).([\d\.]+)/))?t.opera=e[1]:(e=n.match(/chrome\/([\d\.]+)/))?t.chrome=e[1]:(e=n.match(/version\/([\d\.]+).*safari/))&&(t.safari=e[1]),t.ie?"IE: "+t.ie:t.edge?"EDGE: "+t.edge:t.firefox?"Firefox: "+t.firefox:t.chrome?"Chrome: "+t.chrome:t.opera?"Opera: "+t.opera:t.safari?"Safari: "+t.safari:"Unkonwn"}e.exports=n},function(e,t){function n(e,t){var n,r=1,o=-1,i=0,a=String(e).split(".").map((function(e){return parseInt(e)})),s=String(t).split(".").map((function(e){return parseInt(e)})),u=Math.max(a.length,s.length);if(void 0==e||void 0==t)throw new Error;if(0==e.length&&0==t.length)return i;if(0==e.length)return o;if(0==t.length)return r;for(var c=0;c<u&&(n=function(e,t){return"number"!=typeof e&&(e=0),"number"!=typeof t&&(t=0),e>t?r:e<t?o:i}(a[c],s[c]))==i;c++);return n}e.exports=n},function(e,t){function n(e){for(var t={left:0,top:0};e;)t.left+=e.offsetLeft,t.top+=e.offsetTop,e=e.offsetParent;return t}e.exports=n},function(e,t,n){function r(e,t){if(t<0)i(e);else{var n=e-o();if(0!==n){var a=n/t*10;requestAnimationFrame((function(){Math.abs(a)>Math.abs(n)?i(o()+n):(i(o()+a),n>0&&o()>=e||n<0&&o()<=e||r(e,t-16))}))}}}var o=n(2),i=n(3);!function(){window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame}(),e.exports=r},function(e,t){function n(e,t){var n=window.innerHeight;e="function"==typeof e?e:function(){},t="function"==typeof t?t:function(){},window.addEventListener("resize",(function(){var r=window.innerHeight;r===n&&e(),r<n&&t()}))}e.exports=n},function(e,t){function n(e){var t=e.getBoundingClientRect(),n=window.innerHeight||document.documentElement.clientHeight;return parseInt(t.top)>=0&&t.bottom<=n}e.exports=n},function(e,t,n){function r(e,t,n){return void 0===n?o(e,t,!1):o(e,n,!1!==t)}var o=n(4);e.exports=r},function(e,t){function n(e){return r[e]?r[e]:(console.log("Unknow Key(Key Code:"+e+")"),"")}var r={8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"Caps Lock",27:"Escape",32:"Space",33:"Page Up",34:"Page Down",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",42:"Print Screen",45:"Insert",46:"Delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",91:"Windows",93:"Right Click",96:"Numpad 0",97:"Numpad 1",98:"Numpad 2",99:"Numpad 3",100:"Numpad 4",101:"Numpad 5",102:"Numpad 6",103:"Numpad 7",104:"Numpad 8",105:"Numpad 9",106:"Numpad *",107:"Numpad +",109:"Numpad -",110:"Numpad .",111:"Numpad /",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Num Lock",145:"Scroll Lock",182:"My Computer",183:"My Calculator",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"};e.exports=n},function(e,t){function n(e){var t;if(null==e||"object"!=(void 0===e?"undefined":r(e)))return e;if(e instanceof Date)return t=new Date,t.setTime(e.getTime()),t;if(e instanceof Array){t=[];for(var o=0,i=e.length;o<i;o++)t[o]=n(e[o]);return t}if(e instanceof Object){for(var a in t={},e)e.hasOwnProperty(a)&&(t[a]=n(e[a]));return t}throw new Error("Unable to copy values! Its type isn't supported.")}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=n},function(e,t){function n(e){return!(!e||"object"!==(void 0===e?"undefined":r(e))||Array.isArray(e))&&!Object.keys(e).length}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=n},function(e,t){function n(){return"#"+("00000"+(16777216*Math.random()<<0).toString(16)).slice(-6)}e.exports=n},function(e,t){function n(e,t){return Math.floor(Math.random()*(t-e+1))+e}e.exports=n},function(e,t){function n(e){return/\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*/.test(e)}e.exports=n},function(e,t){function n(e){return/^(^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$)|(^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])((\d{4})|\d{3}[Xx])$)$/.test(e)}e.exports=n},function(e,t){function n(e){return/^(0|86|17951)?(13[0-9]|15[012356789]|17[678]|18[0-9]|14[57])[0-9]{8}$/.test(e)}e.exports=n},function(e,t){function n(e){return/[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&\/\/=]*)/i.test(e)}e.exports=n},function(e,t){function n(e){var t=["角","分"],n=["零","壹","贰","叁","肆","伍","陆","柒","捌","玖"],r=[["元","万","亿"],["","拾","佰","仟"]],o=e<0?"欠":"";e=Math.abs(e);for(var i="",a=0;a<t.length;a++)i+=(n[Math.floor(10*e*Math.pow(10,a))%10]+t[a]).replace(/零./,"");i=i||"整",e=Math.floor(e);for(a=0;a<r[0].length&&e>0;a++){for(var s="",u=0;u<r[1].length&&e>0;u++)s=n[e%10]+r[1][u]+s,e=Math.floor(e/10);i=s.replace(/(零.)*零$/,"").replace(/^$/,"零")+r[0][a]+i}return o+i.replace(/(零.)*零元/,"元").replace(/(零.)+/g,"零").replace(/^整$/,"零元整")}e.exports=n},function(e,t){function n(){return!![].map&&0==document.createElement("canvas").toDataURL("image/webp").indexOf("data:image/webp")}e.exports=n},function(e,t,n){function r(e){var t=new Date,n=new Date(e),r=+t,i=r-e,a=parseInt(i/864e5),s=parseInt(i/36e5),u=parseInt(i/6e4),c=parseInt(a/30),l=(parseInt(c/12),t.getFullYear());return u<1?"刚刚":u>=1&&u<=59?u+"分钟前":s>=1&&s<=24?s+"小时前":s>24&&n.getFullYear()===l?o(e,"MM-dd"):o(e,"yyyy-MM-dd")}var o=n(5);e.exports=r},function(e,t){function n(e){var t=new Date,n=new Date(e),r=n.getTime()-t.getTime(),o=0,i=0,a=0,s=0;return r>=0&&(o=Math.floor(r/1e3/3600/24),i=Math.floor(r/1e3/60/60%24),a=Math.floor(r/1e3/60%60),s=Math.floor(r/1e3%60)),o+"天 "+i+"小时 "+a+"分钟 "+s+"秒"}e.exports=n},function(e,t){function n(e,t){t||(t=new Date);var n=e.getFullYear(),r=e.getMonth()+1,o=e.getDate(),i=t.getFullYear(),a=t.getMonth()+1;return o===t.getDate()&&r===a&&n===i}e.exports=n},function(e,t){function n(e){return e=parseInt(e)||0,e<1e4?e:(e/1e4).toFixed(1)+"万"}e.exports=n},function(e,t){function n(e){var t="";if(e>-1){var n=Math.floor(e/60)%60,r=e%60;n<10&&(t+="0"),t+=n+":",r<10&&(t+="0"),t+=r}return t}e.exports=n},function(e,t){function n(e){e=null==e?window.location.href:e;var t="?"===e[0]?e.substr(1):e.substring(e.lastIndexOf("?")+1);if(""===t)return{};t=t.split("&");for(var n={},r=0;r<t.length;r++){var o=t[r].split("=");n[decodeURIComponent(o[0])]=decodeURIComponent(o[1]||"")}return n}e.exports=n},function(e,t){function n(e){if(!e)return"";var t=[];for(var n in e){var r=e[n];if(r instanceof Array)for(var o=0;o<r.length;++o)t.push(encodeURIComponent(n+"["+o+"]")+"="+encodeURIComponent(r[o]));else t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]))}return t.join("&")}e.exports=n},function(e,t){function n(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),n=window.location.href.split("?"),r=n[1]&&n[1].match(t);return r?decodeURIComponent(r[2]):""}e.exports=n},function(e,t){function n(e,t){if(e){var n=e.split("?")[0]+"?",r=e.split("?")[1];if(r.indexOf(t)>-1){for(var o={},i=r.split("&"),a=0;a<i.length;a++)i[a]=i[a].split("="),o[i[a][0]]=i[a][1];return delete o[t],n+JSON.stringify(o).replace(/[\"\{\}]/g,"").replace(/\:/g,"=").replace(/\,/g,"&")}return e}return""}e.exports=n}])}))},8021:function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},"80a9":function(e,t,n){var r=n("c2f7"),o=n("ceac");e.exports=Object.keys||function(e){return r(e,o)}},"81dc":function(e,t,n){var r=n("fb68"),o=n("2346"),i=n("cb3d")("species");e.exports=function(e){var t;return o(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!o(t.prototype)||(t=void 0),r(t)&&(t=t[i],null===t&&(t=void 0))),void 0===t?Array:t}},"859b":function(e,t,n){var r=n("fb68"),o=n("69b3"),i=function(e,t){if(o(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{r=n("4ce5")(Function.call,n("dcb7").f(Object.prototype,"__proto__").set,2),r(e,[]),t=!(e instanceof Array)}catch(o){t=!0}return function(e,n){return i(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:i}},"86d4":function(e,t,n){var r=n("064e"),o=n("cc33");e.exports=n("149f")?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},8704:function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},8714:function(e,t,n){"use strict";var r=n("f1fe"),o=RegExp.prototype.exec,i=String.prototype.replace,a=o,s="lastIndex",u=function(){var e=/a/,t=/b*/g;return o.call(e,"a"),o.call(t,"a"),0!==e[s]||0!==t[s]}(),c=void 0!==/()??/.exec("")[1],l=u||c;l&&(a=function(e){var t,n,a,l,f=this;return c&&(n=new RegExp("^"+f.source+"$(?!\\s)",r.call(f))),u&&(t=f[s]),a=o.call(f,e),u&&a&&(f[s]=f.global?a.index+a[0].length:t),c&&a&&a.length>1&&i.call(a[0],n,(function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(a[l]=void 0)})),a}),e.exports=a},"8ad2":function(e,t,n){var r=n("e46b"),o=n("dcb7").f,i=n("69b3");r(r.S,"Reflect",{deleteProperty:function(e,t){var n=o(i(e),t);return!(n&&!n.configurable)&&delete e[t]}})},"8cf2":function(e,t,n){"use strict";var r=n("e46b"),o=n("7c0a"),i="includes";r(r.P+r.F*n("bc96")(i),"String",{includes:function(e){return!!~o(this,e,i).indexOf(e,arguments.length>1?arguments[1]:void 0)}})},"8df1":function(e,t,n){var r=n("e7ad").document;e.exports=r&&r.documentElement},"8ff2":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={icon:String,size:String,center:Boolean,isLink:Boolean,required:Boolean,clickable:Boolean,iconPrefix:String,titleStyle:null,titleClass:null,valueClass:null,labelClass:null,title:[Number,String],value:[Number,String],label:[Number,String],arrowDirection:String,border:{type:Boolean,default:!0}}},"94b3":function(e,t,n){var r=n("fb68");e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},"94c8":function(e,t,n){},"967c":function(e,t,n){"use strict";var r=n("0260");e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},"96e2":function(e,t,n){"use strict";var r=n("0260"),o=n("02c8"),i=n("046d"),a=n("a44d"),s=n("8021"),u=n("40b2");function c(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){c(e),e.baseURL&&!s(e.url)&&(e.url=u(e.baseURL,e.url)),e.headers=e.headers||{},e.data=o(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]}));var t=e.adapter||a.adapter;return t(e).then((function(t){return c(e),t.data=o(t.data,t.headers,e.transformResponse),t}),(function(t){return i(t)||(c(e),t&&t.response&&(t.response.data=o(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},9769:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},"9a33":function(e,t,n){"use strict";var r=n("2fd4"),o=n("69b3"),i=n("f63e"),a=n("e754"),s=n("eafa"),u=n("7108"),c=n("8714"),l=n("238a"),f=Math.min,p=[].push,h="split",d="length",g="lastIndex",v=4294967295,m=!l((function(){RegExp(v,"y")}));n("0aed")("split",2,(function(e,t,n,l){var y;return y="c"=="abbc"[h](/(b)*/)[1]||4!="test"[h](/(?:)/,-1)[d]||2!="ab"[h](/(?:ab)*/)[d]||4!="."[h](/(.?)(.?)/)[d]||"."[h](/()()/)[d]>1||""[h](/.?/)[d]?function(e,t){var o=String(this);if(void 0===e&&0===t)return[];if(!r(e))return n.call(o,e,t);var i,a,s,u=[],l=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),f=0,h=void 0===t?v:t>>>0,m=new RegExp(e.source,l+"g");while(i=c.call(m,o)){if(a=m[g],a>f&&(u.push(o.slice(f,i.index)),i[d]>1&&i.index<o[d]&&p.apply(u,i.slice(1)),s=i[0][d],f=a,u[d]>=h))break;m[g]===i.index&&m[g]++}return f===o[d]?!s&&m.test("")||u.push(""):u.push(o.slice(f)),u[d]>h?u.slice(0,h):u}:"0"[h](void 0,0)[d]?function(e,t){return void 0===e&&0===t?[]:n.call(this,e,t)}:n,[function(n,r){var o=e(this),i=void 0==n?void 0:n[t];return void 0!==i?i.call(n,o,r):y.call(String(o),n,r)},function(e,t){var r=l(y,e,this,t,y!==n);if(r.done)return r.value;var c=o(e),p=String(this),h=i(c,RegExp),d=c.unicode,g=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(m?"y":"g"),_=new h(m?c:"^(?:"+c.source+")",g),b=void 0===t?v:t>>>0;if(0===b)return[];if(0===p.length)return null===u(_,p)?[p]:[];var C=0,S=0,I=[];while(S<p.length){_.lastIndex=m?S:0;var w,M=u(_,m?p:p.slice(S));if(null===M||(w=f(s(_.lastIndex+(m?0:S)),p.length))===C)S=a(p,S,d);else{if(I.push(p.slice(C,S)),I.length===b)return I;for(var E=1;E<=M.length-1;E++)if(I.push(M[E]),I.length===b)return I;S=C=w}}return I.push(p.slice(C)),I}]}))},"9c46":function(e,t,n){"use strict";var r=n("0260");function o(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(r.isURLSearchParams(t))i=t.toString();else{var a=[];r.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(o(t)+"="+o(e))})))})),i=a.join("&")}return i&&(e+=(-1===e.indexOf("?")?"?":"&")+i),e}},"9e64":function(e,t,n){},a166:function(e,t,n){},a1c5:function(e,t,n){"use strict";var r=n("0260"),o=n("28e0"),i=n("173d"),a=n("a44d");function s(e){var t=new i(e),n=o(i.prototype.request,t);return r.extend(n,i.prototype,t),r.extend(n,t),n}var u=s(a);u.Axios=i,u.create=function(e){return s(r.merge(a,e))},u.Cancel=n("7a07"),u.CancelToken=n("d053"),u.isCancel=n("046d"),u.all=function(e){return Promise.all(e)},u.spread=n("6016"),e.exports=u,e.exports.default=u},a226:function(e,t,n){"use strict";n("2698"),n("a166"),n("29aa")},a44a:function(e,t,n){"use strict";n("2698"),n("72e1"),n("2947"),n("38d8"),n("0520")},a44d:function(e,t,n){"use strict";(function(t){var r=n("0260"),o=n("967c"),i={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function s(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof t)&&(e=n("eda7")),e}var u={adapter:s(),transformRequest:[function(e,t){return o(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(a(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"===typeof e)try{e=JSON.parse(e)}catch(t){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){u.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){u.headers[e]=r.merge(i)})),e.exports=u}).call(this,n("4c39"))},a73b:function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},a7d0:function(e,t,n){},a9f0:function(e,t,n){"use strict";var r=n("23c4"),o=n.n(r),i=n("f25d"),a=n("083c"),s=n("28bd"),u=n("48d4"),c=Object(i["a"])("icon"),l=c[0],f=c[1];function p(e){return!!e&&-1!==e.indexOf("/")}var h={medel:"medal","medel-o":"medal-o"};function d(e){return e&&h[e]||e}function g(e,t,n,r){var i=d(t.name),c=p(i);return e(t.tag,o()([{class:[t.classPrefix,c?"":t.classPrefix+"-"+i],style:{color:t.color,fontSize:Object(a["a"])(t.size)}},Object(s["b"])(r,!0)]),[n.default&&n.default(),c&&e("img",{class:f("image"),attrs:{src:i}}),e(u["a"],{attrs:{dot:t.dot,info:t.info}})])}g.props={dot:Boolean,name:String,size:[Number,String],info:[Number,String],color:String,tag:{type:String,default:"i"},classPrefix:{type:String,default:f()}},t["a"]=l(g)},aaba:function(e,t,n){"use strict";var r=n("8714");n("e46b")({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},ac9f:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},b3a6:function(e,t,n){var r=n("09b9"),o=n("eafa"),i=n("f58a");e.exports=function(e){return function(t,n,a){var s,u=r(t),c=o(u.length),l=i(a,c);if(e&&n!=n){while(c>l)if(s=u[l++],s!=s)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===n)return e||l||0;return!e&&-1}}},b4bb:function(e,t,n){"use strict";var r,o=n("f25d"),i=n("ea6e"),a=n("083c"),s=n("e195"),u=n("4b1f");function c(e,t,n){Object(s["a"])(r);var o=0,i=e.scrollLeft,a=0===n?1:Math.round(1e3*n/16);function u(){e.scrollLeft+=(t-i)/a,++o<a&&(r=Object(s["b"])(u))}u()}function l(e,t,n,r){var o=Object(u["c"])(e),i=o<t,a=0===n?1:Math.round(1e3*n/16),c=(t-o)/a;function l(){o+=c,(i&&o>t||!i&&o<t)&&(o=t),Object(u["h"])(e,o),i&&o<t||!i&&o>t?Object(s["b"])(l):r&&Object(s["b"])(r)}l()}var f=n("f20f"),p=n("2252"),h=n("24b9"),d=n("3360"),g=n("f57f"),v=n("5f9d"),m=n("48d4"),y=Object(o["a"])("tab"),_=y[0],b=y[1],C=_({props:{dot:Boolean,type:String,info:[Number,String],color:String,title:String,isActive:Boolean,ellipsis:Boolean,disabled:Boolean,scrollable:Boolean,activeColor:String,inactiveColor:String,swipeThreshold:[Number,String]},computed:{style:function(){var e={},t=this.color,n=this.isActive,r="card"===this.type;t&&r&&(e.borderColor=t,this.disabled||(n?e.backgroundColor=t:e.color=t));var o=n?this.activeColor:this.inactiveColor;return o&&(e.color=o),this.scrollable&&this.ellipsis&&(e.flexBasis=88/this.swipeThreshold+"%"),e}},methods:{onClick:function(){this.$emit("click")}},render:function(){var e=arguments[0];return e("div",{attrs:{role:"tab","aria-selected":this.isActive},class:[b({active:this.isActive,disabled:this.disabled,complete:!this.ellipsis}),{"van-ellipsis":this.ellipsis}],style:this.style,on:{click:this.onClick}},[e("span",{class:b("text")},[this.slots()||this.title,e(m["a"],{attrs:{dot:this.dot,info:this.info}})])])}}),S=Object(o["a"])("sticky"),I=S[0],w=S[1],M=I({mixins:[Object(v["a"])((function(e){this.scroller||(this.scroller=Object(u["d"])(this.$el)),e(this.scroller,"scroll",this.onScroll,!0),this.onScroll()}))],props:{zIndex:[Number,String],container:null,offsetTop:{type:[Number,String],default:0}},data:function(){return{fixed:!1,height:0,transform:0}},computed:{style:function(){if(this.fixed){var e={};return Object(i["b"])(this.zIndex)&&(e.zIndex=this.zIndex),this.offsetTop&&this.fixed&&(e.top=this.offsetTop+"px"),this.transform&&(e.transform="translate3d(0, "+this.transform+"px, 0)"),e}}},methods:{onScroll:function(){var e=this;this.height=this.$el.offsetHeight;var t=this.container,n=+this.offsetTop,r=Object(u["c"])(window),o=Object(u["a"])(this.$el),i=function(){e.$emit("scroll",{scrollTop:r,isFixed:e.fixed})};if(t){var a=o+t.offsetHeight;if(r+n+this.height>a){var s=this.height+r-a;return s<this.height?(this.fixed=!0,this.transform=-(s+n)):this.fixed=!1,void i()}}r+n>o?(this.fixed=!0,this.transform=0):this.fixed=!1,i()}},render:function(){var e=arguments[0],t=this.fixed,n={height:t?this.height+"px":null};return e("div",{style:n},[e("div",{class:w({fixed:t}),style:this.style},[this.slots()])])}}),E=n("caa2"),k=n("0b2a"),T=Object(o["a"])("tabs"),O=T[0],D=T[1],A=50,R=O({mixins:[k["a"]],props:{count:Number,duration:[Number,String],animated:Boolean,swipeable:Boolean,currentIndex:Number},computed:{style:function(){if(this.animated)return{transform:"translate3d("+-1*this.currentIndex*100+"%, 0, 0)",transitionDuration:this.duration+"s"}},listeners:function(){if(this.swipeable)return{touchstart:this.touchStart,touchmove:this.touchMove,touchend:this.onTouchEnd,touchcancel:this.onTouchEnd}}},methods:{onTouchEnd:function(){var e=this.direction,t=this.deltaX,n=this.currentIndex;"horizontal"===e&&this.offsetX>=A&&(t>0&&0!==n?this.$emit("change",n-1):t<0&&n!==this.count-1&&this.$emit("change",n+1))},genChildren:function(){var e=this.$createElement;return this.animated?e("div",{class:D("track"),style:this.style},[this.slots()]):this.slots()}},render:function(){var e=arguments[0];return e("div",{class:D("content",{animated:this.animated}),on:Object(E["a"])({},this.listeners)},[this.genChildren()])}}),x=Object(o["a"])("tabs"),L=x[0],N=x[1];t["a"]=L({mixins:[Object(g["b"])("vanTabs"),Object(v["a"])((function(e){this.scroller||(this.scroller=Object(u["d"])(this.$el)),e(window,"resize",this.resize,!0),this.scrollspy&&e(this.scroller,"scroll",this.onScroll,!0)}))],model:{prop:"active"},props:{color:String,sticky:Boolean,animated:Boolean,swipeable:Boolean,scrollspy:Boolean,background:String,lineWidth:[Number,String],lineHeight:[Number,String],titleActiveColor:String,titleInactiveColor:String,type:{type:String,default:"line"},active:{type:[Number,String],default:0},border:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0},duration:{type:[Number,String],default:.3},offsetTop:{type:[Number,String],default:0},lazyRender:{type:Boolean,default:!0},swipeThreshold:{type:[Number,String],default:4}},data:function(){return{position:"",currentIndex:null,lineStyle:{backgroundColor:this.color}}},computed:{scrollable:function(){return this.children.length>this.swipeThreshold||!this.ellipsis},navStyle:function(){return{borderColor:this.color,background:this.background}},currentName:function(){var e=this.children[this.currentIndex];if(e)return e.computedName},scrollOffset:function(){return this.sticky?+this.offsetTop+this.tabHeight:0}},watch:{color:"setLine",active:function(e){e!==this.currentName&&this.setCurrentIndexByName(e)},children:function(){var e=this;this.setCurrentIndexByName(this.currentName||this.active),this.setLine(),this.$nextTick((function(){e.scrollIntoView(!0)}))},currentIndex:function(){this.scrollIntoView(),this.setLine(),this.stickyFixed&&!this.scrollspy&&Object(u["g"])(Math.ceil(Object(u["a"])(this.$el)-this.offsetTop))},scrollspy:function(e){e?Object(h["b"])(this.scroller,"scroll",this.onScroll,!0):Object(h["a"])(this.scroller,"scroll",this.onScroll)}},mounted:function(){this.onShow()},activated:function(){this.onShow(),this.setLine()},methods:{resize:function(){this.setLine()},onShow:function(){var e=this;this.$nextTick((function(){e.inited=!0,e.tabHeight=Object(u["e"])(e.$refs.wrap),e.scrollIntoView(!0)}))},setLine:function(){var e=this,t=this.inited;this.$nextTick((function(){var n=e.$refs.titles;if(n&&n[e.currentIndex]&&"line"===e.type&&!Object(p["a"])(e.$el)){var r=n[e.currentIndex].$el,o=e.lineWidth,s=e.lineHeight,u=Object(i["b"])(o)?o:r.offsetWidth/2,c=r.offsetLeft+r.offsetWidth/2,l={width:Object(a["a"])(u),backgroundColor:e.color,transform:"translateX("+c+"px) translateX(-50%)"};if(t&&(l.transitionDuration=e.duration+"s"),Object(i["b"])(s)){var f=Object(a["a"])(s);l.height=f,l.borderRadius=f}e.lineStyle=l}}))},setCurrentIndexByName:function(e){var t=this.children.filter((function(t){return t.computedName===e})),n=(this.children[0]||{}).index||0;this.setCurrentIndex(t.length?t[0].index:n)},setCurrentIndex:function(e){if(e=this.findAvailableTab(e),Object(i["b"])(e)&&e!==this.currentIndex){var t=null!==this.currentIndex;this.currentIndex=e,this.$emit("input",this.currentName),t&&this.$emit("change",this.currentName,this.children[e].title)}},findAvailableTab:function(e){var t=e<this.currentIndex?-1:1;while(e>=0&&e<this.children.length){if(!this.children[e].disabled)return e;e+=t}},onClick:function(e){var t=this.children[e],n=t.title,r=t.disabled,o=t.computedName;r?this.$emit("disabled",o,n):(this.setCurrentIndex(e),this.scrollToCurrentContent(),this.$emit("click",o,n))},scrollIntoView:function(e){var t=this.$refs.titles;if(this.scrollable&&t&&t[this.currentIndex]){var n=this.$refs.nav,r=t[this.currentIndex].$el,o=r.offsetLeft-(n.offsetWidth-r.offsetWidth)/2;c(n,o,e?0:+this.duration)}},onSticktScroll:function(e){this.stickyFixed=e.isFixed,this.$emit("scroll",e)},scrollToCurrentContent:function(){var e=this;if(this.scrollspy){var t=this.children[this.currentIndex],n=null==t?void 0:t.$el;if(n){var r=Object(u["a"])(n,this.scroller)-this.scrollOffset;this.lockScroll=!0,l(this.scroller,r,+this.duration,(function(){e.lockScroll=!1}))}}},onScroll:function(){if(this.scrollspy&&!this.lockScroll){var e=this.getCurrentIndexOnScroll();this.setCurrentIndex(e)}},getCurrentIndexOnScroll:function(){for(var e=this.children,t=0;t<e.length;t++){var n=Object(u["f"])(e[t].$el);if(n>this.scrollOffset)return 0===t?0:t-1}return e.length-1}},render:function(){var e,t=this,n=arguments[0],r=this.type,o=this.ellipsis,i=this.animated,a=this.scrollable,s=this.children.map((function(e,i){return n(C,{ref:"titles",refInFor:!0,attrs:{type:r,dot:e.dot,info:e.info,title:e.title,color:t.color,isActive:i===t.currentIndex,ellipsis:o,disabled:e.disabled,scrollable:a,activeColor:t.titleActiveColor,inactiveColor:t.titleInactiveColor,swipeThreshold:t.swipeThreshold},style:e.titleStyle,scopedSlots:{default:function(){return e.slots("title")}},on:{click:function(){t.onClick(i),Object(f["b"])(e.$router,e)}}})})),u=n("div",{ref:"wrap",class:[N("wrap",{scrollable:a}),(e={},e[d["d"]]="line"===r&&this.border,e)]},[n("div",{ref:"nav",attrs:{role:"tablist"},class:N("nav",[r]),style:this.navStyle},[this.slots("nav-left"),s,"line"===r&&n("div",{class:N("line"),style:this.lineStyle}),this.slots("nav-right")])]);return n("div",{class:N([r])},[this.sticky?n(M,{attrs:{container:this.$el,offsetTop:this.offsetTop},on:{scroll:this.onSticktScroll}},[u]):u,n(R,{attrs:{count:this.children.length,animated:i,duration:this.duration,swipeable:this.swipeable,currentIndex:this.currentIndex},on:{change:this.setCurrentIndex}},[this.slots()])])}})},b507:function(e,t,n){},b77e:function(e,t,n){},bb63:function(e,t,n){"use strict";var r=n("caa2"),o=n("23c4"),i=n.n(o),a=n("f25d"),s=n("28bd"),u=n("3360"),c=n("f20f"),l=n("a9f0"),f=n("4614"),p=Object(a["a"])("button"),h=p[0],d=p[1];function g(e,t,n,r){var o,a=t.tag,p=t.icon,h=t.type,g=t.color,v=t.plain,m=t.disabled,y=t.loading,_=t.hairline,b=t.loadingText,C={};function S(e){y||m||(Object(s["a"])(r,"click",e),Object(c["a"])(r))}function I(e){Object(s["a"])(r,"touchstart",e)}g&&(C.color=v?g:u["e"],v||(C.background=g),-1!==g.indexOf("gradient")?C.border=0:C.borderColor=g);var w=[d([h,t.size,{plain:v,loading:y,disabled:m,hairline:_,block:t.block,round:t.round,square:t.square}]),(o={},o[u["b"]]=_,o)];function M(){var r,o=[];return y?o.push(e(f["a"],{class:d("loading"),attrs:{size:t.loadingSize,type:t.loadingType,color:"currentColor"}})):p&&o.push(e(l["a"],{attrs:{name:p,classPrefix:t.iconPrefix},class:d("icon")})),r=y?b:n.default?n.default():t.text,r&&o.push(e("span",{class:d("text")},[r])),o}return e(a,i()([{style:C,class:w,attrs:{type:t.nativeType,disabled:m},on:{click:S,touchstart:I}},Object(s["b"])(r)]),[M()])}g.props=Object(r["a"])({},c["c"],{text:String,icon:String,color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,nativeType:String,loadingText:String,loadingType:String,tag:{type:String,default:"button"},type:{type:String,default:"default"},size:{type:String,default:"normal"},loadingSize:{type:String,default:"20px"}}),t["a"]=h(g)},bc0a:function(e,t,n){var r=n("69b3"),o=n("fb68"),i=n("3a9d");e.exports=function(e,t){if(r(e),o(t)&&t.constructor===e)return t;var n=i.f(e),a=n.resolve;return a(t),n.promise}},bc96:function(e,t,n){var r=n("cb3d")("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,!"/./"[e](t)}catch(o){}}return!0}},bf16:function(e,t,n){var r=n("e7ad"),o=n("86d4"),i=n("e042"),a=n("ec45")("src"),s=n("d07e"),u="toString",c=(""+s).split(u);n("7ddc").inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,s){var u="function"==typeof n;u&&(i(n,"name")||o(n,"name",t)),e[t]!==n&&(u&&(i(n,a)||o(n,a,e[t]?""+e[t]:c.join(String(t)))),e===r?e[t]=n:s?e[t]?e[t]=n:o(e,t,n):(delete e[t],o(e,t,n)))})(Function.prototype,u,(function(){return"function"==typeof this&&this[a]||s.call(this)}))},bfe7:function(e,t,n){var r=n("fb68"),o=n("e7ad").document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},c0c3:function(e,t,n){"use strict";var r=n("69b3"),o=n("8704"),i=n("7108");n("0aed")("search",1,(function(e,t,n,a){return[function(n){var r=e(this),o=void 0==n?void 0:n[t];return void 0!==o?o.call(n,r):new RegExp(n)[t](String(r))},function(e){var t=a(n,e,this);if(t.done)return t.value;var s=r(e),u=String(this),c=s.lastIndex;o(c,0)||(s.lastIndex=0);var l=i(s,u);return o(s.lastIndex,c)||(s.lastIndex=c),null===l?-1:l.index}]}))},c2f7:function(e,t,n){var r=n("e042"),o=n("09b9"),i=n("b3a6")(!1),a=n("56f2")("IE_PROTO");e.exports=function(e,t){var n,s=o(e),u=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);while(t.length>u)r(s,n=t[u++])&&(~i(c,n)||c.push(n));return c}},c370:function(e,t,n){(function(t){!function(t,n){e.exports=n()}(0,(function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof t?t:"undefined"!=typeof self?self:{};function n(e,t){return e(t={exports:{}},t.exports),t.exports}var r=function(e){return e&&e.Math==Math&&e},o=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof e&&e)||Function("return this")(),i=function(e){try{return!!e()}catch(n){return!0}},a=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),s={}.propertyIsEnumerable,u=Object.getOwnPropertyDescriptor,c={f:u&&!s.call({1:2},1)?function(e){var t=u(this,e);return!!t&&t.enumerable}:s},l=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},f={}.toString,p=function(e){return f.call(e).slice(8,-1)},h="".split,d=i((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==p(e)?h.call(e,""):Object(e)}:Object,g=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},v=function(e){return d(g(e))},m=function(e){return"object"==typeof e?null!==e:"function"==typeof e},y=function(e,t){if(!m(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!m(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!m(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!m(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")},_={}.hasOwnProperty,b=function(e,t){return _.call(e,t)},C=o.document,S=m(C)&&m(C.createElement),I=function(e){return S?C.createElement(e):{}},w=!a&&!i((function(){return 7!=Object.defineProperty(I("div"),"a",{get:function(){return 7}}).a})),M=Object.getOwnPropertyDescriptor,E={f:a?M:function(e,t){if(e=v(e),t=y(t,!0),w)try{return M(e,t)}catch(r){}if(b(e,t))return l(!c.f.call(e,t),e[t])}},k=function(e){if(!m(e))throw TypeError(String(e)+" is not an object");return e},T=Object.defineProperty,O={f:a?T:function(e,t,n){if(k(e),t=y(t,!0),k(n),w)try{return T(e,t,n)}catch(o){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},D=a?function(e,t,n){return O.f(e,t,l(1,n))}:function(e,t,n){return e[t]=n,e},A=function(e,t){try{D(o,e,t)}catch(r){o[e]=t}return t},R=o["__core-js_shared__"]||A("__core-js_shared__",{}),x=Function.toString;"function"!=typeof R.inspectSource&&(R.inspectSource=function(e){return x.call(e)});var L,N,P,G=R.inspectSource,U=o.WeakMap,q="function"==typeof U&&/native code/.test(G(U)),j=n((function(e){(e.exports=function(e,t){return R[e]||(R[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.4",mode:"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})})),F=0,$=Math.random(),B=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++F+$).toString(36)},H=j("keys"),V=function(e){return H[e]||(H[e]=B(e))},z={},K=o.WeakMap;if(q){var Y=new K,W=Y.get,X=Y.has,J=Y.set;L=function(e,t){return J.call(Y,e,t),t},N=function(e){return W.call(Y,e)||{}},P=function(e){return X.call(Y,e)}}else{var Q=V("state");z[Q]=!0,L=function(e,t){return D(e,Q,t),t},N=function(e){return b(e,Q)?e[Q]:{}},P=function(e){return b(e,Q)}}var Z={set:L,get:N,has:P,enforce:function(e){return P(e)?N(e):L(e,{})},getterFor:function(e){return function(t){var n;if(!m(t)||(n=N(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}},ee=n((function(e){var t=Z.get,n=Z.enforce,r=String(String).split("String");(e.exports=function(e,t,i,a){var s=!!a&&!!a.unsafe,u=!!a&&!!a.enumerable,c=!!a&&!!a.noTargetGet;"function"==typeof i&&("string"!=typeof t||b(i,"name")||D(i,"name",t),n(i).source=r.join("string"==typeof t?t:"")),e!==o?(s?!c&&e[t]&&(u=!0):delete e[t],u?e[t]=i:D(e,t,i)):u?e[t]=i:A(t,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&t(this).source||G(this)}))})),te=o,ne=function(e){return"function"==typeof e?e:void 0},re=function(e,t){return arguments.length<2?ne(te[e])||ne(o[e]):te[e]&&te[e][t]||o[e]&&o[e][t]},oe=Math.ceil,ie=Math.floor,ae=function(e){return isNaN(e=+e)?0:(e>0?ie:oe)(e)},se=Math.min,ue=function(e){return e>0?se(ae(e),9007199254740991):0},ce=Math.max,le=Math.min,fe=function(e,t){var n=ae(e);return n<0?ce(n+t,0):le(n,t)},pe=function(e){return function(t,n,r){var o,i=v(t),a=ue(i.length),s=fe(r,a);if(e&&n!=n){for(;a>s;)if((o=i[s++])!=o)return!0}else for(;a>s;s++)if((e||s in i)&&i[s]===n)return e||s||0;return!e&&-1}},he={includes:pe(!0),indexOf:pe(!1)},de=he.indexOf,ge=function(e,t){var n,r=v(e),o=0,i=[];for(n in r)!b(z,n)&&b(r,n)&&i.push(n);for(;t.length>o;)b(r,n=t[o++])&&(~de(i,n)||i.push(n));return i},ve=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],me=ve.concat("length","prototype"),ye={f:Object.getOwnPropertyNames||function(e){return ge(e,me)}},_e={f:Object.getOwnPropertySymbols},be=re("Reflect","ownKeys")||function(e){var t=ye.f(k(e)),n=_e.f;return n?t.concat(n(e)):t},Ce=function(e,t){for(var n=be(t),r=O.f,o=E.f,i=0;i<n.length;i++){var a=n[i];b(e,a)||r(e,a,o(t,a))}},Se=/#|\.prototype\./,Ie=function(e,t){var n=Me[we(e)];return n==ke||n!=Ee&&("function"==typeof t?i(t):!!t)},we=Ie.normalize=function(e){return String(e).replace(Se,".").toLowerCase()},Me=Ie.data={},Ee=Ie.NATIVE="N",ke=Ie.POLYFILL="P",Te=Ie,Oe=E.f,De=function(e,t){var n,r,i,a,s,u=e.target,c=e.global,l=e.stat;if(n=c?o:l?o[u]||A(u,{}):(o[u]||{}).prototype)for(r in t){if(a=t[r],i=e.noTargetGet?(s=Oe(n,r))&&s.value:n[r],!Te(c?r:u+(l?".":"#")+r,e.forced)&&void 0!==i){if(typeof a==typeof i)continue;Ce(a,i)}(e.sham||i&&i.sham)&&D(a,"sham",!0),ee(n,r,a,e)}},Ae=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e},Re=function(e,t,n){if(Ae(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}},xe=function(e){return Object(g(e))},Le=Array.isArray||function(e){return"Array"==p(e)},Ne=!!Object.getOwnPropertySymbols&&!i((function(){return!String(Symbol())})),Pe=Ne&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Ge=j("wks"),Ue=o.Symbol,qe=Pe?Ue:Ue&&Ue.withoutSetter||B,je=function(e){return b(Ge,e)||(Ne&&b(Ue,e)?Ge[e]=Ue[e]:Ge[e]=qe("Symbol."+e)),Ge[e]},Fe=je("species"),$e=function(e,t){var n;return Le(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!Le(n.prototype)?m(n)&&null===(n=n[Fe])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)},Be=[].push,He=function(e){var t=1==e,n=2==e,r=3==e,o=4==e,i=6==e,a=5==e||i;return function(s,u,c,l){for(var f,p,h=xe(s),g=d(h),v=Re(u,c,3),m=ue(g.length),y=0,_=l||$e,b=t?_(s,m):n?_(s,0):void 0;m>y;y++)if((a||y in g)&&(p=v(f=g[y],y,h),e))if(t)b[y]=p;else if(p)switch(e){case 3:return!0;case 5:return f;case 6:return y;case 2:Be.call(b,f)}else if(o)return!1;return i?-1:r||o?o:b}},Ve={forEach:He(0),map:He(1),filter:He(2),some:He(3),every:He(4),find:He(5),findIndex:He(6)},ze=function(e,t){var n=[][e];return!!n&&i((function(){n.call(null,t||function(){throw 1},1)}))},Ke=Object.defineProperty,Ye={},We=function(e){throw e},Xe=function(e,t){if(b(Ye,e))return Ye[e];t||(t={});var n=[][e],r=!!b(t,"ACCESSORS")&&t.ACCESSORS,o=b(t,0)?t[0]:We,s=b(t,1)?t[1]:void 0;return Ye[e]=!!n&&!i((function(){if(r&&!a)return!0;var e={length:-1};r?Ke(e,1,{enumerable:!0,get:We}):e[1]=1,n.call(e,o,s)}))},Je=Ve.forEach,Qe=ze("forEach"),Ze=Xe("forEach"),et=Qe&&Ze?[].forEach:function(e){return Je(this,e,arguments.length>1?arguments[1]:void 0)};De({target:"Array",proto:!0,forced:[].forEach!=et},{forEach:et});var tt=function(e,t,n,r){try{return r?t(k(n)[0],n[1]):t(n)}catch(a){var o=e.return;throw void 0!==o&&k(o.call(e)),a}},nt={},rt=je("iterator"),ot=Array.prototype,it=function(e){return void 0!==e&&(nt.Array===e||ot[rt]===e)},at=function(e,t,n){var r=y(t);r in e?O.f(e,r,l(0,n)):e[r]=n},st={};st[je("toStringTag")]="z";var ut="[object z]"===String(st),ct=je("toStringTag"),lt="Arguments"==p(function(){return arguments}()),ft=ut?p:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(n){}}(t=Object(e),ct))?n:lt?p(t):"Object"==(r=p(t))&&"function"==typeof t.callee?"Arguments":r},pt=je("iterator"),ht=function(e){if(null!=e)return e[pt]||e["@@iterator"]||nt[ft(e)]},dt=function(e){var t,n,r,o,i,a,s=xe(e),u="function"==typeof this?this:Array,c=arguments.length,l=c>1?arguments[1]:void 0,f=void 0!==l,p=ht(s),h=0;if(f&&(l=Re(l,c>2?arguments[2]:void 0,2)),null==p||u==Array&&it(p))for(n=new u(t=ue(s.length));t>h;h++)a=f?l(s[h],h):s[h],at(n,h,a);else for(i=(o=p.call(s)).next,n=new u;!(r=i.call(o)).done;h++)a=f?tt(o,l,[r.value,h],!0):r.value,at(n,h,a);return n.length=h,n},gt=je("iterator"),vt=!1;try{var mt=0,yt={next:function(){return{done:!!mt++}},return:function(){vt=!0}};yt[gt]=function(){return this},Array.from(yt,(function(){throw 2}))}catch(q_){}var _t=function(e,t){if(!t&&!vt)return!1;var n=!1;try{var r={};r[gt]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(q_){}return n},bt=!_t((function(e){Array.from(e)}));De({target:"Array",stat:!0,forced:bt},{from:dt});var Ct,St=Object.keys||function(e){return ge(e,ve)},It=a?Object.defineProperties:function(e,t){k(e);for(var n,r=St(t),o=r.length,i=0;o>i;)O.f(e,n=r[i++],t[n]);return e},wt=re("document","documentElement"),Mt=V("IE_PROTO"),Et=function(){},kt=function(e){return"<script>"+e+"<\/script>"},Tt=function(){try{Ct=document.domain&&new ActiveXObject("htmlfile")}catch(q_){}var e,t;Tt=Ct?function(e){e.write(kt("")),e.close();var t=e.parentWindow.Object;return e=null,t}(Ct):((t=I("iframe")).style.display="none",wt.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(kt("document.F=Object")),e.close(),e.F);for(var n=ve.length;n--;)delete Tt.prototype[ve[n]];return Tt()};z[Mt]=!0;var Ot=Object.create||function(e,t){var n;return null!==e?(Et.prototype=k(e),n=new Et,Et.prototype=null,n[Mt]=e):n=Tt(),void 0===t?n:It(n,t)};De({target:"Object",stat:!0,sham:!a},{create:Ot});var Dt=i((function(){St(1)}));De({target:"Object",stat:!0,forced:Dt},{keys:function(e){return St(xe(e))}});var At,Rt,xt,Lt=function(e){return function(t,n){var r,o,i=String(g(t)),a=ae(n),s=i.length;return a<0||a>=s?e?"":void 0:(r=i.charCodeAt(a))<55296||r>56319||a+1===s||(o=i.charCodeAt(a+1))<56320||o>57343?e?i.charAt(a):r:e?i.slice(a,a+2):o-56320+(r-55296<<10)+65536}},Nt={codeAt:Lt(!1),charAt:Lt(!0)},Pt=!i((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),Gt=V("IE_PROTO"),Ut=Object.prototype,qt=Pt?Object.getPrototypeOf:function(e){return e=xe(e),b(e,Gt)?e[Gt]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?Ut:null},jt=je("iterator"),Ft=!1;[].keys&&("next"in(xt=[].keys())?(Rt=qt(qt(xt)))!==Object.prototype&&(At=Rt):Ft=!0),null==At&&(At={}),b(At,jt)||D(At,jt,(function(){return this}));var $t={IteratorPrototype:At,BUGGY_SAFARI_ITERATORS:Ft},Bt=O.f,Ht=je("toStringTag"),Vt=function(e,t,n){e&&!b(e=n?e:e.prototype,Ht)&&Bt(e,Ht,{configurable:!0,value:t})},zt=$t.IteratorPrototype,Kt=function(){return this},Yt=function(e,t,n){var r=t+" Iterator";return e.prototype=Ot(zt,{next:l(1,n)}),Vt(e,r,!1),nt[r]=Kt,e},Wt=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(q_){}return function(n,r){return k(n),function(e){if(!m(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype")}(r),t?e.call(n,r):n.__proto__=r,n}}():void 0),Xt=$t.IteratorPrototype,Jt=$t.BUGGY_SAFARI_ITERATORS,Qt=je("iterator"),Zt=function(){return this},en=function(e,t,n,r,o,i,a){Yt(n,t,r);var s,u,c,l=function(e){if(e===o&&g)return g;if(!Jt&&e in h)return h[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},f=t+" Iterator",p=!1,h=e.prototype,d=h[Qt]||h["@@iterator"]||o&&h[o],g=!Jt&&d||l(o),v="Array"==t&&h.entries||d;if(v&&(s=qt(v.call(new e)),Xt!==Object.prototype&&s.next&&(qt(s)!==Xt&&(Wt?Wt(s,Xt):"function"!=typeof s[Qt]&&D(s,Qt,Zt)),Vt(s,f,!0))),"values"==o&&d&&"values"!==d.name&&(p=!0,g=function(){return d.call(this)}),h[Qt]!==g&&D(h,Qt,g),nt[t]=g,o)if(u={values:l("values"),keys:i?g:l("keys"),entries:l("entries")},a)for(c in u)!Jt&&!p&&c in h||ee(h,c,u[c]);else De({target:t,proto:!0,forced:Jt||p},u);return u},tn=Nt.charAt,nn=Z.set,rn=Z.getterFor("String Iterator");en(String,"String",(function(e){nn(this,{type:"String Iterator",string:String(e),index:0})}),(function(){var e,t=rn(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=tn(n,r),t.index+=e.length,{value:e,done:!1})}));var on={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0};for(var an in on){var sn=o[an],un=sn&&sn.prototype;if(un&&un.forEach!==et)try{D(un,"forEach",et)}catch(q_){un.forEach=et}}var cn,ln,fn={SDK_READY:"sdkStateReady",SDK_NOT_READY:"sdkStateNotReady",SDK_DESTROY:"sdkDestroy",MESSAGE_RECEIVED:"onMessageReceived",MESSAGE_REVOKED:"onMessageRevoked",CONVERSATION_LIST_UPDATED:"onConversationListUpdated",GROUP_LIST_UPDATED:"onGroupListUpdated",GROUP_SYSTEM_NOTICE_RECEIVED:"receiveGroupSystemNotice",PROFILE_UPDATED:"onProfileUpdated",BLACKLIST_UPDATED:"blacklistUpdated",KICKED_OUT:"kickedOut",ERROR:"error",NET_STATE_CHANGE:"netStateChange"},pn={MSG_TEXT:"TIMTextElem",MSG_IMAGE:"TIMImageElem",MSG_SOUND:"TIMSoundElem",MSG_AUDIO:"TIMSoundElem",MSG_FILE:"TIMFileElem",MSG_FACE:"TIMFaceElem",MSG_VIDEO:"TIMVideoFileElem",MSG_GEO:"TIMLocationElem",MSG_GRP_TIP:"TIMGroupTipElem",MSG_GRP_SYS_NOTICE:"TIMGroupSystemNoticeElem",MSG_CUSTOM:"TIMCustomElem",MSG_PRIORITY_HIGH:"High",MSG_PRIORITY_NORMAL:"Normal",MSG_PRIORITY_LOW:"Low",MSG_PRIORITY_LOWEST:"Lowest",CONV_C2C:"C2C",CONV_GROUP:"GROUP",CONV_SYSTEM:"@TIM#SYSTEM",GRP_PRIVATE:"Private",GRP_PUBLIC:"Public",GRP_CHATROOM:"ChatRoom",GRP_AVCHATROOM:"AVChatRoom",GRP_MBR_ROLE_OWNER:"Owner",GRP_MBR_ROLE_ADMIN:"Admin",GRP_MBR_ROLE_MEMBER:"Member",GRP_TIP_MBR_JOIN:1,GRP_TIP_MBR_QUIT:2,GRP_TIP_MBR_KICKED_OUT:3,GRP_TIP_MBR_SET_ADMIN:4,GRP_TIP_MBR_CANCELED_ADMIN:5,GRP_TIP_GRP_PROFILE_UPDATED:6,GRP_TIP_MBR_PROFILE_UPDATED:7,MSG_REMIND_ACPT_AND_NOTE:"AcceptAndNotify",MSG_REMIND_ACPT_NOT_NOTE:"AcceptNotNotify",MSG_REMIND_DISCARD:"Discard",GENDER_UNKNOWN:"Gender_Type_Unknown",GENDER_FEMALE:"Gender_Type_Female",GENDER_MALE:"Gender_Type_Male",KICKED_OUT_MULT_ACCOUNT:"multipleAccount",KICKED_OUT_MULT_DEVICE:"multipleDevice",KICKED_OUT_USERSIG_EXPIRED:"userSigExpired",ALLOW_TYPE_ALLOW_ANY:"AllowType_Type_AllowAny",ALLOW_TYPE_NEED_CONFIRM:"AllowType_Type_NeedConfirm",ALLOW_TYPE_DENY_ANY:"AllowType_Type_DenyAny",FORBID_TYPE_NONE:"AdminForbid_Type_None",FORBID_TYPE_SEND_OUT:"AdminForbid_Type_SendOut",JOIN_OPTIONS_FREE_ACCESS:"FreeAccess",JOIN_OPTIONS_NEED_PERMISSION:"NeedPermission",JOIN_OPTIONS_DISABLE_APPLY:"DisableApply",JOIN_STATUS_SUCCESS:"JoinedSuccess",JOIN_STATUS_ALREADY_IN_GROUP:"AlreadyInGroup",JOIN_STATUS_WAIT_APPROVAL:"WaitAdminApproval",GRP_PROFILE_OWNER_ID:"ownerID",GRP_PROFILE_CREATE_TIME:"createTime",GRP_PROFILE_LAST_INFO_TIME:"lastInfoTime",GRP_PROFILE_MEMBER_NUM:"memberNum",GRP_PROFILE_MAX_MEMBER_NUM:"maxMemberNum",GRP_PROFILE_JOIN_OPTION:"joinOption",GRP_PROFILE_INTRODUCTION:"introduction",GRP_PROFILE_NOTIFICATION:"notification",NET_STATE_CONNECTED:"connected",NET_STATE_CONNECTING:"connecting",NET_STATE_DISCONNECTED:"disconnected"},hn=re("navigator","userAgent")||"",dn=o.process,gn=dn&&dn.versions,vn=gn&&gn.v8;vn?ln=(cn=vn.split("."))[0]+cn[1]:hn&&(!(cn=hn.match(/Edge\/(\d+)/))||cn[1]>=74)&&(cn=hn.match(/Chrome\/(\d+)/))&&(ln=cn[1]);var mn=ln&&+ln,yn=je("species"),_n=function(e){return mn>=51||!i((function(){var t=[];return(t.constructor={})[yn]=function(){return{foo:1}},1!==t[e](Boolean).foo}))},bn=Ve.map,Cn=_n("map"),Sn=Xe("map");De({target:"Array",proto:!0,forced:!Cn||!Sn},{map:function(e){return bn(this,e,arguments.length>1?arguments[1]:void 0)}});var In=[].slice,wn={},Mn=function(e,t,n){if(!(t in wn)){for(var r=[],o=0;o<t;o++)r[o]="a["+o+"]";wn[t]=Function("C,a","return new C("+r.join(",")+")")}return wn[t](e,n)},En=Function.bind||function(e){var t=Ae(this),n=In.call(arguments,1),r=function(){var o=n.concat(In.call(arguments));return this instanceof r?Mn(t,o.length,o):t.apply(e,o)};return m(t.prototype)&&(r.prototype=t.prototype),r};function kn(e){return(kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function On(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dn(e,t,n){return t&&On(e.prototype,t),n&&On(e,n),e}function An(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rn(Object(n),!0).forEach((function(t){An(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ln(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pn(e,t)}function Nn(e){return(Nn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pn(e,t){return(Pn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Gn(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Un(e,t,n){return(Un=Gn()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&Pn(o,n.prototype),o}).apply(null,arguments)}function qn(e){var t="function"==typeof Map?new Map:void 0;return(qn=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return Un(e,arguments,Nn(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Pn(r,e)})(e)}function jn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?jn(e):t}function $n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(c){o=!0,i=c}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Bn(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}De({target:"Function",proto:!0},{bind:En});var Hn=function(){function e(){Tn(this,e),this.cache=[],this.options=null}return Dn(e,[{key:"use",value:function(e){if("function"!=typeof e)throw"middleware must be a function";return this.cache.push(e),this}},{key:"next",value:function(e){if(this.middlewares&&this.middlewares.length>0)return this.middlewares.shift().call(this,this.options,this.next.bind(this))}},{key:"run",value:function(e){return this.middlewares=this.cache.map((function(e){return e})),this.options=e,this.next()}}]),e}(),Vn=je("isConcatSpreadable"),zn=mn>=51||!i((function(){var e=[];return e[Vn]=!1,e.concat()[0]!==e})),Kn=_n("concat"),Yn=function(e){if(!m(e))return!1;var t=e[Vn];return void 0!==t?!!t:Le(e)};De({target:"Array",proto:!0,forced:!zn||!Kn},{concat:function(e){var t,n,r,o,i,a=xe(this),s=$e(a,0),u=0;for(t=-1,r=arguments.length;t<r;t++)if(i=-1===t?a:arguments[t],Yn(i)){if(u+(o=ue(i.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<o;n++,u++)n in i&&at(s,u,i[n])}else{if(u>=9007199254740991)throw TypeError("Maximum allowed index exceeded");at(s,u++,i)}return s.length=u,s}});var Wn=O.f,Xn=Function.prototype,Jn=Xn.toString,Qn=/^\s*function ([^ (]*)/;!a||"name"in Xn||Wn(Xn,"name",{configurable:!0,get:function(){try{return Jn.call(this).match(Qn)[1]}catch(q_){return""}}});var Zn=n((function(t,n){var r,o,i,a,s,u,c,l,f,p,h,d,g,v,m,y,_,b;t.exports=(r="function"==typeof Promise,o="object"==typeof self?self:e,i="undefined"!=typeof Symbol,a="undefined"!=typeof Map,s="undefined"!=typeof Set,u="undefined"!=typeof WeakMap,c="undefined"!=typeof WeakSet,l="undefined"!=typeof DataView,f=i&&void 0!==Symbol.iterator,p=i&&void 0!==Symbol.toStringTag,h=s&&"function"==typeof Set.prototype.entries,d=a&&"function"==typeof Map.prototype.entries,g=h&&Object.getPrototypeOf((new Set).entries()),v=d&&Object.getPrototypeOf((new Map).entries()),m=f&&"function"==typeof Array.prototype[Symbol.iterator],y=m&&Object.getPrototypeOf([][Symbol.iterator]()),_=f&&"function"==typeof String.prototype[Symbol.iterator],b=_&&Object.getPrototypeOf(""[Symbol.iterator]()),function(e){var t=typeof e;if("object"!==t)return t;if(null===e)return"null";if(e===o)return"global";if(Array.isArray(e)&&(!1===p||!(Symbol.toStringTag in e)))return"Array";if("object"==typeof window&&null!==window){if("object"==typeof window.location&&e===window.location)return"Location";if("object"==typeof window.document&&e===window.document)return"Document";if("object"==typeof window.navigator){if("object"==typeof window.navigator.mimeTypes&&e===window.navigator.mimeTypes)return"MimeTypeArray";if("object"==typeof window.navigator.plugins&&e===window.navigator.plugins)return"PluginArray"}if(("function"==typeof window.HTMLElement||"object"==typeof window.HTMLElement)&&e instanceof window.HTMLElement){if("BLOCKQUOTE"===e.tagName)return"HTMLQuoteElement";if("TD"===e.tagName)return"HTMLTableDataCellElement";if("TH"===e.tagName)return"HTMLTableHeaderCellElement"}}var n=p&&e[Symbol.toStringTag];if("string"==typeof n)return n;var i=Object.getPrototypeOf(e);return i===RegExp.prototype?"RegExp":i===Date.prototype?"Date":r&&i===Promise.prototype?"Promise":s&&i===Set.prototype?"Set":a&&i===Map.prototype?"Map":c&&i===WeakSet.prototype?"WeakSet":u&&i===WeakMap.prototype?"WeakMap":l&&i===DataView.prototype?"DataView":a&&i===v?"Map Iterator":s&&i===g?"Set Iterator":m&&i===y?"Array Iterator":_&&i===b?"String Iterator":null===i?"Object":Object.prototype.toString.call(e).slice(8,-1)})}));De({target:"Array",stat:!0},{isArray:Le});var er=ye.f,tr={}.toString,nr="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],rr={f:function(e){return nr&&"[object Window]"==tr.call(e)?function(e){try{return er(e)}catch(q_){return nr.slice()}}(e):er(v(e))}},or={f:je},ir=O.f,ar=function(e){var t=te.Symbol||(te.Symbol={});b(t,e)||ir(t,e,{value:or.f(e)})},sr=Ve.forEach,ur=V("hidden"),cr=je("toPrimitive"),lr=Z.set,fr=Z.getterFor("Symbol"),pr=Object.prototype,hr=o.Symbol,dr=re("JSON","stringify"),gr=E.f,vr=O.f,mr=rr.f,yr=c.f,_r=j("symbols"),br=j("op-symbols"),Cr=j("string-to-symbol-registry"),Sr=j("symbol-to-string-registry"),Ir=j("wks"),wr=o.QObject,Mr=!wr||!wr.prototype||!wr.prototype.findChild,Er=a&&i((function(){return 7!=Ot(vr({},"a",{get:function(){return vr(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=gr(pr,t);r&&delete pr[t],vr(e,t,n),r&&e!==pr&&vr(pr,t,r)}:vr,kr=function(e,t){var n=_r[e]=Ot(hr.prototype);return lr(n,{type:"Symbol",tag:e,description:t}),a||(n.description=t),n},Tr=Pe?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof hr},Or=function(e,t,n){e===pr&&Or(br,t,n),k(e);var r=y(t,!0);return k(n),b(_r,r)?(n.enumerable?(b(e,ur)&&e[ur][r]&&(e[ur][r]=!1),n=Ot(n,{enumerable:l(0,!1)})):(b(e,ur)||vr(e,ur,l(1,{})),e[ur][r]=!0),Er(e,r,n)):vr(e,r,n)},Dr=function(e,t){k(e);var n=v(t),r=St(n).concat(Lr(n));return sr(r,(function(t){a&&!Ar.call(n,t)||Or(e,t,n[t])})),e},Ar=function(e){var t=y(e,!0),n=yr.call(this,t);return!(this===pr&&b(_r,t)&&!b(br,t))&&(!(n||!b(this,t)||!b(_r,t)||b(this,ur)&&this[ur][t])||n)},Rr=function(e,t){var n=v(e),r=y(t,!0);if(n!==pr||!b(_r,r)||b(br,r)){var o=gr(n,r);return!o||!b(_r,r)||b(n,ur)&&n[ur][r]||(o.enumerable=!0),o}},xr=function(e){var t=mr(v(e)),n=[];return sr(t,(function(e){b(_r,e)||b(z,e)||n.push(e)})),n},Lr=function(e){var t=e===pr,n=mr(t?br:v(e)),r=[];return sr(n,(function(e){!b(_r,e)||t&&!b(pr,e)||r.push(_r[e])})),r};if(Ne||(ee((hr=function(){if(this instanceof hr)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=B(e),n=function(e){this===pr&&n.call(br,e),b(this,ur)&&b(this[ur],t)&&(this[ur][t]=!1),Er(this,t,l(1,e))};return a&&Mr&&Er(pr,t,{configurable:!0,set:n}),kr(t,e)}).prototype,"toString",(function(){return fr(this).tag})),ee(hr,"withoutSetter",(function(e){return kr(B(e),e)})),c.f=Ar,O.f=Or,E.f=Rr,ye.f=rr.f=xr,_e.f=Lr,or.f=function(e){return kr(je(e),e)},a&&(vr(hr.prototype,"description",{configurable:!0,get:function(){return fr(this).description}}),ee(pr,"propertyIsEnumerable",Ar,{unsafe:!0}))),De({global:!0,wrap:!0,forced:!Ne,sham:!Ne},{Symbol:hr}),sr(St(Ir),(function(e){ar(e)})),De({target:"Symbol",stat:!0,forced:!Ne},{for:function(e){var t=String(e);if(b(Cr,t))return Cr[t];var n=hr(t);return Cr[t]=n,Sr[n]=t,n},keyFor:function(e){if(!Tr(e))throw TypeError(e+" is not a symbol");if(b(Sr,e))return Sr[e]},useSetter:function(){Mr=!0},useSimple:function(){Mr=!1}}),De({target:"Object",stat:!0,forced:!Ne,sham:!a},{create:function(e,t){return void 0===t?Ot(e):Dr(Ot(e),t)},defineProperty:Or,defineProperties:Dr,getOwnPropertyDescriptor:Rr}),De({target:"Object",stat:!0,forced:!Ne},{getOwnPropertyNames:xr,getOwnPropertySymbols:Lr}),De({target:"Object",stat:!0,forced:i((function(){_e.f(1)}))},{getOwnPropertySymbols:function(e){return _e.f(xe(e))}}),dr){var Nr=!Ne||i((function(){var e=hr();return"[null]"!=dr([e])||"{}"!=dr({a:e})||"{}"!=dr(Object(e))}));De({target:"JSON",stat:!0,forced:Nr},{stringify:function(e,t,n){for(var r,o=[e],i=1;arguments.length>i;)o.push(arguments[i++]);if(r=t,(m(t)||void 0!==e)&&!Tr(e))return Le(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!Tr(t))return t}),o[1]=t,dr.apply(null,o)}})}hr.prototype[cr]||D(hr.prototype,cr,hr.prototype.valueOf),Vt(hr,"Symbol"),z[ur]=!0;var Pr=O.f,Gr=o.Symbol;if(a&&"function"==typeof Gr&&(!("description"in Gr.prototype)||void 0!==Gr().description)){var Ur={},qr=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof qr?new Gr(e):void 0===e?Gr():Gr(e);return""===e&&(Ur[t]=!0),t};Ce(qr,Gr);var jr=qr.prototype=Gr.prototype;jr.constructor=qr;var Fr=jr.toString,$r="Symbol(test)"==String(Gr("test")),Br=/^Symbol\((.*)\)[^)]+$/;Pr(jr,"description",{configurable:!0,get:function(){var e=m(this)?this.valueOf():this,t=Fr.call(e);if(b(Ur,e))return"";var n=$r?t.slice(7,-1):t.replace(Br,"$1");return""===n?void 0:n}}),De({global:!0,forced:!0},{Symbol:qr})}ar("iterator");var Hr=je("unscopables"),Vr=Array.prototype;null==Vr[Hr]&&O.f(Vr,Hr,{configurable:!0,value:Ot(null)});var zr=function(e){Vr[Hr][e]=!0},Kr=Ve.find,Yr=!0,Wr=Xe("find");"find"in[]&&Array(1).find((function(){Yr=!1})),De({target:"Array",proto:!0,forced:Yr||!Wr},{find:function(e){return Kr(this,e,arguments.length>1?arguments[1]:void 0)}}),zr("find");var Xr=he.includes,Jr=Xe("indexOf",{ACCESSORS:!0,1:0});De({target:"Array",proto:!0,forced:!Jr},{includes:function(e){return Xr(this,e,arguments.length>1?arguments[1]:void 0)}}),zr("includes");var Qr=he.indexOf,Zr=[].indexOf,eo=!!Zr&&1/[1].indexOf(1,-0)<0,to=ze("indexOf"),no=Xe("indexOf",{ACCESSORS:!0,1:0});De({target:"Array",proto:!0,forced:eo||!to||!no},{indexOf:function(e){return eo?Zr.apply(this,arguments)||0:Qr(this,e,arguments.length>1?arguments[1]:void 0)}});var ro=Z.set,oo=Z.getterFor("Array Iterator"),io=en(Array,"Array",(function(e,t){ro(this,{type:"Array Iterator",target:v(e),index:0,kind:t})}),(function(){var e=oo(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values");nt.Arguments=nt.Array,zr("keys"),zr("values"),zr("entries");var ao=[].join,so=d!=Object,uo=ze("join",",");De({target:"Array",proto:!0,forced:so||!uo},{join:function(e){return ao.call(v(this),void 0===e?",":e)}});var co=_n("slice"),lo=Xe("slice",{ACCESSORS:!0,0:0,1:2}),fo=je("species"),po=[].slice,ho=Math.max;De({target:"Array",proto:!0,forced:!co||!lo},{slice:function(e,t){var n,r,o,i=v(this),a=ue(i.length),s=fe(e,a),u=fe(void 0===t?a:t,a);if(Le(i)&&("function"!=typeof(n=i.constructor)||n!==Array&&!Le(n.prototype)?m(n)&&null===(n=n[fo])&&(n=void 0):n=void 0,n===Array||void 0===n))return po.call(i,s,u);for(r=new(void 0===n?Array:n)(ho(u-s,0)),o=0;s<u;s++,o++)s in i&&at(r,o,i[s]);return r.length=o,r}}),De({target:"Date",stat:!0},{now:function(){return(new Date).getTime()}});var go="".repeat||function(e){var t=String(g(this)),n="",r=ae(e);if(r<0||1/0==r)throw RangeError("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(t+=t))1&r&&(n+=t);return n},vo=Math.ceil,mo=function(e){return function(t,n,r){var o,i,a=String(g(t)),s=a.length,u=void 0===r?" ":String(r),c=ue(n);return c<=s||""==u?a:(o=c-s,(i=go.call(u,vo(o/u.length))).length>o&&(i=i.slice(0,o)),e?a+i:i+a)}},yo={start:mo(!1),end:mo(!0)}.start,_o=Math.abs,bo=Date.prototype,Co=bo.getTime,So=bo.toISOString,Io=i((function(){return"0385-07-25T07:06:39.999Z"!=So.call(new Date(-5e13-1))}))||!i((function(){So.call(new Date(NaN))}))?function(){if(!isFinite(Co.call(this)))throw RangeError("Invalid time value");var e=this.getUTCFullYear(),t=this.getUTCMilliseconds(),n=e<0?"-":e>9999?"+":"";return n+yo(_o(e),n?6:4,0)+"-"+yo(this.getUTCMonth()+1,2,0)+"-"+yo(this.getUTCDate(),2,0)+"T"+yo(this.getUTCHours(),2,0)+":"+yo(this.getUTCMinutes(),2,0)+":"+yo(this.getUTCSeconds(),2,0)+"."+yo(t,3,0)+"Z"}:So;De({target:"Date",proto:!0,forced:Date.prototype.toISOString!==Io},{toISOString:Io});var wo=Date.prototype,Mo=wo.toString,Eo=wo.getTime;new Date(NaN)+""!="Invalid Date"&&ee(wo,"toString",(function(){var e=Eo.call(this);return e==e?Mo.call(this):"Invalid Date"}));var ko=function(e,t,n){var r,o;return Wt&&"function"==typeof(r=t.constructor)&&r!==n&&m(o=r.prototype)&&o!==n.prototype&&Wt(e,o),e},To="\t\n\v\f\r                　\u2028\u2029\ufeff",Oo="["+To+"]",Do=RegExp("^"+Oo+Oo+"*"),Ao=RegExp(Oo+Oo+"*$"),Ro=function(e){return function(t){var n=String(g(t));return 1&e&&(n=n.replace(Do,"")),2&e&&(n=n.replace(Ao,"")),n}},xo={start:Ro(1),end:Ro(2),trim:Ro(3)},Lo=ye.f,No=E.f,Po=O.f,Go=xo.trim,Uo=o.Number,qo=Uo.prototype,jo="Number"==p(Ot(qo)),Fo=function(e){var t,n,r,o,i,a,s,u,c=y(e,!1);if("string"==typeof c&&c.length>2)if(43===(t=(c=Go(c)).charCodeAt(0))||45===t){if(88===(n=c.charCodeAt(2))||120===n)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+c}for(a=(i=c.slice(2)).length,s=0;s<a;s++)if((u=i.charCodeAt(s))<48||u>o)return NaN;return parseInt(i,r)}return+c};if(Te("Number",!Uo(" 0o1")||!Uo("0b1")||Uo("+0x1"))){for(var $o,Bo=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof Bo&&(jo?i((function(){qo.valueOf.call(n)})):"Number"!=p(n))?ko(new Uo(Fo(t)),n,Bo):Fo(t)},Ho=a?Lo(Uo):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),Vo=0;Ho.length>Vo;Vo++)b(Uo,$o=Ho[Vo])&&!b(Bo,$o)&&Po(Bo,$o,No(Uo,$o));Bo.prototype=qo,qo.constructor=Bo,ee(o,"Number",Bo)}var zo=rr.f,Ko=i((function(){return!Object.getOwnPropertyNames(1)}));De({target:"Object",stat:!0,forced:Ko},{getOwnPropertyNames:zo});var Yo=i((function(){qt(1)}));De({target:"Object",stat:!0,forced:Yo,sham:!Pt},{getPrototypeOf:function(e){return qt(xe(e))}});var Wo=ut?{}.toString:function(){return"[object "+ft(this)+"]"};ut||ee(Object.prototype,"toString",Wo,{unsafe:!0});var Xo=xo.trim,Jo=o.parseInt,Qo=/^[+-]?0[Xx]/,Zo=8!==Jo(To+"08")||22!==Jo(To+"0x16")?function(e,t){var n=Xo(String(e));return Jo(n,t>>>0||(Qo.test(n)?16:10))}:Jo;De({global:!0,forced:parseInt!=Zo},{parseInt:Zo});var ei,ti,ni,ri=o.Promise,oi=function(e,t,n){for(var r in t)ee(e,r,t[r],n);return e},ii=je("species"),ai=function(e){var t=re(e),n=O.f;a&&t&&!t[ii]&&n(t,ii,{configurable:!0,get:function(){return this}})},si=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e},ui=n((function(e){var t=function(e,t){this.stopped=e,this.result=t};(e.exports=function(e,n,r,o,i){var a,s,u,c,l,f,p,h=Re(n,r,o?2:1);if(i)a=e;else{if("function"!=typeof(s=ht(e)))throw TypeError("Target is not iterable");if(it(s)){for(u=0,c=ue(e.length);c>u;u++)if((l=o?h(k(p=e[u])[0],p[1]):h(e[u]))&&l instanceof t)return l;return new t(!1)}a=s.call(e)}for(f=a.next;!(p=f.call(a)).done;)if("object"==typeof(l=tt(a,h,p.value,o))&&l&&l instanceof t)return l;return new t(!1)}).stop=function(e){return new t(!0,e)}})),ci=je("species"),li=function(e,t){var n,r=k(e).constructor;return void 0===r||null==(n=k(r)[ci])?t:Ae(n)},fi=/(iphone|ipod|ipad).*applewebkit/i.test(hn),pi=o.location,hi=o.setImmediate,di=o.clearImmediate,gi=o.process,vi=o.MessageChannel,mi=o.Dispatch,yi=0,_i={},bi=function(e){if(_i.hasOwnProperty(e)){var t=_i[e];delete _i[e],t()}},Ci=function(e){return function(){bi(e)}},Si=function(e){bi(e.data)},Ii=function(e){o.postMessage(e+"",pi.protocol+"//"+pi.host)};hi&&di||(hi=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return _i[++yi]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},ei(yi),yi},di=function(e){delete _i[e]},"process"==p(gi)?ei=function(e){gi.nextTick(Ci(e))}:mi&&mi.now?ei=function(e){mi.now(Ci(e))}:vi&&!fi?(ni=(ti=new vi).port2,ti.port1.onmessage=Si,ei=Re(ni.postMessage,ni,1)):!o.addEventListener||"function"!=typeof postMessage||o.importScripts||i(Ii)?ei="onreadystatechange"in I("script")?function(e){wt.appendChild(I("script")).onreadystatechange=function(){wt.removeChild(this),bi(e)}}:function(e){setTimeout(Ci(e),0)}:(ei=Ii,o.addEventListener("message",Si,!1)));var wi,Mi,Ei,ki,Ti,Oi,Di,Ai,Ri={set:hi,clear:di},xi=E.f,Li=Ri.set,Ni=o.MutationObserver||o.WebKitMutationObserver,Pi=o.process,Gi=o.Promise,Ui="process"==p(Pi),qi=xi(o,"queueMicrotask"),ji=qi&&qi.value;ji||(wi=function(){var e,t;for(Ui&&(e=Pi.domain)&&e.exit();Mi;){t=Mi.fn,Mi=Mi.next;try{t()}catch(q_){throw Mi?ki():Ei=void 0,q_}}Ei=void 0,e&&e.enter()},Ui?ki=function(){Pi.nextTick(wi)}:Ni&&!fi?(Ti=!0,Oi=document.createTextNode(""),new Ni(wi).observe(Oi,{characterData:!0}),ki=function(){Oi.data=Ti=!Ti}):Gi&&Gi.resolve?(Di=Gi.resolve(void 0),Ai=Di.then,ki=function(){Ai.call(Di,wi)}):ki=function(){Li.call(o,wi)});var Fi,$i,Bi,Hi,Vi=ji||function(e){var t={fn:e,next:void 0};Ei&&(Ei.next=t),Mi||(Mi=t,ki()),Ei=t},zi=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=Ae(t),this.reject=Ae(n)},Ki={f:function(e){return new zi(e)}},Yi=function(e,t){if(k(e),m(t)&&t.constructor===e)return t;var n=Ki.f(e);return(0,n.resolve)(t),n.promise},Wi=function(e){try{return{error:!1,value:e()}}catch(q_){return{error:!0,value:q_}}},Xi=Ri.set,Ji=je("species"),Qi="Promise",Zi=Z.get,ea=Z.set,ta=Z.getterFor(Qi),na=ri,ra=o.TypeError,oa=o.document,ia=o.process,aa=re("fetch"),sa=Ki.f,ua=sa,ca="process"==p(ia),la=!!(oa&&oa.createEvent&&o.dispatchEvent),fa=Te(Qi,(function(){if(G(na)===String(na)){if(66===mn)return!0;if(!ca&&"function"!=typeof PromiseRejectionEvent)return!0}if(mn>=51&&/native code/.test(na))return!1;var e=na.resolve(1),t=function(e){e((function(){}),(function(){}))};return(e.constructor={})[Ji]=t,!(e.then((function(){}))instanceof t)})),pa=fa||!_t((function(e){na.all(e).catch((function(){}))})),ha=function(e){var t;return!(!m(e)||"function"!=typeof(t=e.then))&&t},da=function(e,t,n){if(!t.notified){t.notified=!0;var r=t.reactions;Vi((function(){for(var o=t.value,i=1==t.state,a=0;r.length>a;){var s,u,c,l=r[a++],f=i?l.ok:l.fail,p=l.resolve,h=l.reject,d=l.domain;try{f?(i||(2===t.rejection&&ya(e,t),t.rejection=1),!0===f?s=o:(d&&d.enter(),s=f(o),d&&(d.exit(),c=!0)),s===l.promise?h(ra("Promise-chain cycle")):(u=ha(s))?u.call(s,p,h):p(s)):h(o)}catch(q_){d&&!c&&d.exit(),h(q_)}}t.reactions=[],t.notified=!1,n&&!t.rejection&&va(e,t)}))}},ga=function(e,t,n){var r,i;la?((r=oa.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),o.dispatchEvent(r)):r={promise:t,reason:n},(i=o["on"+e])?i(r):"unhandledrejection"===e&&function(e,t){var n=o.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}("Unhandled promise rejection",n)},va=function(e,t){Xi.call(o,(function(){var n,r=t.value;if(ma(t)&&(n=Wi((function(){ca?ia.emit("unhandledRejection",r,e):ga("unhandledrejection",e,r)})),t.rejection=ca||ma(t)?2:1,n.error))throw n.value}))},ma=function(e){return 1!==e.rejection&&!e.parent},ya=function(e,t){Xi.call(o,(function(){ca?ia.emit("rejectionHandled",e):ga("rejectionhandled",e,t.value)}))},_a=function(e,t,n,r){return function(o){e(t,n,o,r)}},ba=function(e,t,n,r){t.done||(t.done=!0,r&&(t=r),t.value=n,t.state=2,da(e,t,!0))},Ca=function(e,t,n,r){if(!t.done){t.done=!0,r&&(t=r);try{if(e===n)throw ra("Promise can't be resolved itself");var o=ha(n);o?Vi((function(){var r={done:!1};try{o.call(n,_a(Ca,e,r,t),_a(ba,e,r,t))}catch(q_){ba(e,r,q_,t)}})):(t.value=n,t.state=1,da(e,t,!1))}catch(q_){ba(e,{done:!1},q_,t)}}};fa&&(na=function(e){si(this,na,Qi),Ae(e),Fi.call(this);var t=Zi(this);try{e(_a(Ca,this,t),_a(ba,this,t))}catch(q_){ba(this,t,q_)}},(Fi=function(e){ea(this,{type:Qi,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=oi(na.prototype,{then:function(e,t){var n=ta(this),r=sa(li(this,na));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=ca?ia.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&da(this,n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),$i=function(){var e=new Fi,t=Zi(e);this.promise=e,this.resolve=_a(Ca,e,t),this.reject=_a(ba,e,t)},Ki.f=sa=function(e){return e===na||e===Bi?new $i(e):ua(e)},"function"==typeof ri&&(Hi=ri.prototype.then,ee(ri.prototype,"then",(function(e,t){var n=this;return new na((function(e,t){Hi.call(n,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof aa&&De({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return Yi(na,aa.apply(o,arguments))}}))),De({global:!0,wrap:!0,forced:fa},{Promise:na}),Vt(na,Qi,!1),ai(Qi),Bi=re(Qi),De({target:Qi,stat:!0,forced:fa},{reject:function(e){var t=sa(this);return t.reject.call(void 0,e),t.promise}}),De({target:Qi,stat:!0,forced:fa},{resolve:function(e){return Yi(this,e)}}),De({target:Qi,stat:!0,forced:pa},{all:function(e){var t=this,n=sa(t),r=n.resolve,o=n.reject,i=Wi((function(){var n=Ae(t.resolve),i=[],a=0,s=1;ui(e,(function(e){var u=a++,c=!1;i.push(void 0),s++,n.call(t,e).then((function(e){c||(c=!0,i[u]=e,--s||r(i))}),o)})),--s||r(i)}));return i.error&&o(i.value),n.promise},race:function(e){var t=this,n=sa(t),r=n.reject,o=Wi((function(){var o=Ae(t.resolve);ui(e,(function(e){o.call(t,e).then(n.resolve,r)}))}));return o.error&&r(o.value),n.promise}});var Sa=function(){var e=k(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t};function Ia(e,t){return RegExp(e,t)}var wa,Ma,Ea={UNSUPPORTED_Y:i((function(){var e=Ia("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),BROKEN_CARET:i((function(){var e=Ia("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},ka=RegExp.prototype.exec,Ta=String.prototype.replace,Oa=ka,Da=(wa=/a/,Ma=/b*/g,ka.call(wa,"a"),ka.call(Ma,"a"),0!==wa.lastIndex||0!==Ma.lastIndex),Aa=Ea.UNSUPPORTED_Y||Ea.BROKEN_CARET,Ra=void 0!==/()??/.exec("")[1];(Da||Ra||Aa)&&(Oa=function(e){var t,n,r,o,i=this,a=Aa&&i.sticky,s=Sa.call(i),u=i.source,c=0,l=e;return a&&(-1===(s=s.replace("y","")).indexOf("g")&&(s+="g"),l=String(e).slice(i.lastIndex),i.lastIndex>0&&(!i.multiline||i.multiline&&"\n"!==e[i.lastIndex-1])&&(u="(?: "+u+")",l=" "+l,c++),n=new RegExp("^(?:"+u+")",s)),Ra&&(n=new RegExp("^"+u+"$(?!\\s)",s)),Da&&(t=i.lastIndex),r=ka.call(a?n:i,l),a?r?(r.input=r.input.slice(c),r[0]=r[0].slice(c),r.index=i.lastIndex,i.lastIndex+=r[0].length):i.lastIndex=0:Da&&r&&(i.lastIndex=i.global?r.index+r[0].length:t),Ra&&r&&r.length>1&&Ta.call(r[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)})),r});var xa=Oa;De({target:"RegExp",proto:!0,forced:/./.exec!==xa},{exec:xa});var La=RegExp.prototype,Na=La.toString,Pa=i((function(){return"/a/b"!=Na.call({source:"a",flags:"b"})})),Ga="toString"!=Na.name;(Pa||Ga)&&ee(RegExp.prototype,"toString",(function(){var e=k(this),t=String(e.source),n=e.flags;return"/"+t+"/"+String(void 0===n&&e instanceof RegExp&&!("flags"in La)?Sa.call(e):n)}),{unsafe:!0});var Ua=je("match"),qa=function(e){var t;return m(e)&&(void 0!==(t=e[Ua])?!!t:"RegExp"==p(e))},ja=function(e){if(qa(e))throw TypeError("The method doesn't accept regular expressions");return e},Fa=je("match");De({target:"String",proto:!0,forced:!function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[Fa]=!1,"/./"[e](t)}catch(o){}}return!1}("includes")},{includes:function(e){return!!~String(g(this)).indexOf(ja(e),arguments.length>1?arguments[1]:void 0)}});var $a=je("species"),Ba=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),Ha="$0"==="a".replace(/./,"$0"),Va=je("replace"),za=!!/./[Va]&&""===/./[Va]("a","$0"),Ka=!i((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]})),Ya=function(e,t,n,r){var o=je(e),a=!i((function(){var t={};return t[o]=function(){return 7},7!=""[e](t)})),s=a&&!i((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[$a]=function(){return n},n.flags="",n[o]=/./[o]),n.exec=function(){return t=!0,null},n[o](""),!t}));if(!a||!s||"replace"===e&&(!Ba||!Ha||za)||"split"===e&&!Ka){var u=/./[o],c=n(o,""[e],(function(e,t,n,r,o){return t.exec===xa?a&&!o?{done:!0,value:u.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),{REPLACE_KEEPS_$0:Ha,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:za}),l=c[0],f=c[1];ee(String.prototype,e,l),ee(RegExp.prototype,o,2==t?function(e,t){return f.call(e,this,t)}:function(e){return f.call(e,this)})}r&&D(RegExp.prototype[o],"sham",!0)},Wa=Nt.charAt,Xa=function(e,t,n){return t+(n?Wa(e,t).length:1)},Ja=function(e,t){var n=e.exec;if("function"==typeof n){var r=n.call(e,t);if("object"!=typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==p(e))throw TypeError("RegExp#exec called on incompatible receiver");return xa.call(e,t)};Ya("match",1,(function(e,t,n){return[function(t){var n=g(this),r=null==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var o=k(e),i=String(this);if(!o.global)return Ja(o,i);var a=o.unicode;o.lastIndex=0;for(var s,u=[],c=0;null!==(s=Ja(o,i));){var l=String(s[0]);u[c]=l,""===l&&(o.lastIndex=Xa(i,ue(o.lastIndex),a)),c++}return 0===c?null:u}]}));var Qa=Math.max,Za=Math.min,es=Math.floor,ts=/\$([$&'`]|\d\d?|<[^>]*>)/g,ns=/\$([$&'`]|\d\d?)/g;Ya("replace",2,(function(e,t,n,r){var o=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,i=r.REPLACE_KEEPS_$0,a=o?"$":"$0";return[function(n,r){var o=g(this),i=null==n?void 0:n[e];return void 0!==i?i.call(n,o,r):t.call(String(o),n,r)},function(e,r){if(!o&&i||"string"==typeof r&&-1===r.indexOf(a)){var u=n(t,e,this,r);if(u.done)return u.value}var c=k(e),l=String(this),f="function"==typeof r;f||(r=String(r));var p=c.global;if(p){var h=c.unicode;c.lastIndex=0}for(var d=[];;){var g=Ja(c,l);if(null===g)break;if(d.push(g),!p)break;""===String(g[0])&&(c.lastIndex=Xa(l,ue(c.lastIndex),h))}for(var v,m="",y=0,_=0;_<d.length;_++){g=d[_];for(var b=String(g[0]),C=Qa(Za(ae(g.index),l.length),0),S=[],I=1;I<g.length;I++)S.push(void 0===(v=g[I])?v:String(v));var w=g.groups;if(f){var M=[b].concat(S,C,l);void 0!==w&&M.push(w);var E=String(r.apply(void 0,M))}else E=s(b,l,C,S,w,r);C>=y&&(m+=l.slice(y,C)+E,y=C+b.length)}return m+l.slice(y)}];function s(e,n,r,o,i,a){var s=r+e.length,u=o.length,c=ns;return void 0!==i&&(i=xe(i),c=ts),t.call(a,c,(function(t,a){var c;switch(a.charAt(0)){case"$":return"$";case"&":return e;case"`":return n.slice(0,r);case"'":return n.slice(s);case"<":c=i[a.slice(1,-1)];break;default:var l=+a;if(0===l)return t;if(l>u){var f=es(l/10);return 0===f?t:f<=u?void 0===o[f-1]?a.charAt(1):o[f-1]+a.charAt(1):t}c=o[l-1]}return void 0===c?"":c}))}}));var rs=je("iterator"),os=je("toStringTag"),is=io.values;for(var as in on){var ss=o[as],us=ss&&ss.prototype;if(us){if(us[rs]!==is)try{D(us,rs,is)}catch(q_){us[rs]=is}if(us[os]||D(us,os,as),on[as])for(var cs in io)if(us[cs]!==io[cs])try{D(us,cs,io[cs])}catch(q_){us[cs]=io[cs]}}}var ls=xo.trim,fs=o.parseFloat,ps=1/fs(To+"-0")!=-1/0?function(e){var t=ls(String(e)),n=fs(t);return 0===n&&"-"==t.charAt(0)?-0:n}:fs;De({global:!0,forced:parseFloat!=ps},{parseFloat:ps});var hs="undefined"!=typeof window,ds="undefined"!=typeof wx&&"function"==typeof wx.getSystemInfoSync,gs=hs&&window.navigator&&window.navigator.userAgent||"",vs=/AppleWebKit\/([\d.]+)/i.exec(gs),ms=(vs&&parseFloat(vs.pop()),/iPad/i.test(gs),/iPhone/i.test(gs),/iPod/i.test(gs),function(){var e=gs.match(/OS (\d+)_/i);e&&e[1]&&e[1]}(),/Android/i.test(gs)),ys=(function(){var e=gs.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;var t=e[1]&&parseFloat(e[1]),n=e[2]&&parseFloat(e[2]);t&&n&&parseFloat(e[1]+"."+e[2])}(),ms&&/webkit/i.test(gs),/Firefox/i.test(gs),/Edge/i.test(gs)),_s=(!ys&&/Chrome/i.test(gs),function(){var e=gs.match(/Chrome\/(\d+)/);e&&e[1]&&parseFloat(e[1])}(),/MSIE/.test(gs)),bs=(/MSIE\s8\.0/.test(gs),function(){var e=/MSIE\s(\d+)\.\d/.exec(gs),t=e&&parseFloat(e[1]);return!t&&/Trident\/7.0/i.test(gs)&&/rv:11.0/.test(gs)&&(t=11),t}()),Cs=(/Safari/i.test(gs),/TBS\/\d+/i.test(gs)),Ss=(function(){var e=gs.match(/TBS\/(\d+)/i);e&&e[1]&&e[1]}(),!Cs&&/MQQBrowser\/\d+/i.test(gs),!Cs&&/ QQBrowser\/\d+/i.test(gs),/(micromessenger|webbrowser)/i.test(gs)),Is=(/Windows/i.test(gs),/MAC OS X/i.test(gs),/MicroMessenger/i.test(gs),_n("splice")),ws=Xe("splice",{ACCESSORS:!0,0:0,1:2}),Ms=Math.max,Es=Math.min;De({target:"Array",proto:!0,forced:!Is||!ws},{splice:function(e,t){var n,r,o,i,a,s,u=xe(this),c=ue(u.length),l=fe(e,c),f=arguments.length;if(0===f?n=r=0:1===f?(n=0,r=c-l):(n=f-2,r=Es(Ms(ae(t),0),c-l)),c+n-r>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(o=$e(u,r),i=0;i<r;i++)(a=l+i)in u&&at(o,i,u[a]);if(o.length=r,n<r){for(i=l;i<c-r;i++)s=i+n,(a=i+r)in u?u[s]=u[a]:delete u[s];for(i=c;i>c-r+n;i--)delete u[i-1]}else if(n>r)for(i=c-r;i>l;i--)s=i+n-1,(a=i+r-1)in u?u[s]=u[a]:delete u[s];for(i=0;i<n;i++)u[i+l]=arguments[i+2];return u.length=c-r+n,o}});var ks,Ts,Os=!i((function(){return Object.isExtensible(Object.preventExtensions({}))})),Ds=n((function(e){var t=O.f,n=B("meta"),r=0,o=Object.isExtensible||function(){return!0},i=function(e){t(e,n,{value:{objectID:"O"+ ++r,weakData:{}}})},a=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!m(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!b(e,n)){if(!o(e))return"F";if(!t)return"E";i(e)}return e[n].objectID},getWeakData:function(e,t){if(!b(e,n)){if(!o(e))return!0;if(!t)return!1;i(e)}return e[n].weakData},onFreeze:function(e){return Os&&a.REQUIRED&&o(e)&&!b(e,n)&&i(e),e}};z[n]=!0})),As=(Ds.REQUIRED,Ds.fastKey,Ds.getWeakData,Ds.onFreeze,O.f),Rs=Ds.fastKey,xs=Z.set,Ls=Z.getterFor,Ns=(function(e,t,n){var r=-1!==e.indexOf("Map"),a=-1!==e.indexOf("Weak"),s=r?"set":"add",u=o[e],c=u&&u.prototype,l=u,f={},p=function(e){var t=c[e];ee(c,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(a&&!m(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return a&&!m(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(a&&!m(e))&&t.call(this,0===e?0:e)}:function(e,n){return t.call(this,0===e?0:e,n),this})};if(Te(e,"function"!=typeof u||!(a||c.forEach&&!i((function(){(new u).entries().next()})))))l=n.getConstructor(t,e,r,s),Ds.REQUIRED=!0;else if(Te(e,!0)){var h=new l,d=h[s](a?{}:-0,1)!=h,g=i((function(){h.has(1)})),v=_t((function(e){new u(e)})),y=!a&&i((function(){for(var e=new u,t=5;t--;)e[s](t,t);return!e.has(-0)}));v||((l=t((function(t,n){si(t,l,e);var o=ko(new u,t,l);return null!=n&&ui(n,o[s],o,r),o}))).prototype=c,c.constructor=l),(g||y)&&(p("delete"),p("has"),r&&p("get")),(y||d)&&p(s),a&&c.clear&&delete c.clear}f[e]=l,De({global:!0,forced:l!=u},f),Vt(l,e),a||n.setStrong(l,e,r)}("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),{getConstructor:function(e,t,n,r){var o=e((function(e,i){si(e,o,t),xs(e,{type:t,index:Ot(null),first:void 0,last:void 0,size:0}),a||(e.size=0),null!=i&&ui(i,e[r],e,n)})),i=Ls(t),s=function(e,t,n){var r,o,s=i(e),c=u(e,t);return c?c.value=n:(s.last=c={index:o=Rs(t,!0),key:t,value:n,previous:r=s.last,next:void 0,removed:!1},s.first||(s.first=c),r&&(r.next=c),a?s.size++:e.size++,"F"!==o&&(s.index[o]=c)),e},u=function(e,t){var n,r=i(e),o=Rs(t);if("F"!==o)return r.index[o];for(n=r.first;n;n=n.next)if(n.key==t)return n};return oi(o.prototype,{clear:function(){for(var e=i(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,a?e.size=0:this.size=0},delete:function(e){var t=i(this),n=u(this,e);if(n){var r=n.next,o=n.previous;delete t.index[n.index],n.removed=!0,o&&(o.next=r),r&&(r.previous=o),t.first==n&&(t.first=r),t.last==n&&(t.last=o),a?t.size--:this.size--}return!!n},forEach:function(e){for(var t,n=i(this),r=Re(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!u(this,e)}}),oi(o.prototype,n?{get:function(e){var t=u(this,e);return t&&t.value},set:function(e,t){return s(this,0===e?0:e,t)}}:{add:function(e){return s(this,e=0===e?0:e,e)}}),a&&As(o.prototype,"size",{get:function(){return i(this).size}}),o},setStrong:function(e,t,n){var r=t+" Iterator",o=Ls(t),i=Ls(r);en(e,t,(function(e,t){xs(this,{type:r,target:e,state:o(e),kind:t,last:void 0})}),(function(){for(var e=i(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),ai(t)}}),"undefined"!=typeof t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});ks="undefined"!=typeof console?console:void 0!==Ns&&Ns.console?Ns.console:"undefined"!=typeof window&&window.console?window.console:{};for(var Ps=function(){},Gs=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],Us=Gs.length;Us--;)Ts=Gs[Us],console[Ts]||(ks[Ts]=Ps);ks.methods=Gs;var qs=ks,js=0,Fs=new Map;function $s(){var e=new Date;return"TIM "+e.toLocaleTimeString("en-US",{hour12:!1})+"."+function(e){var t;switch(e.toString().length){case 1:t="00"+e;break;case 2:t="0"+e;break;default:t=e}return t}(e.getMilliseconds())+":"}var Bs={_data:[],_length:0,_visible:!1,arguments2String:function(e){var t;if(1===e.length)t=$s()+e[0];else{t=$s();for(var n=0,r=e.length;n<r;n++)Js(e[n])?Zs(e[n])?t+=iu(e[n]):t+=JSON.stringify(e[n]):t+=e[n],t+=" "}return t},debug:function(){if(js<=-1){var e=this.arguments2String(arguments);Bs.record(e,"debug"),qs.debug(e)}},log:function(){if(js<=0){var e=this.arguments2String(arguments);Bs.record(e,"log"),qs.log(e)}},info:function(){if(js<=1){var e=this.arguments2String(arguments);Bs.record(e,"info"),qs.info(e)}},warn:function(){if(js<=2){var e=this.arguments2String(arguments);Bs.record(e,"warn"),qs.warn(e)}},error:function(){if(js<=3){var e=this.arguments2String(arguments);Bs.record(e,"error"),qs.error(e)}},time:function(e){Fs.set(e,ru.now())},timeEnd:function(e){if(Fs.has(e)){var t=ru.now()-Fs.get(e);return Fs.delete(e),t}return qs.warn("未找到对应label: ".concat(e,", 请在调用 logger.timeEnd 前，调用 logger.time")),0},setLevel:function(e){e<4&&qs.log($s()+"set level from "+js+" to "+e),js=e},record:function(e,t){1100===Bs._length&&(Bs._data.splice(0,100),Bs._length=1e3),Bs._length++,Bs._data.push("".concat(e," [").concat(t,"] \n"))},getLog:function(){return Bs._data}},Hs=function(e){return"file"===eu(e)},Vs=function(e){return null!==e&&("number"==typeof e&&!isNaN(e-0)||"object"===kn(e)&&e.constructor===Number)},zs=function(e){return"string"==typeof e},Ks=function(e){return null!==e&&"object"===kn(e)},Ys=function(e){if("object"!==kn(e)||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n},Ws=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"array"===eu(e)},Xs=function(e){return void 0===e},Js=function(e){return Ws(e)||Ks(e)},Qs=function(e){return"function"==typeof e},Zs=function(e){return e instanceof Error},eu=function(e){return Object.prototype.toString.call(e).match(/^\[object (.*)\]$/)[1].toLowerCase()},tu=function(e){if("string"!=typeof e)return!1;var t=e[0];return!/[^a-zA-Z0-9]/.test(t)},nu=0;Date.now||(Date.now=function(){return(new Date).getTime()});var ru={now:function(){0===nu&&(nu=Date.now()-1);var e=Date.now()-nu;return e>4294967295?(nu+=4294967295,Date.now()-nu):e},utc:function(){return Math.round(Date.now()/1e3)}},ou=function e(t,n,r,o){if(!Js(t)||!Js(n))return 0;for(var i,a=0,s=Object.keys(n),u=0,c=s.length;u<c;u++)if(i=s[u],!(Xs(n[i])||r&&r.includes(i)))if(Js(t[i])&&Js(n[i]))a+=e(t[i],n[i],r,o);else{if(o&&o.includes(n[i]))continue;t[i]!==n[i]&&(t[i]=n[i],a+=1)}return a},iu=function(e){return JSON.stringify(e,["message","code"])},au=function(){var e=new Date,t=e.toISOString(),n=e.getTimezoneOffset()/60,r="";return r=n<0?n>-10?"+0"+Math.abs(100*n):"+"+Math.abs(100*n):n>=10?"-"+100*n:"-0"+100*n,t.replace("Z",r)},su=function(e){if(0===e.length)return 0;for(var t=0,n=0,r="undefined"!=typeof document&&void 0!==document.characterSet?document.characterSet:"UTF-8";void 0!==e[t];)n+=e[t++].charCodeAt[t]<=255?1:!1===r?3:2;return n},uu=function(e){var t=e||99999999;return Math.round(Math.random()*t)},cu="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",lu=cu.length,fu=function(e,t){for(var n in e)if(e[n]===t)return!0;return!1},pu={},hu=function(){if(ds)return"https:";var e=window.location.protocol;return["http:","https:"].indexOf(e)<0&&(e="http:"),e},du=function(e){return-1===e.indexOf("http://")||-1===e.indexOf("https://")?"https://"+e:e.replace(/https|http/,"https")};function gu(e,t){Ws(e)&&Ws(t)?t.forEach((function(t){var n=t.key,r=t.value,o=e.find((function(e){return e.key===n}));o?o.value=r:e.push({key:n,value:r})})):Bs.warn("updateCustomField target 或 source 不是数组，忽略此次更新。")}var vu=function(e){return e===pn.GRP_PUBLIC},mu=function(e){return e===pn.GRP_AVCHATROOM},yu=function(e){return zs(e)&&e===pn.CONV_SYSTEM};function _u(e,t){var n={};return Object.keys(e).forEach((function(r){n[r]=t(e[r],r)})),n}var bu=Object.prototype.hasOwnProperty;function Cu(e){if(null==e)return!0;if("boolean"==typeof e)return!1;if("number"==typeof e)return 0===e;if("string"==typeof e)return 0===e.length;if("function"==typeof e)return 0===e.length;if(Array.isArray(e))return 0===e.length;if(e instanceof Error)return""===e.message;if(Ys(e)){for(var t in e)if(bu.call(e,t))return!1;return!0}return!("map"!==eu(e)&&!function(e){return"set"===eu(e)}(e)&&!Hs(e))&&0===e.size}function Su(e,t,n){if(void 0===t)return!0;var r=!0;if("object"===Zn(t).toLowerCase())Object.keys(t).forEach((function(o){var i=1===e.length?e[0][o]:void 0;r=!!Iu(i,t[o],n,o)&&r}));else if("array"===Zn(t).toLowerCase())for(var o=0;o<t.length;o++)r=!!Iu(e[o],t[o],n,t[o].name)&&r;if(r)return r;throw new Error("Params validate failed.")}function Iu(e,t,n,r){if(void 0===t)return!0;var o=!0;return t.required&&Cu(e)&&(qs.error("TIM [".concat(n,'] Missing required params: "').concat(r,'".')),o=!1),Cu(e)||Zn(e).toLowerCase()===t.type.toLowerCase()||(qs.error("TIM [".concat(n,'] Invalid params: type check failed for "').concat(r,'".Expected ').concat(t.type,".")),o=!1),t.validator&&!t.validator(e)&&(qs.error("TIM [".concat(n,"] Invalid params: custom validator check failed for params.")),o=!1),o}var wu=c.f,Mu=function(e){return function(t){for(var n,r=v(t),o=St(r),i=o.length,s=0,u=[];i>s;)n=o[s++],a&&!wu.call(r,n)||u.push(e?[n,r[n]]:r[n]);return u}},Eu={entries:Mu(!0),values:Mu(!1)}.values;De({target:"Object",stat:!0},{values:function(e){return Eu(e)}});var ku={SUCCESS:"JoinedSuccess",WAIT_APPROVAL:"WaitAdminApproval"},Tu={SUCCESS:0},Ou={IS_LOGIN:1,IS_NOT_LOGIN:0},Du={UNSEND:"unSend",SUCCESS:"success",FAIL:"fail"},Au={NOT_START:"notStart",PENDING:"pengding",RESOLVED:"resolved",REJECTED:"rejected"},Ru=function(){function e(t){Tn(this,e),this.type=pn.MSG_TEXT,this.content={text:t.text||""}}return Dn(e,[{key:"setText",value:function(e){this.content.text=e}},{key:"sendable",value:function(){return 0!==this.content.text.length}}]),e}(),xu=je("iterator"),Lu=!i((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,r){t.delete("b"),n+=r+e})),!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[xu]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host})),Nu=Object.assign,Pu=Object.defineProperty,Gu=!Nu||i((function(){if(a&&1!==Nu({b:1},Nu(Pu({},"a",{enumerable:!0,get:function(){Pu(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol();return e[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(e){t[e]=e})),7!=Nu({},e)[n]||"abcdefghijklmnopqrst"!=St(Nu({},t)).join("")}))?function(e,t){for(var n=xe(e),r=arguments.length,o=1,i=_e.f,s=c.f;r>o;)for(var u,l=d(arguments[o++]),f=i?St(l).concat(i(l)):St(l),p=f.length,h=0;p>h;)u=f[h++],a&&!s.call(l,u)||(n[u]=l[u]);return n}:Nu,Uu=/[^\0-\u007E]/,qu=/[.\u3002\uFF0E\uFF61]/g,ju="Overflow: input needs wider integers to process",Fu=Math.floor,$u=String.fromCharCode,Bu=function(e){return e+22+75*(e<26)},Hu=function(e,t,n){var r=0;for(e=n?Fu(e/700):e>>1,e+=Fu(e/t);e>455;r+=36)e=Fu(e/35);return Fu(r+36*e/(e+38))},Vu=function(e){var t,n,r=[],o=(e=function(e){for(var t=[],n=0,r=e.length;n<r;){var o=e.charCodeAt(n++);if(o>=55296&&o<=56319&&n<r){var i=e.charCodeAt(n++);56320==(64512&i)?t.push(((1023&o)<<10)+(1023&i)+65536):(t.push(o),n--)}else t.push(o)}return t}(e)).length,i=128,a=0,s=72;for(t=0;t<e.length;t++)(n=e[t])<128&&r.push($u(n));var u=r.length,c=u;for(u&&r.push("-");c<o;){var l=2147483647;for(t=0;t<e.length;t++)(n=e[t])>=i&&n<l&&(l=n);var f=c+1;if(l-i>Fu((2147483647-a)/f))throw RangeError(ju);for(a+=(l-i)*f,i=l,t=0;t<e.length;t++){if((n=e[t])<i&&++a>2147483647)throw RangeError(ju);if(n==i){for(var p=a,h=36;;h+=36){var d=h<=s?1:h>=s+26?26:h-s;if(p<d)break;var g=p-d,v=36-d;r.push($u(Bu(d+g%v))),p=Fu(g/v)}r.push($u(Bu(p))),s=Hu(a,f,c==u),a=0,++c}}++a,++i}return r.join("")},zu=function(e){var t=ht(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return k(t.call(e))},Ku=re("fetch"),Yu=re("Headers"),Wu=je("iterator"),Xu=Z.set,Ju=Z.getterFor("URLSearchParams"),Qu=Z.getterFor("URLSearchParamsIterator"),Zu=/\+/g,ec=Array(4),tc=function(e){return ec[e-1]||(ec[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},nc=function(e){try{return decodeURIComponent(e)}catch(q_){return e}},rc=function(e){var t=e.replace(Zu," "),n=4;try{return decodeURIComponent(t)}catch(q_){for(;n;)t=t.replace(tc(n--),nc);return t}},oc=/[!'()~]|%20/g,ic={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},ac=function(e){return ic[e]},sc=function(e){return encodeURIComponent(e).replace(oc,ac)},uc=function(e,t){if(t)for(var n,r,o=t.split("&"),i=0;i<o.length;)(n=o[i++]).length&&(r=n.split("="),e.push({key:rc(r.shift()),value:rc(r.join("="))}))},cc=function(e){this.entries.length=0,uc(this.entries,e)},lc=function(e,t){if(e<t)throw TypeError("Not enough arguments")},fc=Yt((function(e,t){Xu(this,{type:"URLSearchParamsIterator",iterator:zu(Ju(e).entries),kind:t})}),"Iterator",(function(){var e=Qu(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n})),pc=function(){si(this,pc,"URLSearchParams");var e,t,n,r,o,i,a,s,u,c=arguments.length>0?arguments[0]:void 0,l=this,f=[];if(Xu(l,{type:"URLSearchParams",entries:f,updateURL:function(){},updateSearchParams:cc}),void 0!==c)if(m(c))if("function"==typeof(e=ht(c)))for(n=(t=e.call(c)).next;!(r=n.call(t)).done;){if((a=(i=(o=zu(k(r.value))).next).call(o)).done||(s=i.call(o)).done||!i.call(o).done)throw TypeError("Expected sequence with length 2");f.push({key:a.value+"",value:s.value+""})}else for(u in c)b(c,u)&&f.push({key:u,value:c[u]+""});else uc(f,"string"==typeof c?"?"===c.charAt(0)?c.slice(1):c:c+"")},hc=pc.prototype;oi(hc,{append:function(e,t){lc(arguments.length,2);var n=Ju(this);n.entries.push({key:e+"",value:t+""}),n.updateURL()},delete:function(e){lc(arguments.length,1);for(var t=Ju(this),n=t.entries,r=e+"",o=0;o<n.length;)n[o].key===r?n.splice(o,1):o++;t.updateURL()},get:function(e){lc(arguments.length,1);for(var t=Ju(this).entries,n=e+"",r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){lc(arguments.length,1);for(var t=Ju(this).entries,n=e+"",r=[],o=0;o<t.length;o++)t[o].key===n&&r.push(t[o].value);return r},has:function(e){lc(arguments.length,1);for(var t=Ju(this).entries,n=e+"",r=0;r<t.length;)if(t[r++].key===n)return!0;return!1},set:function(e,t){lc(arguments.length,1);for(var n,r=Ju(this),o=r.entries,i=!1,a=e+"",s=t+"",u=0;u<o.length;u++)(n=o[u]).key===a&&(i?o.splice(u--,1):(i=!0,n.value=s));i||o.push({key:a,value:s}),r.updateURL()},sort:function(){var e,t,n,r=Ju(this),o=r.entries,i=o.slice();for(o.length=0,n=0;n<i.length;n++){for(e=i[n],t=0;t<n;t++)if(o[t].key>e.key){o.splice(t,0,e);break}t===n&&o.push(e)}r.updateURL()},forEach:function(e){for(var t,n=Ju(this).entries,r=Re(e,arguments.length>1?arguments[1]:void 0,3),o=0;o<n.length;)r((t=n[o++]).value,t.key,this)},keys:function(){return new fc(this,"keys")},values:function(){return new fc(this,"values")},entries:function(){return new fc(this,"entries")}},{enumerable:!0}),ee(hc,Wu,hc.entries),ee(hc,"toString",(function(){for(var e,t=Ju(this).entries,n=[],r=0;r<t.length;)e=t[r++],n.push(sc(e.key)+"="+sc(e.value));return n.join("&")}),{enumerable:!0}),Vt(pc,"URLSearchParams"),De({global:!0,forced:!Lu},{URLSearchParams:pc}),Lu||"function"!=typeof Ku||"function"!=typeof Yu||De({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t,n,r,o=[e];return arguments.length>1&&(t=arguments[1],m(t)&&(n=t.body,"URLSearchParams"===ft(n)&&((r=t.headers?new Yu(t.headers):new Yu).has("content-type")||r.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),t=Ot(t,{body:l(0,String(n)),headers:l(0,r)}))),o.push(t)),Ku.apply(this,o)}});var dc,gc={URLSearchParams:pc,getState:Ju},vc=Nt.codeAt,mc=o.URL,yc=gc.URLSearchParams,_c=gc.getState,bc=Z.set,Cc=Z.getterFor("URL"),Sc=Math.floor,Ic=Math.pow,wc=/[A-Za-z]/,Mc=/[\d+\-.A-Za-z]/,Ec=/\d/,kc=/^(0x|0X)/,Tc=/^[0-7]+$/,Oc=/^\d+$/,Dc=/^[\dA-Fa-f]+$/,Ac=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,Rc=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,xc=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,Lc=/[\u0009\u000A\u000D]/g,Nc=function(e,t){var n,r,o;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return"Invalid host";if(!(n=Gc(t.slice(1,-1))))return"Invalid host";e.host=n}else if(Vc(e)){if(t=function(e){var t,n,r=[],o=e.toLowerCase().replace(qu,".").split(".");for(t=0;t<o.length;t++)n=o[t],r.push(Uu.test(n)?"xn--"+Vu(n):n);return r.join(".")}(t),Ac.test(t))return"Invalid host";if(null===(n=Pc(t)))return"Invalid host";e.host=n}else{if(Rc.test(t))return"Invalid host";for(n="",r=dt(t),o=0;o<r.length;o++)n+=Bc(r[o],qc);e.host=n}},Pc=function(e){var t,n,r,o,i,a,s,u=e.split(".");if(u.length&&""==u[u.length-1]&&u.pop(),(t=u.length)>4)return e;for(n=[],r=0;r<t;r++){if(""==(o=u[r]))return e;if(i=10,o.length>1&&"0"==o.charAt(0)&&(i=kc.test(o)?16:8,o=o.slice(8==i?1:2)),""===o)a=0;else{if(!(10==i?Oc:8==i?Tc:Dc).test(o))return e;a=parseInt(o,i)}n.push(a)}for(r=0;r<t;r++)if(a=n[r],r==t-1){if(a>=Ic(256,5-t))return null}else if(a>255)return null;for(s=n.pop(),r=0;r<n.length;r++)s+=n[r]*Ic(256,3-r);return s},Gc=function(e){var t,n,r,o,i,a,s,u=[0,0,0,0,0,0,0,0],c=0,l=null,f=0,p=function(){return e.charAt(f)};if(":"==p()){if(":"!=e.charAt(1))return;f+=2,l=++c}for(;p();){if(8==c)return;if(":"!=p()){for(t=n=0;n<4&&Dc.test(p());)t=16*t+parseInt(p(),16),f++,n++;if("."==p()){if(0==n)return;if(f-=n,c>6)return;for(r=0;p();){if(o=null,r>0){if(!("."==p()&&r<4))return;f++}if(!Ec.test(p()))return;for(;Ec.test(p());){if(i=parseInt(p(),10),null===o)o=i;else{if(0==o)return;o=10*o+i}if(o>255)return;f++}u[c]=256*u[c]+o,2!=++r&&4!=r||c++}if(4!=r)return;break}if(":"==p()){if(f++,!p())return}else if(p())return;u[c++]=t}else{if(null!==l)return;f++,l=++c}}if(null!==l)for(a=c-l,c=7;0!=c&&a>0;)s=u[c],u[c--]=u[l+a-1],u[l+--a]=s;else if(8!=c)return;return u},Uc=function(e){var t,n,r,o;if("number"==typeof e){for(t=[],n=0;n<4;n++)t.unshift(e%256),e=Sc(e/256);return t.join(".")}if("object"==typeof e){for(t="",r=function(e){for(var t=null,n=1,r=null,o=0,i=0;i<8;i++)0!==e[i]?(o>n&&(t=r,n=o),r=null,o=0):(null===r&&(r=i),++o);return o>n&&(t=r,n=o),t}(e),n=0;n<8;n++)o&&0===e[n]||(o&&(o=!1),r===n?(t+=n?":":"::",o=!0):(t+=e[n].toString(16),n<7&&(t+=":")));return"["+t+"]"}return e},qc={},jc=Gu({},qc,{" ":1,'"':1,"<":1,">":1,"`":1}),Fc=Gu({},jc,{"#":1,"?":1,"{":1,"}":1}),$c=Gu({},Fc,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Bc=function(e,t){var n=vc(e,0);return n>32&&n<127&&!b(t,e)?e:encodeURIComponent(e)},Hc={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Vc=function(e){return b(Hc,e.scheme)},zc=function(e){return""!=e.username||""!=e.password},Kc=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},Yc=function(e,t){var n;return 2==e.length&&wc.test(e.charAt(0))&&(":"==(n=e.charAt(1))||!t&&"|"==n)},Wc=function(e){var t;return e.length>1&&Yc(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},Xc=function(e){var t=e.path,n=t.length;!n||"file"==e.scheme&&1==n&&Yc(t[0],!0)||t.pop()},Jc=function(e){return"."===e||"%2e"===e.toLowerCase()},Qc={},Zc={},el={},tl={},nl={},rl={},ol={},il={},al={},sl={},ul={},cl={},ll={},fl={},pl={},hl={},dl={},gl={},vl={},ml={},yl={},_l=function(e,t,n,r){var o,i,a,s,u,c=n||Qc,l=0,f="",p=!1,h=!1,d=!1;for(n||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(xc,"")),t=t.replace(Lc,""),o=dt(t);l<=o.length;){switch(i=o[l],c){case Qc:if(!i||!wc.test(i)){if(n)return"Invalid scheme";c=el;continue}f+=i.toLowerCase(),c=Zc;break;case Zc:if(i&&(Mc.test(i)||"+"==i||"-"==i||"."==i))f+=i.toLowerCase();else{if(":"!=i){if(n)return"Invalid scheme";f="",c=el,l=0;continue}if(n&&(Vc(e)!=b(Hc,f)||"file"==f&&(zc(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=f,n)return void(Vc(e)&&Hc[e.scheme]==e.port&&(e.port=null));f="","file"==e.scheme?c=fl:Vc(e)&&r&&r.scheme==e.scheme?c=tl:Vc(e)?c=il:"/"==o[l+1]?(c=nl,l++):(e.cannotBeABaseURL=!0,e.path.push(""),c=vl)}break;case el:if(!r||r.cannotBeABaseURL&&"#"!=i)return"Invalid scheme";if(r.cannotBeABaseURL&&"#"==i){e.scheme=r.scheme,e.path=r.path.slice(),e.query=r.query,e.fragment="",e.cannotBeABaseURL=!0,c=yl;break}c="file"==r.scheme?fl:rl;continue;case tl:if("/"!=i||"/"!=o[l+1]){c=rl;continue}c=al,l++;break;case nl:if("/"==i){c=sl;break}c=gl;continue;case rl:if(e.scheme=r.scheme,i==dc)e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query=r.query;else if("/"==i||"\\"==i&&Vc(e))c=ol;else if("?"==i)e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query="",c=ml;else{if("#"!=i){e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.path.pop(),c=gl;continue}e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query=r.query,e.fragment="",c=yl}break;case ol:if(!Vc(e)||"/"!=i&&"\\"!=i){if("/"!=i){e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,c=gl;continue}c=sl}else c=al;break;case il:if(c=al,"/"!=i||"/"!=f.charAt(l+1))continue;l++;break;case al:if("/"!=i&&"\\"!=i){c=sl;continue}break;case sl:if("@"==i){p&&(f="%40"+f),p=!0,a=dt(f);for(var g=0;g<a.length;g++){var v=a[g];if(":"!=v||d){var m=Bc(v,$c);d?e.password+=m:e.username+=m}else d=!0}f=""}else if(i==dc||"/"==i||"?"==i||"#"==i||"\\"==i&&Vc(e)){if(p&&""==f)return"Invalid authority";l-=dt(f).length+1,f="",c=ul}else f+=i;break;case ul:case cl:if(n&&"file"==e.scheme){c=hl;continue}if(":"!=i||h){if(i==dc||"/"==i||"?"==i||"#"==i||"\\"==i&&Vc(e)){if(Vc(e)&&""==f)return"Invalid host";if(n&&""==f&&(zc(e)||null!==e.port))return;if(s=Nc(e,f))return s;if(f="",c=dl,n)return;continue}"["==i?h=!0:"]"==i&&(h=!1),f+=i}else{if(""==f)return"Invalid host";if(s=Nc(e,f))return s;if(f="",c=ll,n==cl)return}break;case ll:if(!Ec.test(i)){if(i==dc||"/"==i||"?"==i||"#"==i||"\\"==i&&Vc(e)||n){if(""!=f){var y=parseInt(f,10);if(y>65535)return"Invalid port";e.port=Vc(e)&&y===Hc[e.scheme]?null:y,f=""}if(n)return;c=dl;continue}return"Invalid port"}f+=i;break;case fl:if(e.scheme="file","/"==i||"\\"==i)c=pl;else{if(!r||"file"!=r.scheme){c=gl;continue}if(i==dc)e.host=r.host,e.path=r.path.slice(),e.query=r.query;else if("?"==i)e.host=r.host,e.path=r.path.slice(),e.query="",c=ml;else{if("#"!=i){Wc(o.slice(l).join(""))||(e.host=r.host,e.path=r.path.slice(),Xc(e)),c=gl;continue}e.host=r.host,e.path=r.path.slice(),e.query=r.query,e.fragment="",c=yl}}break;case pl:if("/"==i||"\\"==i){c=hl;break}r&&"file"==r.scheme&&!Wc(o.slice(l).join(""))&&(Yc(r.path[0],!0)?e.path.push(r.path[0]):e.host=r.host),c=gl;continue;case hl:if(i==dc||"/"==i||"\\"==i||"?"==i||"#"==i){if(!n&&Yc(f))c=gl;else if(""==f){if(e.host="",n)return;c=dl}else{if(s=Nc(e,f))return s;if("localhost"==e.host&&(e.host=""),n)return;f="",c=dl}continue}f+=i;break;case dl:if(Vc(e)){if(c=gl,"/"!=i&&"\\"!=i)continue}else if(n||"?"!=i)if(n||"#"!=i){if(i!=dc&&(c=gl,"/"!=i))continue}else e.fragment="",c=yl;else e.query="",c=ml;break;case gl:if(i==dc||"/"==i||"\\"==i&&Vc(e)||!n&&("?"==i||"#"==i)){if(".."===(u=(u=f).toLowerCase())||"%2e."===u||".%2e"===u||"%2e%2e"===u?(Xc(e),"/"==i||"\\"==i&&Vc(e)||e.path.push("")):Jc(f)?"/"==i||"\\"==i&&Vc(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&Yc(f)&&(e.host&&(e.host=""),f=f.charAt(0)+":"),e.path.push(f)),f="","file"==e.scheme&&(i==dc||"?"==i||"#"==i))for(;e.path.length>1&&""===e.path[0];)e.path.shift();"?"==i?(e.query="",c=ml):"#"==i&&(e.fragment="",c=yl)}else f+=Bc(i,Fc);break;case vl:"?"==i?(e.query="",c=ml):"#"==i?(e.fragment="",c=yl):i!=dc&&(e.path[0]+=Bc(i,qc));break;case ml:n||"#"!=i?i!=dc&&("'"==i&&Vc(e)?e.query+="%27":e.query+="#"==i?"%23":Bc(i,qc)):(e.fragment="",c=yl);break;case yl:i!=dc&&(e.fragment+=Bc(i,jc))}l++}},bl=function(e){var t,n,r=si(this,bl,"URL"),o=arguments.length>1?arguments[1]:void 0,i=String(e),s=bc(r,{type:"URL"});if(void 0!==o)if(o instanceof bl)t=Cc(o);else if(n=_l(t={},String(o)))throw TypeError(n);if(n=_l(s,i,null,t))throw TypeError(n);var u=s.searchParams=new yc,c=_c(u);c.updateSearchParams(s.query),c.updateURL=function(){s.query=String(u)||null},a||(r.href=Sl.call(r),r.origin=Il.call(r),r.protocol=wl.call(r),r.username=Ml.call(r),r.password=El.call(r),r.host=kl.call(r),r.hostname=Tl.call(r),r.port=Ol.call(r),r.pathname=Dl.call(r),r.search=Al.call(r),r.searchParams=Rl.call(r),r.hash=xl.call(r))},Cl=bl.prototype,Sl=function(){var e=Cc(this),t=e.scheme,n=e.username,r=e.password,o=e.host,i=e.port,a=e.path,s=e.query,u=e.fragment,c=t+":";return null!==o?(c+="//",zc(e)&&(c+=n+(r?":"+r:"")+"@"),c+=Uc(o),null!==i&&(c+=":"+i)):"file"==t&&(c+="//"),c+=e.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==s&&(c+="?"+s),null!==u&&(c+="#"+u),c},Il=function(){var e=Cc(this),t=e.scheme,n=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(q_){return"null"}return"file"!=t&&Vc(e)?t+"://"+Uc(e.host)+(null!==n?":"+n:""):"null"},wl=function(){return Cc(this).scheme+":"},Ml=function(){return Cc(this).username},El=function(){return Cc(this).password},kl=function(){var e=Cc(this),t=e.host,n=e.port;return null===t?"":null===n?Uc(t):Uc(t)+":"+n},Tl=function(){var e=Cc(this).host;return null===e?"":Uc(e)},Ol=function(){var e=Cc(this).port;return null===e?"":String(e)},Dl=function(){var e=Cc(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},Al=function(){var e=Cc(this).query;return e?"?"+e:""},Rl=function(){return Cc(this).searchParams},xl=function(){var e=Cc(this).fragment;return e?"#"+e:""},Ll=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(a&&It(Cl,{href:Ll(Sl,(function(e){var t=Cc(this),n=String(e),r=_l(t,n);if(r)throw TypeError(r);_c(t.searchParams).updateSearchParams(t.query)})),origin:Ll(Il),protocol:Ll(wl,(function(e){var t=Cc(this);_l(t,String(e)+":",Qc)})),username:Ll(Ml,(function(e){var t=Cc(this),n=dt(String(e));if(!Kc(t)){t.username="";for(var r=0;r<n.length;r++)t.username+=Bc(n[r],$c)}})),password:Ll(El,(function(e){var t=Cc(this),n=dt(String(e));if(!Kc(t)){t.password="";for(var r=0;r<n.length;r++)t.password+=Bc(n[r],$c)}})),host:Ll(kl,(function(e){var t=Cc(this);t.cannotBeABaseURL||_l(t,String(e),ul)})),hostname:Ll(Tl,(function(e){var t=Cc(this);t.cannotBeABaseURL||_l(t,String(e),cl)})),port:Ll(Ol,(function(e){var t=Cc(this);Kc(t)||(""==(e=String(e))?t.port=null:_l(t,e,ll))})),pathname:Ll(Dl,(function(e){var t=Cc(this);t.cannotBeABaseURL||(t.path=[],_l(t,e+"",dl))})),search:Ll(Al,(function(e){var t=Cc(this);""==(e=String(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",_l(t,e,ml)),_c(t.searchParams).updateSearchParams(t.query)})),searchParams:Ll(Rl),hash:Ll(xl,(function(e){var t=Cc(this);""!=(e=String(e))?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",_l(t,e,yl)):t.fragment=null}))}),ee(Cl,"toJSON",(function(){return Sl.call(this)}),{enumerable:!0}),ee(Cl,"toString",(function(){return Sl.call(this)}),{enumerable:!0}),mc){var Nl=mc.createObjectURL,Pl=mc.revokeObjectURL;Nl&&ee(bl,"createObjectURL",(function(e){return Nl.apply(mc,arguments)})),Pl&&ee(bl,"revokeObjectURL",(function(e){return Pl.apply(mc,arguments)}))}Vt(bl,"URL"),De({global:!0,forced:!Lu,sham:!a},{URL:bl});var Gl={JSON:{TYPE:{C2C:{NOTICE:1,COMMON:9,EVENT:10},GROUP:{COMMON:3,TIP:4,SYSTEM:5,TIP2:6},FRIEND:{NOTICE:7},PROFILE:{NOTICE:8}},SUBTYPE:{C2C:{COMMON:0,READED:92,KICKEDOUT:96},GROUP:{COMMON:0,LOVEMESSAGE:1,TIP:2,REDPACKET:3}},OPTIONS:{GROUP:{JOIN:1,QUIT:2,KICK:3,SET_ADMIN:4,CANCEL_ADMIN:5,MODIFY_GROUP_INFO:6,MODIFY_MEMBER_INFO:7}}},PROTOBUF:{},IMAGE_TYPES:{ORIGIN:1,LARGE:2,SMALL:3},IMAGE_FORMAT:{JPG:1,JPEG:1,GIF:2,PNG:3,BMP:4,UNKNOWN:255}},Ul=1,ql=2,jl=3,Fl=4,$l=5,Bl=7,Hl=8,Vl=9,zl=10,Kl=15,Yl=255,Wl=2,Xl=0,Jl=1,Ql={NICK:"Tag_Profile_IM_Nick",GENDER:"Tag_Profile_IM_Gender",BIRTHDAY:"Tag_Profile_IM_BirthDay",LOCATION:"Tag_Profile_IM_Location",SELFSIGNATURE:"Tag_Profile_IM_SelfSignature",ALLOWTYPE:"Tag_Profile_IM_AllowType",LANGUAGE:"Tag_Profile_IM_Language",AVATAR:"Tag_Profile_IM_Image",MESSAGESETTINGS:"Tag_Profile_IM_MsgSettings",ADMINFORBIDTYPE:"Tag_Profile_IM_AdminForbidType",LEVEL:"Tag_Profile_IM_Level",ROLE:"Tag_Profile_IM_Role"},Zl={UNKNOWN:"Gender_Type_Unknown",FEMALE:"Gender_Type_Female",MALE:"Gender_Type_Male"},ef={NONE:"AdminForbid_Type_None",SEND_OUT:"AdminForbid_Type_SendOut"},tf={NEED_CONFIRM:"AllowType_Type_NeedConfirm",ALLOW_ANY:"AllowType_Type_AllowAny",DENY_ANY:"AllowType_Type_DenyAny"},nf=function(){function e(t){Tn(this,e),this._imageMemoryURL="",this._file=t.file,ds?this.createImageDataASURLInWXMiniApp(t.file):this.createImageDataASURLInWeb(t.file),this._initImageInfoModel(),this.type=pn.MSG_IMAGE,this._percent=0,this.content={imageFormat:Gl.IMAGE_FORMAT[t.imageFormat]||Gl.IMAGE_FORMAT.UNKNOWN,uuid:t.uuid,imageInfoArray:[]},this.initImageInfoArray(t.imageInfoArray),this._defaultImage="http://imgcache.qq.com/open/qcloud/video/act/webim-images/default.jpg",this._autoFixUrl()}return Dn(e,[{key:"_initImageInfoModel",value:function(){var e=this;this._ImageInfoModel=function(t){this.instanceID=uu(9999999),this.sizeType=t.type||0,this.size=t.size||0,this.width=t.width||0,this.height=t.height||0,this.imageUrl=t.url||"",this.url=t.url||e._imageMemoryURL||e._defaultImage},this._ImageInfoModel.prototype={setSizeType:function(e){this.sizeType=e},setImageUrl:function(e){e&&(this.imageUrl=e)},getImageUrl:function(){return this.imageUrl}}}},{key:"initImageInfoArray",value:function(e){for(var t=2,n=null,r=null;t>=0;)r=void 0===e||void 0===e[t]?{type:0,size:0,width:0,height:0,url:""}:e[t],(n=new this._ImageInfoModel(r)).setSizeType(t+1),this.addImageInfo(n),t--}},{key:"updateImageInfoArray",value:function(e){for(var t,n=this.content.imageInfoArray.length,r=0;r<n;r++)t=this.content.imageInfoArray[r],e.size&&(t.size=e.size),e.url&&t.setImageUrl(e.url),e.width&&(t.width=e.width),e.height&&(t.height=e.height)}},{key:"_autoFixUrl",value:function(){for(var e=this.content.imageInfoArray.length,t="",n="",r=["http","https"],o=null,i=0;i<e;i++)this.content.imageInfoArray[i].url&&""!==(o=this.content.imageInfoArray[i]).imageUrl&&(n=o.imageUrl.slice(0,o.imageUrl.indexOf("://")+1),t=o.imageUrl.slice(o.imageUrl.indexOf("://")+1),r.indexOf(n)<0&&(n="https:"),this.content.imageInfoArray[i].setImageUrl([n,t].join("")))}},{key:"updatePercent",value:function(e){this._percent=e,this._percent>1&&(this._percent=1)}},{key:"updateImageFormat",value:function(e){this.content.imageFormat=e}},{key:"createImageDataASURLInWeb",value:function(e){void 0!==e&&e.files.length>0&&(this._imageMemoryURL=window.URL.createObjectURL(e.files[0]))}},{key:"createImageDataASURLInWXMiniApp",value:function(e){e&&e.url&&(this._imageMemoryURL=e.url)}},{key:"replaceImageInfo",value:function(e,t){this.content.imageInfoArray[t]instanceof this._ImageInfoModel||(this.content.imageInfoArray[t]=e)}},{key:"addImageInfo",value:function(e){this.content.imageInfoArray.length>=3||this.content.imageInfoArray.push(e)}},{key:"sendable",value:function(){return 0!==this.content.imageInfoArray.length&&""!==this.content.imageInfoArray[0].imageUrl&&0!==this.content.imageInfoArray[0].size}}]),e}(),rf=function(){function e(t){Tn(this,e),this.type=pn.MSG_FACE,this.content=t||null}return Dn(e,[{key:"sendable",value:function(){return null!==this.content}}]),e}(),of=function(){function e(t){Tn(this,e),this.type=pn.MSG_AUDIO,this._percent=0,this.content={downloadFlag:2,second:t.second,size:t.size,url:t.url,remoteAudioUrl:"",uuid:t.uuid}}return Dn(e,[{key:"updatePercent",value:function(e){this._percent=e,this._percent>1&&(this._percent=1)}},{key:"updateAudioUrl",value:function(e){this.content.remoteAudioUrl=e}},{key:"sendable",value:function(){return""!==this.content.remoteAudioUrl}}]),e}();De({target:"Object",stat:!0,forced:!a,sham:!a},{defineProperty:O.f});var af={from:!0,groupID:!0,groupName:!0,to:!0},sf=function(){function e(t){Tn(this,e),this.type=pn.MSG_GRP_TIP,this.content={},this._initContent(t)}return Dn(e,[{key:"_initContent",value:function(e){var t=this;Object.keys(e).forEach((function(n){switch(n){case"remarkInfo":break;case"groupProfile":t.content.groupProfile={},t._initGroupProfile(e[n]);break;case"operatorInfo":case"memberInfoList":break;case"msgMemberInfo":t.content.memberList=e[n],Object.defineProperty(t.content,"msgMemberInfo",{get:function(){return Bs.warn("!!! 禁言的群提示消息中的 payload.msgMemberInfo 属性即将废弃，请使用 payload.memberList 属性替代。 \n","msgMemberInfo 中的 shutupTime 属性对应更改为 memberList 中的 muteTime 属性，表示禁言时长。 \n","参考：群提示消息 https://imsdk-1252463788.file.myqcloud.com/IM_DOC/Web/Message.html#.GroupTipPayload"),t.content.memberList.map((function(e){return{userID:e.userID,shutupTime:e.muteTime}}))}});break;default:t.content[n]=e[n]}})),this.content.userIDList||(this.content.userIDList=[this.content.operatorID])}},{key:"_initGroupProfile",value:function(e){for(var t=Object.keys(e),n=0;n<t.length;n++){var r=t[n];af[r]&&(this.content.groupProfile[r]=e[r])}}}]),e}(),uf={from:!0,groupID:!0,name:!0,to:!0},cf=function(){function e(t){Tn(this,e),this.type=pn.MSG_GRP_SYS_NOTICE,this.content={},this._initContent(t)}return Dn(e,[{key:"_initContent",value:function(e){var t=this;Object.keys(e).forEach((function(n){switch(n){case"memberInfoList":break;case"remarkInfo":t.content.handleMessage=e[n];break;case"groupProfile":t.content.groupProfile={},t._initGroupProfile(e[n]);break;default:t.content[n]=e[n]}}))}},{key:"_initGroupProfile",value:function(e){for(var t=Object.keys(e),n=0;n<t.length;n++){var r=t[n];uf[r]&&(this.content.groupProfile[r]=e[r])}}}]),e}(),lf=Math.min,ff=[].lastIndexOf,pf=!!ff&&1/[1].lastIndexOf(1,-0)<0,hf=ze("lastIndexOf"),df=Xe("indexOf",{ACCESSORS:!0,1:0}),gf=!pf&&hf&&df?ff:function(e){if(pf)return ff.apply(this,arguments)||0;var t=v(this),n=ue(t.length),r=n-1;for(arguments.length>1&&(r=lf(r,ae(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in t&&t[r]===e)return r||0;return-1};De({target:"Array",proto:!0,forced:gf!==[].lastIndexOf},{lastIndexOf:gf});var vf={70001:"UserSig 已过期，请重新生成。建议 UserSig 有效期设置不小于24小时。",70002:"UserSig 长度为0，请检查传入的 UserSig 是否正确。",70003:"UserSig 非法，请使用官网提供的 API 重新生成 UserSig(https://cloud.tencent.com/document/product/269/32688)。",70005:"UserSig 非法，请使用官网提供的 API 重新生成 UserSig(https://cloud.tencent.com/document/product/269/32688)。",70009:"UserSig 验证失败，可能因为生成 UserSig 时混用了其他 SDKAppID 的私钥或密钥导致，请使用对应 SDKAppID 下的私钥或密钥重新生成 UserSig(https://cloud.tencent.com/document/product/269/32688)。",70013:"请求中的 UserID 与生成 UserSig 时使用的 UserID 不匹配，您可以在即时通信 IM 控制台的【开发辅助工具(https://console.cloud.tencent.com/im-detail/tool-usersig)】页面校验 UserSig。",70014:"请求中的 SDKAppID 与生成 UserSig 时使用的 SDKAppID 不匹配，您可以在即时通信 IM 控制台的【开发辅助工具(https://console.cloud.tencent.com/im-detail/tool-usersig)】页面校验 UserSig。",70016:"密钥不存在，UserSig 验证失败，请在即时通信 IM 控制台获取密钥(https://cloud.tencent.com/document/product/269/32578#.E8.8E.B7.E5.8F.96.E5.AF.86.E9.92.A5)。",70020:"SDKAppID 未找到，请在即时通信 IM 控制台确认应用信息。",70050:"UserSig 验证次数过于频繁。请检查 UserSig 是否正确，并于1分钟后重新验证。您可以在即时通信 IM 控制台的【开发辅助工具(https://console.cloud.tencent.com/im-detail/tool-usersig)】页面校验 UserSig。",70051:"帐号被拉入黑名单。",70052:"UserSig 已经失效，请重新生成，再次尝试。",70107:"因安全原因被限制登录，请不要频繁登录。",70169:"请求的用户帐号不存在。",70114:"服务端内部超时，请稍后重试。",70202:"服务端内部超时，请稍后重试。",70206:"请求中批量数量不合法。",70402:"参数非法，请检查必填字段是否填充，或者字段的填充是否满足协议要求。",70403:"请求失败，需要 App 管理员权限。",70398:"帐号数超限。如需创建多于100个帐号，请将应用升级为专业版，具体操作指引请参见购买指引(https://cloud.tencent.com/document/product/269/32458)。",70500:"服务端内部错误，请稍后重试。",71e3:"删除帐号失败。仅支持删除体验版帐号，您当前应用为专业版，暂不支持帐号删除。",20001:"请求包非法。",20002:"UserSig 或 A2 失效。",20003:"消息发送方或接收方 UserID 无效或不存在，请检查 UserID 是否已导入即时通信 IM。",20004:"网络异常，请重试。",20005:"服务端内部错误，请重试。",20006:"触发发送单聊消息之前回调，App 后台返回禁止下发该消息。",20007:"发送单聊消息，被对方拉黑，禁止发送。消息发送状态默认展示为失败，您可以登录控制台修改该场景下的消息发送状态展示结果，具体操作请参见消息保留设置(https://cloud.tencent.com/document/product/269/38656)。",20009:"消息发送双方互相不是好友，禁止发送（配置单聊消息校验好友关系才会出现）。",20010:"发送单聊消息，自己不是对方的好友（单向关系），禁止发送。",20011:"发送单聊消息，对方不是自己的好友（单向关系），禁止发送。",20012:"发送方被禁言，该条消息被禁止发送。",20016:"消息撤回超过了时间限制（默认2分钟）。",20018:"删除漫游内部错误。",90001:"JSON 格式解析失败，请检查请求包是否符合 JSON 规范。",90002:"JSON 格式请求包中 MsgBody 不符合消息格式描述，或者 MsgBody 不是 Array 类型，请参考 TIMMsgElement 对象的定义(https://cloud.tencent.com/document/product/269/2720#.E6.B6.88.E6.81.AF.E5.85.83.E7.B4.A0-timmsgelement)。",90003:"JSON 格式请求包体中缺少 To_Account 字段或者 To_Account 帐号不存在。",90005:"JSON 格式请求包体中缺少 MsgRandom 字段或者 MsgRandom 字段不是 Integer 类型。",90006:"JSON 格式请求包体中缺少 MsgTimeStamp 字段或者 MsgTimeStamp 字段不是 Integer 类型。",90007:"JSON 格式请求包体中 MsgBody 类型不是 Array 类型，请将其修改为 Array 类型。",90008:"JSON 格式请求包体中缺少 From_Account 字段或者 From_Account 帐号不存在。",90009:"请求需要 App 管理员权限。",90010:"JSON 格式请求包不符合消息格式描述，请参考 TIMMsgElement 对象的定义(https://cloud.tencent.com/document/product/269/2720#.E6.B6.88.E6.81.AF.E5.85.83.E7.B4.A0-timmsgelement)。",90011:"批量发消息目标帐号超过500，请减少 To_Account 中目标帐号数量。",90012:"To_Account 没有注册或不存在，请确认 To_Account 是否导入即时通信 IM 或者是否拼写错误。",90026:"消息离线存储时间错误（最多不能超过7天）。",90031:"JSON 格式请求包体中 SyncOtherMachine 字段不是 Integer 类型。",90044:"JSON 格式请求包体中 MsgLifeTime 字段不是 Integer 类型。",90048:"请求的用户帐号不存在。",90054:"撤回请求中的 MsgKey 不合法。",90994:"服务内部错误，请重试。",90995:"服务内部错误，请重试。",91e3:"服务内部错误，请重试。",90992:"服务内部错误，请重试；如果所有请求都返回该错误码，且 App 配置了第三方回调，请检查 App 服务端是否正常向即时通信 IM 后台服务端返回回调结果。",93e3:"JSON 数据包超长，消息包体请不要超过8k。",91101:"Web 端长轮询被踢（Web 端同时在线实例个数超出限制）。",10002:"服务端内部错误，请重试。",10003:"请求中的接口名称错误，请核对接口名称并重试。",10004:"参数非法，请根据错误描述检查请求是否正确。",10005:"请求包体中携带的帐号数量过多。",10006:"操作频率限制，请尝试降低调用的频率。",10007:"操作权限不足，例如 Public 群组中普通成员尝试执行踢人操作，但只有 App 管理员才有权限。",10008:"请求非法，可能是请求中携带的签名信息验证不正确，请再次尝试。",10009:"该群不允许群主主动退出。",10010:"群组不存在，或者曾经存在过，但是目前已经被解散。",10011:"解析 JSON 包体失败，请检查包体的格式是否符合 JSON 格式。",10012:"发起操作的 UserID 非法，请检查发起操作的用户 UserID 是否填写正确。",10013:"被邀请加入的用户已经是群成员。",10014:"群已满员，无法将请求中的用户加入群组，如果是批量加人，可以尝试减少加入用户的数量。",10015:"群组 ID 非法，请检查群组 ID 是否填写正确。",10016:"App 后台通过第三方回调拒绝本次操作。",10017:"因被禁言而不能发送消息，请检查发送者是否被设置禁言。",10018:"应答包长度超过最大包长（1MB），请求的内容过多，请尝试减少单次请求的数据量。",10019:"请求的用户帐号不存在。",10021:"群组 ID 已被使用，请选择其他的群组 ID。",10023:"发消息的频率超限，请延长两次发消息时间的间隔。",10024:"此邀请或者申请请求已经被处理。",10025:"群组 ID 已被使用，并且操作者为群主，可以直接使用。",10026:"该 SDKAppID 请求的命令字已被禁用。",10030:"请求撤回的消息不存在。",10031:"消息撤回超过了时间限制（默认2分钟）。",10032:"请求撤回的消息不支持撤回操作。",10033:"群组类型不支持消息撤回操作。",10034:"该消息类型不支持删除操作。",10035:"音视频聊天室和在线成员广播大群不支持删除消息。",10036:"音视频聊天室创建数量超过了限制，请参考价格说明(https://cloud.tencent.com/document/product/269/11673)购买预付费套餐“IM音视频聊天室”。",10037:"单个用户可创建和加入的群组数量超过了限制，请参考价格说明(https://cloud.tencent.com/document/product/269/11673)购买或升级预付费套餐“单人可创建与加入群组数”。",10038:"群成员数量超过限制，请参考价格说明(https://cloud.tencent.com/document/product/269/11673)购买或升级预付费套餐“扩展群人数上限”。",10041:"该应用（SDKAppID）已配置不支持群消息撤回。"},mf=function(e){function t(e){var n;return Tn(this,t),(n=Fn(this,Nn(t).call(this))).code=e.code,n.message=vf[e.code]||e.message,n.data=e.data||{},n}return Ln(t,e),t}(qn(Error)),yf=2e3,_f=2001,bf=2002,Cf=2003,Sf=2022,If=2023,wf=2040,Mf=2100,Ef=2103,kf=2105,Tf=2106,Of=2108,Df=2109,Af=2110,Rf=2251,xf=2252,Lf=2253,Nf=2300,Pf=2301,Gf=2350,Uf=2351,qf=2352,jf=2400,Ff=2401,$f=2402,Bf=2403,Hf=2500,Vf=2501,zf=2502,Kf=2600,Yf=2601,Wf=2620,Xf=2621,Jf=2622,Qf=2660,Zf=2661,ep=2662,tp=2680,np=2681,rp=2682,op=2683,ip=2684,ap=2685,sp=2700,up=2721,cp=2722,lp=2740,fp=2741,pp=2742,hp=2800,dp=2801,gp=2802,vp=2803,mp=2804,yp=2805,_p=2900,bp=2901,Cp=2902,Sp=2903,Ip=2904,wp=2999,Mp=91101,Ep=20002,kp=70001,Tp="无 SDKAppID",Op="无 accountType",Dp="无 userID",Ap="无 userSig",Rp="无 tinyID",xp="无 a2key",Lp="未检测到 COS 上传插件",Np="消息发送失败",Pp="MessageController.constructor() 需要参数 options",Gp="需要 Message 的实例",Up='Message.conversationType 只能为 "C2C" 或 "GROUP"',qp="无法发送空文件",jp="回调函数运行时遇到错误，请检查接入侧代码",Fp="消息撤回失败",$p="请先选择一个图片",Bp="只允许上传 jpg png jpeg gif 格式的图片",Hp="图片大小超过20M，无法发送",Vp="语音上传失败",zp="语音大小大于20M，无法发送",Kp="视频上传失败",Yp="视频大小超过20M，无法发送",Wp="只允许上传 mp4 格式的视频",Xp="文件上传失败",Jp="请先选择一个文件",Qp="文件大小超过100M，无法发送 ",Zp="缺少必要的参数文件 URL",eh="没有找到相应的会话，请检查传入参数",th="没有找到相应的用户或群组，请检查传入参数",nh="未记录的会话类型",rh="非法的群类型，请检查传入参数",oh="不能加入 Private 类型的群组",ih="AVChatRoom 类型的群组不能转让群主",ah="不能把群主转让给自己",sh="不能解散 Private 类型的群组",uh="加群失败，请检查传入参数或重试",ch="AVChatRoom 类型的群不支持邀请群成员",lh="非 AVChatRoom 类型的群组不允许匿名加群，请先登录后再加群",fh="不能在 AVChatRoom 类型的群组踢人",ph="你不是群主，只有群主才有权限操作",hh="不能在 Private / AVChatRoom 类型的群中设置群成员身份",dh="不合法的群成员身份，请检查传入参数",gh="不能设置自己的群成员身份，请检查传入参数",vh="不能将自己禁言，请检查传入参数",mh="传入 deleteFriend 接口的参数无效",yh="传入 updateMyProfile 接口的参数无效",_h="updateMyProfile 无标配资料字段或自定义资料字段",bh="传入 addToBlacklist 接口的参数无效",Ch="传入 removeFromBlacklist 接口的参数无效",Sh="不能拉黑自己",Ih="网络层初始化错误，缺少 URL 参数",wh="打包错误，未定义的 serverName",Mh="未定义的 packageConfig",Eh="未连接到网络",kh="不规范的参数名称",Th="意料外的通知条件",Oh="_syncOffset 丢失",Dh="获取 longpolling id 失败",Ah="接口需要 SDK 处于 ready 状态后才能调用",Rh=["jpg","jpeg","gif","png"],xh=["mp4"],Lh=function(){function e(t){Tn(this,e);var n=this._check(t);if(n instanceof mf)throw n;this.type=pn.MSG_FILE,this._percent=0;var r=this._getFileInfo(t);this.content={downloadFlag:2,fileUrl:t.url||"",uuid:t.uuid,fileName:r.name||"",fileSize:r.size||0}}return Dn(e,[{key:"_getFileInfo",value:function(e){if(e.fileName&&e.fileSize)return{size:e.fileSize,name:e.fileName};if(ds)return{};var t=e.file.files[0];return{size:t.size,name:t.name,type:t.type.slice(t.type.lastIndexOf("/")+1).toLowerCase()}}},{key:"updatePercent",value:function(e){this._percent=e,this._percent>1&&(this._percent=1)}},{key:"updateFileUrl",value:function(e){this.content.fileUrl=e}},{key:"_check",value:function(e){if(e.size>104857600)return new mf({code:$f,message:"".concat(Qp,": ").concat(104857600," bytes")})}},{key:"sendable",value:function(){return""!==this.content.fileUrl&&""!==this.content.fileName&&0!==this.content.fileSize}}]),e}(),Nh=function(){function e(t){Tn(this,e),this.type=pn.MSG_CUSTOM,this.content={data:t.data||"",description:t.description||"",extension:t.extension||""}}return Dn(e,[{key:"setData",value:function(e){return this.content.data=e,this}},{key:"setDescription",value:function(e){return this.content.description=e,this}},{key:"setExtension",value:function(e){return this.content.extension=e,this}},{key:"sendable",value:function(){return 0!==this.content.data.length||0!==this.content.description.length||0!==this.content.extension.length}}]),e}(),Ph=function(){function e(t){Tn(this,e),this.type=pn.MSG_VIDEO,this._percent=0,this.content={remoteVideoUrl:t.remoteVideoUrl,videoFormat:t.videoFormat,videoSecond:parseInt(t.videoSecond,10),videoSize:t.videoSize,videoUrl:t.videoUrl,videoDownloadFlag:2,videoUUID:t.videoUUID,thumbUUID:t.thumbUUID,thumbFormat:t.thumbFormat,thumbWidth:t.thumbWidth,thumbHeight:t.thumbHeight,thumbSize:t.thumbSize,thumbDownloadFlag:2,thumbUrl:t.thumbUrl}}return Dn(e,[{key:"updatePercent",value:function(e){this._percent=e,this._percent>1&&(this._percent=1)}},{key:"updateVideoUrl",value:function(e){e&&(this.content.remoteVideoUrl=e)}},{key:"sendable",value:function(){return""!==this.content.remoteVideoUrl}}]),e}(),Gh=function e(t){Tn(this,e),this.type=pn.MSG_GEO,this.content=t},Uh={1:pn.MSG_PRIORITY_HIGH,2:pn.MSG_PRIORITY_NORMAL,3:pn.MSG_PRIORITY_LOW,4:pn.MSG_PRIORITY_LOWEST},qh=function(){function e(t){Tn(this,e),this.ID="",this.conversationID=t.conversationID||null,this.conversationType=t.conversationType||pn.CONV_C2C,this.conversationSubType=t.conversationSubType,this.time=t.time||Math.ceil(Date.now()/1e3),this.sequence=t.sequence||0,this.clientSequence=t.clientSequence||t.sequence||0,this.random=t.random||uu(),this.priority=this._computePriority(t.priority),this._elements=[],this.isPlaceMessage=t.isPlaceMessage||0,this.isRevoked=2===t.isPlaceMessage||8===t.msgFlagBits,this.geo={},this.from=t.from||null,this.to=t.to||null,this.flow="",this.isSystemMessage=t.isSystemMessage||!1,this.protocol=t.protocol||"JSON",this.isResend=!1,this.isRead=!1,this.status=t.status||Du.SUCCESS,this.reInitialize(t.currentUser),this.extractGroupInfo(t.groupProfile||null)}return Dn(e,[{key:"getElements",value:function(){return this._elements}},{key:"extractGroupInfo",value:function(e){if(null!==e){var t=e.messageFromAccountExtraInformation;this.nick="","string"==typeof e.fromAccountNick&&(this.nick=e.fromAccountNick),this.avatar="","string"==typeof e.fromAccountHeadurl&&(this.avatar=e.fromAccountHeadurl),this.nameCard="","object"===kn(t)&&t.nameCard&&(this.nameCard=t.nameCard)}}},{key:"_initProxy",value:function(){this.payload=this._elements[0].content,this.type=this._elements[0].type}},{key:"reInitialize",value:function(e){e&&(this.status=this.from?Du.SUCCESS:Du.UNSEND,!this.from&&(this.from=e)),this._initFlow(e),this._initielizeSequence(e),this._concactConversationID(e),this.generateMessageID(e)}},{key:"isSendable",value:function(){return 0!==this._elements.length&&("function"!=typeof this._elements[0].sendable?(Bs.warn("".concat(this._elements[0].type,' need "boolean : sendable()" method')),!1):this._elements[0].sendable())}},{key:"_initTo",value:function(e){this.conversationType===pn.CONV_GROUP&&(this.to=e.groupID)}},{key:"_initielizeSequence",value:function(e){0===this.clientSequence&&e&&(this.clientSequence=function(e){if(!e)return Bs.error("autoincrementIndex(string: key) need key parameter"),!1;if(void 0===pu[e]){var t=new Date,n="3".concat(t.getHours()).slice(-2),r="0".concat(t.getMinutes()).slice(-2),o="0".concat(t.getSeconds()).slice(-2);pu[e]=parseInt([n,r,o,"0001"].join("")),n=null,r=null,o=null,Bs.warn("utils.autoincrementIndex() create new sequence : ".concat(e," = ").concat(pu[e]))}return pu[e]++}(e)),0===this.sequence&&this.conversationType===pn.CONV_C2C&&(this.sequence=this.clientSequence)}},{key:"generateMessageID",value:function(e){var t=e===this.from?1:0,n=this.sequence>0?this.sequence:this.clientSequence;this.ID="".concat(this.conversationID,"-").concat(n,"-").concat(this.random,"-").concat(t)}},{key:"_initFlow",value:function(e){""!==e&&(e===this.from?(this.flow="out",this.isRead=!0):this.flow="in")}},{key:"_concactConversationID",value:function(e){var t=this.to,n="",r=this.conversationType;r!==pn.CONV_SYSTEM?(n=r===pn.CONV_C2C?e===this.from?t:this.from:this.to,this.conversationID="".concat(r).concat(n)):this.conversationID=pn.CONV_SYSTEM}},{key:"isElement",value:function(e){return e instanceof Ru||e instanceof nf||e instanceof rf||e instanceof of||e instanceof Lh||e instanceof Ph||e instanceof sf||e instanceof cf||e instanceof Nh||e instanceof Gh}},{key:"setElement",value:function(e){var t=this;if(this.isElement(e))return this._elements=[e],void this._initProxy();var n=function(e){switch(e.type){case pn.MSG_TEXT:t.setTextElement(e.content);break;case pn.MSG_IMAGE:t.setImageElement(e.content);break;case pn.MSG_AUDIO:t.setAudioElement(e.content);break;case pn.MSG_FILE:t.setFileElement(e.content);break;case pn.MSG_VIDEO:t.setVideoElement(e.content);break;case pn.MSG_CUSTOM:t.setCustomElement(e.content);break;case pn.MSG_GEO:t.setGEOElement(e.content);break;case pn.MSG_GRP_TIP:t.setGroupTipElement(e.content);break;case pn.MSG_GRP_SYS_NOTICE:t.setGroupSystemNoticeElement(e.content);break;case pn.MSG_FACE:t.setFaceElement(e.content);break;default:Bs.warn(e.type,e.content,"no operation......")}};if(Array.isArray(e))for(var r=0;r<e.length;r++)n(e[r]);else n(e);this._initProxy()}},{key:"setTextElement",value:function(e){var t="string"==typeof e?e:e.text,n=new Ru({text:t});this._elements.push(n)}},{key:"setImageElement",value:function(e){var t=new nf(e);this._elements.push(t)}},{key:"setAudioElement",value:function(e){var t=new of(e);this._elements.push(t)}},{key:"setFileElement",value:function(e){var t=new Lh(e);this._elements.push(t)}},{key:"setVideoElement",value:function(e){var t=new Ph(e);this._elements.push(t)}},{key:"setGEOElement",value:function(e){var t=new Gh(e);this._elements.push(t)}},{key:"setCustomElement",value:function(e){var t=new Nh(e);this._elements.push(t)}},{key:"setGroupTipElement",value:function(e){var t=new sf(e);this._elements.push(t)}},{key:"setGroupSystemNoticeElement",value:function(e){var t=new cf(e);this._elements.push(t)}},{key:"setFaceElement",value:function(e){var t=new rf(e);this._elements.push(t)}},{key:"setIsRead",value:function(e){this.isRead=e}},{key:"_computePriority",value:function(e){if(Xs(e))return pn.MSG_PRIORITY_NORMAL;if(zs(e)&&-1!==Object.values(Uh).indexOf(e))return e;if(Vs(e)){var t=""+e;if(-1!==Object.keys(Uh).indexOf(t))return Uh[t]}return pn.MSG_PRIORITY_NORMAL}},{key:"elements",get:function(){return Bs.warn("！！！Message 实例的 elements 属性即将废弃，请尽快修改。使用 type 和 payload 属性处理单条消息，兼容组合消息使用 _elements 属性！！！"),this._elements}}]),e}(),jh={login:{userID:{type:"String",required:!0},userSig:{type:"String",required:!0}},addToBlacklist:{userIDList:{type:"Array",required:!0}},mutilParam:[{name:"paramName",type:"Number",required:!0},{name:"paramName",type:"String",required:!0}],on:[{name:"eventName",type:"String",validator:function(e){return"string"==typeof e&&0!==e.length||(console.warn("on 接口的 eventName 参数必须是 String 类型，且不能为空。"),!1)}},{name:"handler",type:"Function",validator:function(e){return"function"!=typeof e?(console.warn("on 接口的 handler 参数必须是 Function 类型。"),!1):(""===e.name&&console.warn("on 接口的 handler 参数推荐使用具名函数。具名函数可以使用 off 接口取消订阅，匿名函数无法取消订阅。"),!0)}}],once:[{name:"eventName",type:"String",validator:function(e){return"string"==typeof e&&0!==e.length||(console.warn("once 接口的 eventName 参数必须是 String 类型，且不能为空。"),!1)}},{name:"handler",type:"Function",validator:function(e){return"function"!=typeof e?(console.warn("once 接口的 handler 参数必须是 Function 类型。"),!1):(""===e.name&&console.warn("once 接口的 handler 参数推荐使用具名函数。"),!0)}}],off:[{name:"eventName",type:"String",validator:function(e){return"string"==typeof e&&0!==e.length||(console.warn("off 接口的 eventName 参数必须是 String 类型，且不能为空。"),!1)}},{name:"handler",type:"Function",validator:function(e){return"function"!=typeof e?(console.warn("off 接口的 handler 参数必须是 Function 类型。"),!1):(""===e.name&&console.warn("off 接口的 handler 参数为匿名函数，无法取消订阅。"),!0)}}],sendMessage:[{name:"message",type:"Object",required:!0}],getMessageList:{conversationID:{type:"String",required:!0},nextReqMessageID:{type:"String"},count:{type:"Number",validator:function(e){return!(!Xs(e)&&!/^[1-9][0-9]*$/.test(e))||(console.warn("getMessageList 接口的 count 参数必须为正整数"),!1)}}},getConversationProfile:[{name:"conversationID",type:"String",required:!0,validator:function(e){return!!e&&(!!(zs(t=e)&&t.slice(0,3)===pn.CONV_C2C||function(e){return zs(e)&&e.slice(0,5)===pn.CONV_GROUP}(e)||yu(e))||(console.warn("非法的会话 ID:".concat(e,"。会话 ID 组成方式：\n      C2C + userID（单聊）\n      GROUP + groupID（群聊）\n      @TIM#SYSTEM（系统通知会话）")),!1));var t}}],deleteConversation:[{name:"conversationID",type:"String",required:!0}],getGroupList:{groupProfileFilter:{type:"Array"}},getGroupProfile:{groupID:{type:"String",required:!0},groupCustomFieldFilter:{type:"Array"},memberCustomFieldFilter:{type:"Array"}},getGroupProfileAdvance:{groupIDList:{type:"Array",required:!0}},createGroup:{name:{type:"String",required:!0}},joinGroup:{groupID:{type:"String",required:!0},type:{type:"String"},applyMessage:{type:"String"}},quitGroup:[{name:"groupID",type:"String",required:!0}],handleApplication:{message:{type:"Object",required:!0},handleAction:{type:"String",required:!0},handleMessage:{type:"String"}},changeGroupOwner:{groupID:{type:"String",required:!0},newOwnerID:{type:"String",required:!0}},updateGroupProfile:{groupID:{type:"String",required:!0}},dismissGroup:[{name:"groupID",type:"String",required:!0}],searchGroupByID:[{name:"groupID",type:"String",required:!0}],getGroupMemberList:{groupID:{type:"String",required:!0},offset:{type:"Number"},count:{type:"Number"}},getGroupMemberProfile:{groupID:{type:"String",required:!0},userIDList:{type:"Array",required:!0},memberCustomFieldFilter:{type:"Array"}},addGroupMemeber:{groupID:{type:"String",required:!0},userIDList:{type:"Array",required:!0}},setGroupMemberRole:{groupID:{type:"String",required:!0},userID:{type:"String",required:!0},role:{type:"String",required:!0}},setGroupMemberMuteTime:{groupID:{type:"String",required:!0},userID:{type:"String",required:!0},muteTime:{type:"Number",validator:function(e){return e>=0}}},setGroupMemberNameCard:{groupID:{type:"String",required:!0},userID:{type:"String"},nameCard:{type:"String",required:!0,validator:function(e){return!0!==/^\s+$/.test(e)}}},setMessageRemindType:{groupID:{type:"String",required:!0},messageRemindType:{type:"String",required:!0}},setGroupMemberCustomField:{groupID:{type:"String",required:!0},userID:{type:"String"},memberCustomField:{type:"Array",required:!0}},deleteGroupMember:{groupID:{type:"String",required:!0}},createTextMessage:{to:{type:"String",required:!0},conversationType:{type:"String",required:!0},payload:{type:"Object",required:!0,validator:function(e){return zs(e.text)?0!==e.text.length||(console.warn("createTextMessage 消息内容不能为空。请参考 https://imsdk-1252463788.file.myqcloud.com/IM_DOC/Web/SDK.html#createTextMessage"),!1):(console.warn("createTextMessage payload.text 类型必须为字符串。请参考 https://imsdk-1252463788.file.myqcloud.com/IM_DOC/Web/SDK.html#createTextMessage"),!1)}}},createCustomMessage:{to:{type:"String",required:!0},conversationType:{type:"String",required:!0},payload:{type:"Object",required:!0}},createImageMessage:{to:{type:"String",required:!0},conversationType:{type:"String",required:!0},payload:{type:"Object",required:!0,validator:function(e){if(Xs(e.file))return console.warn("createImageMessage payload.file 不能为 undefined。请参考 https://imsdk-1252463788.file.myqcloud.com/IM_DOC/Web/SDK.html#createImageMessage"),!1;if(hs){if(!(e.file instanceof HTMLInputElement||Hs(e.file)))return console.warn("createImageMessage payload.file 的类型必须是 HTMLInputElement 或 File。请参考 https://imsdk-1252463788.file.myqcloud.com/IM_DOC/Web/SDK.html#createImageMessage"),!1;if(e.file instanceof HTMLInputElement&&0===e.file.files.length)return console.warn("createImageMessage 您没有选择文件，无法发送。请参考 https://imsdk-1252463788.file.myqcloud.com/IM_DOC/Web/SDK.html#createImageMessage"),!1}return!0},onProgress:{type:"Function",required:!1,validator:function(e){return Xs(e)&&console.warn("createImageMessage 没有 onProgress 回调，您将无法获取图片上传进度。请参考 https://imsdk-1252463788.file.myqcloud.com/IM_DOC/Web/SDK.html#createImageMessage"),!0}}}},createAudioMessage:{to:{type:"String",required:!0},conversationType:{type:"String",required:!0},payload:{type:"Object",required:!0},onProgress:{type:"Function",required:!1,validator:function(e){return Xs(e)&&console.warn("createAudioMessage 没有 onProgress 回调，您将无法获取音频上传进度。请参考 https://imsdk-1252463788.file.myqcloud.com/IM_DOC/Web/SDK.html#createAudioMessage"),!0}}},createVideoMessage:{to:{type:"String",required:!0},conversationType:{type:"String",required:!0},payload:{type:"Object",required:!0},onProgress:{type:"Function",required:!1,validator:function(e){return Xs(e)&&console.warn("createVideoMessage 没有 onProgress 回调，您将无法获取视频上传进度。请参考 https://imsdk-1252463788.file.myqcloud.com/IM_DOC/Web/SDK.html#createVideoMessage"),!0}}},createFaceMessage:{to:{type:"String",required:!0},conversationType:{type:"String",required:!0},payload:{type:"Object",required:!0,validator:function(e){return!!Ys(e)&&(Vs(e.index)?!!zs(e.data)||(console.warn("createFaceMessage payload.data 类型必须为 String！"),!1):(console.warn("createFaceMessage payload.index 类型必须为 Number！"),!1))}}},createFileMessage:{to:{type:"String",required:!0},conversationType:{type:"String",required:!0},payload:{type:"Object",required:!0,validator:function(e){if(Xs(e.file))return console.warn("createFileMessage payload.file 不能为 undefined。请参考 https://imsdk-1252463788.file.myqcloud.com/IM_DOC/Web/SDK.html#createFileMessage"),!1;if(hs){if(!(e.file instanceof HTMLInputElement||Hs(e.file)))return console.warn("createFileMessage payload.file 的类型必须是 HTMLInputElement 或 File。请参考 https://imsdk-1252463788.file.myqcloud.com/IM_DOC/Web/SDK.html#createFileMessage"),!1;if(e.file instanceof HTMLInputElement&&0===e.file.files.length)return console.warn("createFileMessage 您没有选择文件，无法发送。请参考 https://imsdk-1252463788.file.myqcloud.com/IM_DOC/Web/SDK.html#createFileMessage"),!1}return!0}},onProgress:{type:"Function",required:!1,validator:function(e){return Xs(e)&&console.warn("createFileMessage 没有 onProgress 回调，您将无法获取文件上传进度。请参考 https://imsdk-1252463788.file.myqcloud.com/IM_DOC/Web/SDK.html#createFileMessage"),!0}}},revokeMessage:[{name:"message",type:"Object",required:!0,validator:function(e){return e instanceof qh?e.conversationType===pn.CONV_SYSTEM?(console.warn("revokeMessage 不能撤回系统会话消息，只能撤回单聊消息或群消息"),!1):!0!==e.isRevoked||(console.warn("revokeMessage 消息已经被撤回，请勿重复操作"),!1):(console.warn("revokeMessage 参数 message 必须为 Message(https://imsdk-1252463788.file.myqcloud.com/IM_DOC/Web/Message.html) 实例。"),!1)}}],getUserProfile:{userIDList:{type:"Array",validator:function(e){return Ws(e)?(0===e.length&&console.warn("getUserProfile userIDList 不能为空数组，请参考 https://imsdk-1252463788.file.myqcloud.com/IM_DOC/Web/SDK.html#getUserProfile"),!0):(console.warn("getUserProfile userIDList 必须为数组，请参考 https://imsdk-1252463788.file.myqcloud.com/IM_DOC/Web/SDK.html#getUserProfile"),!1)}}},updateMyProfile:{profileCustomField:{type:"Array",validator:function(e){return!!Xs(e)||!!Ws(e)||(console.warn("updateMyProfile profileCustomField 必须为数组，请参考 https://imsdk-1252463788.file.myqcloud.com/IM_DOC/Web/SDK.html#updateMyProfile"),!1)}}}},Fh={login:"login",logout:"logout",on:"on",once:"once",off:"off",setLogLevel:"setLogLevel",downloadLog:"downloadLog",registerPlugin:"registerPlugin",destroy:"destroy",createTextMessage:"createTextMessage",createImageMessage:"createImageMessage",createAudioMessage:"createAudioMessage",createVideoMessage:"createVideoMessage",createCustomMessage:"createCustomMessage",createFaceMessage:"createFaceMessage",createFileMessage:"createFileMessage",sendMessage:"sendMessage",resendMessage:"resendMessage",getMessageList:"getMessageList",setMessageRead:"setMessageRead",revokeMessage:"revokeMessage",getConversationList:"getConversationList",getConversationProfile:"getConversationProfile",deleteConversation:"deleteConversation",getGroupList:"getGroupList",getGroupProfile:"getGroupProfile",createGroup:"createGroup",joinGroup:"joinGroup",updateGroupProfile:"updateGroupProfile",quitGroup:"quitGroup",dismissGroup:"dismissGroup",changeGroupOwner:"changeGroupOwner",searchGroupByID:"searchGroupByID",setMessageRemindType:"setMessageRemindType",handleGroupApplication:"handleGroupApplication",getGroupMemberProfile:"getGroupMemberProfile",getGroupMemberList:"getGroupMemberList",addGroupMember:"addGroupMember",deleteGroupMember:"deleteGroupMember",setGroupMemberNameCard:"setGroupMemberNameCard",setGroupMemberMuteTime:"setGroupMemberMuteTime",setGroupMemberRole:"setGroupMemberRole",setGroupMemberCustomField:"setGroupMemberCustomField",getMyProfile:"getMyProfile",getUserProfile:"getUserProfile",updateMyProfile:"updateMyProfile",getBlacklist:"getBlacklist",addToBlacklist:"addToBlacklist",removeFromBlacklist:"removeFromBlacklist",getFriendList:"getFriendList"},$h="1.7.3",Bh="537048168",Hh="10",Vh="protobuf",zh="json",Kh={HOST:{TYPE:3,ACCESS_LAYER_TYPES:{SANDBOX:1,TEST:2,PRODUCTION:3},CURRENT:{COMMON:"https://webim.tim.qq.com",PIC:"https://pic.tim.qq.com",COS:"https://yun.tim.qq.com"},PRODUCTION:{COMMON:"https://webim.tim.qq.com",PIC:"https://pic.tim.qq.com",COS:"https://yun.tim.qq.com"},SANDBOX:{COMMON:"https://events.tim.qq.com",PIC:"https://pic.tim.qq.com",COS:"https://yun.tim.qq.com"},TEST:{COMMON:"https://test.tim.qq.com",PIC:"https://pic.tim.qq.com",COS:"https://yun.tim.qq.com"},setCurrent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3;switch(e){case this.ACCESS_LAYER_TYPES.SANDBOX:this.CURRENT=this.SANDBOX,this.TYPE=this.ACCESS_LAYER_TYPES.SANDBOX;break;case this.ACCESS_LAYER_TYPES.TEST:this.CURRENT=this.TEST,this.TYPE=this.ACCESS_LAYER_TYPES.TEST;break;default:this.CURRENT=this.PRODUCTION,this.TYPE=this.ACCESS_LAYER_TYPES.PRODUCTION}}},NAME:{OPEN_IM:"openim",GROUP:"group_open_http_svc",FRIEND:"sns",PROFILE:"profile",RECENT_CONTACT:"recentcontact",PIC:"openpic",BIG_GROUP_NO_AUTH:"group_open_http_noauth_svc",BIG_GROUP_LONG_POLLING_NO_AUTH:"group_open_long_polling_http_noauth_svc",IM_OPEN_STAT:"imopenstat",WEB_IM:"webim",IM_COS_SIGN:"im_cos_sign_svr"},CMD:{ACCESS_LAYER:"accesslayer",LOGIN:"login",LOGOUT_LONG_POLL:"longpollinglogout",LOGOUT_ALL:"logout",PORTRAIT_GET:"portrait_get_all",PORTRAIT_SET:"portrait_set",GET_LONG_POLL_ID:"getlongpollingid",LONG_POLL:"longpolling",AVCHATROOM_LONG_POLL:"get_msg",FRIEND_ADD:"friend_add",FRIEND_GET_ALL:"friend_get_all",FRIEND_DELETE:"friend_delete",RESPONSE_PENDENCY:"friend_response",GET_PENDENCY:"pendency_get",DELETE_PENDENCY:"pendency_delete",GET_GROUP_PENDENCY:"get_pendency",GET_BLACKLIST:"black_list_get",ADD_BLACKLIST:"black_list_add",DELETE_BLACKLIST:"black_list_delete",CREATE_GROUP:"create_group",GET_JOINED_GROUPS:"get_joined_group_list",SEND_MESSAGE:"sendmsg",REVOKE_C2C_MESSAGE:"msgwithdraw",SEND_GROUP_MESSAGE:"send_group_msg",REVOKE_GROUP_MESSAGE:"group_msg_recall",GET_GROUP_INFO:"get_group_info",GET_GROUP_MEMBER_INFO:"get_specified_group_member_info",GET_GROUP_MEMBER_LIST:"get_group_member_info",QUIT_GROUP:"quit_group",CHANGE_GROUP_OWNER:"change_group_owner",DESTROY_GROUP:"destroy_group",ADD_GROUP_MEMBER:"add_group_member",DELETE_GROUP_MEMBER:"delete_group_member",SEARCH_GROUP_BY_ID:"get_group_public_info",APPLY_JOIN_GROUP:"apply_join_group",HANDLE_APPLY_JOIN_GROUP:"handle_apply_join_group",MODIFY_GROUP_INFO:"modify_group_base_info",MODIFY_GROUP_MEMBER_INFO:"modify_group_member_info",DELETE_GROUP_SYSTEM_MESSAGE:"deletemsg",GET_CONVERSATION_LIST:"get",PAGING_GET_CONVERSATION_LIST:"page_get",DELETE_CONVERSATION:"delete",GET_MESSAGES:"getmsg",GET_C2C_ROAM_MESSAGES:"getroammsg",GET_GROUP_ROAM_MESSAGES:"group_msg_get",SET_C2C_MESSAGE_READ:"msgreaded",SET_GROUP_MESSAGE_READ:"msg_read_report",FILE_READ_AND_WRITE_AUTHKEY:"authkey",FILE_UPLOAD:"pic_up",COS_SIGN:"cos",TIM_WEB_REPORT:"tim_web_report",BIG_DATA_HALLWAY_AUTH_KEY:"authkey"},CHANNEL:{SOCKET:1,XHR:2,AUTO:0},NAME_VERSION:{openim:"v4",group_open_http_svc:"v4",sns:"v4",profile:"v4",recentcontact:"v4",openpic:"v4",group_open_http_noauth_svc:"v1",group_open_long_polling_http_noauth_svc:"v1",imopenstat:"v4",im_cos_sign_svr:"v4",webim:"v4"}};Kh.HOST.setCurrent(Kh.HOST.ACCESS_LAYER_TYPES.PRODUCTION);var Yh={request:{toAccount:"To_Account",fromAccount:"From_Account",to:"To_Account",from:"From_Account",groupID:"GroupId",avatar:"FaceUrl"},response:{GroupId:"groupID",Member_Account:"userID",MsgList:"messageList",SyncFlag:"syncFlag",To_Account:"to",From_Account:"from",MsgSeq:"sequence",MsgRandom:"random",MsgTimeStamp:"time",MsgContent:"content",MsgBody:"elements",GroupWithdrawInfoArray:"revokedInfos",WithdrawC2cMsgNotify:"c2cMessageRevokedNotify",C2cWithdrawInfoArray:"revokedInfos",MsgRand:"random",MsgType:"type",MsgShow:"messageShow",NextMsgSeq:"nextMessageSeq",FaceUrl:"avatar",ProfileDataMod:"profileModify",Profile_Account:"userID",ValueBytes:"value",ValueNum:"value",NoticeSeq:"noticeSequence",NotifySeq:"notifySequence",MsgFrom_AccountExtraInfo:"messageFromAccountExtraInformation",Operator_Account:"operatorID",OpType:"operationType",ReportType:"operationType",UserId:"userID",User_Account:"userID",List_Account:"userIDList",MsgOperatorMemberExtraInfo:"operatorInfo",MsgMemberExtraInfo:"memberInfoList",ImageUrl:"avatar",NickName:"nick",MsgGroupNewInfo:"newGroupProfile",Owner_Account:"ownerID",GroupName:"name",GroupFaceUrl:"avatar",GroupIntroduction:"introduction",GroupNotification:"notification",GroupApplyJoinOption:"joinOption",MsgKey:"messageKey",GroupInfo:"groupProfile",ShutupTime:"muteTime",Desc:"description",Ext:"extension"},ignoreKeyWord:["C2C","ID","USP"]},Wh="_contextWasUpdated",Xh="_contextWasReset",Jh="_a2KeyAndTinyIDUpdated",Qh="_specifiedConfigUpdated",Zh="_noticeIsSynchronizing",ed="_noticeIsSynchronized",td="_messageSent",nd="_syncMessageProcessing",rd="_syncMessageFinished",od="_receiveInstantMessage",id="_receiveGroupInstantMessage",ad="_receveGroupSystemNotice",sd="_messageRevoked",ud="_longPollGetIDFailed",cd="_longPollRequestFailed",ld="_longPollResponseOK",fd="_longPollFastStart",pd="_longPollSlowStart",hd="_longPollKickedOut",dd="_longPollMitipuleDeviceKickedOut",gd="_longPollGetNewC2CNotice",vd="_longPollGetNewGroupMessages",md="_longPollGetNewGroupTips",yd="_longPollGetNewGroupNotice",_d="_longPollGetNewFriendMessages",bd="_longPollProfileModified",Cd="_longPollNoticeReceiveSystemOrders",Sd=" _longpollGroupMessageRevoked",Id="_longpollC2CMessageRevoked",wd="_avlongPollRequestFailed",Md="_avlongPollResponseOK",Ed="_onGroupListUpdated",kd="_loginSuccess",Td="_signLogoutExcuting",Od="_logoutSuccess",Dd="_a2keyExpired",Ad="_errorHasBeenDetected",Rd="_onConversationListUpdated",xd="_onConversationListProfileUpdated",Ld="_conversationDeleted",Nd="onProfileUpdated",Pd="joinAVChatRoomSuccess",Gd="_sdkStateReady",Ud=Ve.filter,qd=_n("filter"),jd=Xe("filter");De({target:"Array",proto:!0,forced:!qd||!jd},{filter:function(e){return Ud(this,e,arguments.length>1?arguments[1]:void 0)}}),De({target:"Object",stat:!0,forced:Object.assign!==Gu},{assign:Gu});var Fd=xo.trim;function $d(e,t){if("string"!=typeof e&&!Array.isArray(e))throw new TypeError("Expected the input to be `string | string[]`");var n;return t=Object.assign({pascalCase:!1},t),0===(e=Array.isArray(e)?e.map((function(e){return e.trim()})).filter((function(e){return e.length})).join("-"):e.trim()).length?"":1===e.length?t.pascalCase?e.toUpperCase():e.toLowerCase():(e!==e.toLowerCase()&&(e=Bd(e)),e=e.replace(/^[_.\- ]+/,"").toLowerCase().replace(/[_.\- ]+(\w|$)/g,(function(e,t){return t.toUpperCase()})).replace(/\d+(\w|$)/g,(function(e){return e.toUpperCase()})),n=e,t.pascalCase?n.charAt(0).toUpperCase()+n.slice(1):n)}De({target:"String",proto:!0,forced:function(e){return i((function(){return!!To[e]()||"​᠎"!="​᠎"[e]()||To[e].name!==e}))}("trim")},{trim:function(){return Fd(this)}});var Bd=function(e){for(var t=!1,n=!1,r=!1,o=0;o<e.length;o++){var i=e[o];t&&/[a-zA-Z]/.test(i)&&i.toUpperCase()===i?(e=e.slice(0,o)+"-"+e.slice(o),t=!1,r=n,n=!0,o++):n&&r&&/[a-zA-Z]/.test(i)&&i.toLowerCase()===i?(e=e.slice(0,o-1)+"-"+e.slice(o-1),r=n,n=!1,t=!0):(t=i.toLowerCase()===i&&i.toUpperCase()!==i,r=n,n=i.toUpperCase()===i&&i.toLowerCase()!==i)}return e};function Hd(e,t,n){var r=[],o=0,i=function e(t,n){if(++o>10)return o--,t;if(Ws(t)){var i=t.map((function(t){return Ks(t)?e(t,n):t}));return o--,i}if(Ks(t)){var a=(s=t,u=function(e,t){if(!tu(t))return!1;if((a=t)!==$d(a)){for(var o=!0,i=0;i<Yh.ignoreKeyWord.length;i++)if(t.includes(Yh.ignoreKeyWord[i])){o=!1;break}o&&r.push(t)}var a;return Xs(n[t])?function(e){return e[0].toUpperCase()+$d(e).slice(1)}(t):n[t]},c=Object.create(null),Object.keys(s).forEach((function(e){var t=u(s[e],e);t&&(c[t]=s[e])})),c);return a=_u(a,(function(t,r){return Ws(t)||Ks(t)?e(t,n):t})),o--,a}var s,u,c}(e,t=xn({},Yh.request,{},t));return r.length>0&&n.innerEmitter.emit(Ad,{code:_p,message:kh}),i}function Vd(e,t){if(t=xn({},Yh.response,{},t),Ws(e))return e.map((function(e){return Ks(e)?Vd(e,t):e}));if(Ks(e)){var n=(r=e,o=function(e,n){return Xs(t[n])?$d(n):t[n]},i={},Object.keys(r).forEach((function(e){i[o(r[e],e)]=r[e]})),i);return _u(n,(function(e){return Ws(e)||Ks(e)?Vd(e,t):e}))}var r,o,i}var zd=function(){function e(t){var n=this;Tn(this,e),this.url="",this.requestData=null,this.method=t.method||"POST",this.callback=function(e){return Vd(e=t.decode(e),n._getResponseMap(t))},this._initializeServerMap(),this._initializeURL(t),this._initializeRequestData(t)}return Dn(e,[{key:"_initializeServerMap",value:function(){this._serverMap=Object.create(null);var e="";for(var t in Kh.NAME)if(Object.prototype.hasOwnProperty.call(Kh.NAME,t))switch(e=Kh.NAME[t]){case Kh.NAME.PIC:this._serverMap[e]=Kh.HOST.CURRENT.PIC;break;case Kh.NAME.IM_COS_SIGN:this._serverMap[e]=Kh.HOST.CURRENT.COS;break;default:this._serverMap[e]=Kh.HOST.CURRENT.COMMON}}},{key:"_getHost",value:function(e){if(void 0!==this._serverMap[e])return this._serverMap[e];throw new mf({code:vp,message:wh})}},{key:"_initializeURL",value:function(e){var t=e.serverName,n=e.cmd,r=this._getHost(t),o="".concat(r,"/").concat(Kh.NAME_VERSION[t],"/").concat(t,"/").concat(n);o+="?".concat(this._getQueryString(e.queryString)),this.url=o}},{key:"getUrl",value:function(){return this.url.replace(/&reqtime=(\d+)/,"&reqtime=".concat(Math.ceil(+new Date/1e3)))}},{key:"_initializeRequestData",value:function(e){var t,n=e.requestData;t=this._requestDataCleaner(n),this.requestData=e.encode(t)}},{key:"_requestDataCleaner",value:function(e){var t=Array.isArray(e)?[]:Object.create(null);for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&tu(n)&&null!==e[n]&&("object"!==kn(e[n])?t[n]=e[n]:t[n]=this._requestDataCleaner.bind(this)(e[n]));return t}},{key:"_getQueryString",value:function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&("function"!=typeof e[n]?t.push("".concat(n,"=").concat(e[n])):t.push("".concat(n,"=").concat(e[n]())));return t.join("&")}},{key:"_getResponseMap",value:function(e){if(e.keyMaps&&e.keyMaps.response&&Object.keys(e.keyMaps.response).length>0)return e.keyMaps.response}}]),e}(),Kd=[].slice,Yd=/MSIE .\./.test(hn),Wd=function(e){return function(t,n){var r=arguments.length>2,o=r?Kd.call(arguments,2):void 0;return e(r?function(){("function"==typeof t?t:Function(t)).apply(this,o)}:t,n)}};function Xd(e){this.mixin(e)}De({global:!0,bind:!0,forced:Yd},{setTimeout:Wd(o.setTimeout),setInterval:Wd(o.setInterval)}),Xd.mixin=function(e){var t=e.prototype||e;t._isReady=!1,t.ready=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e)return this._isReady?void(t?e.call(this):setTimeout(e,1)):(this._readyQueue=this._readyQueue||[],void this._readyQueue.push(e))},t.triggerReady=function(){var e=this;this._isReady=!0,setTimeout((function(){var t=e._readyQueue;e._readyQueue=[],t&&t.length>0&&t.forEach((function(e){e.call(this)}),e)}),1)},t.resetReady=function(){this._isReady=!1,this._readyQueue=[]},t.isReady=function(){return this._isReady}};var Jd=function(){function e(t){Tn(this,e),Xd.mixin(this),this.tim=t}return Dn(e,[{key:"isLoggedIn",value:function(){return this.tim.context.login===Ou.IS_LOGIN||!!this.tim.context.a2Key}},{key:"createTransportCapsule",value:function(e){var t=this.tim.packageConfig.get(e);return t?new zd(t):null}},{key:"request",value:function(e){var t=this.createTransportCapsule(e);return t||Bs.error("unknown transport capsule, please check!",e),this.tim.connectionController.request(t)}},{key:"emitInnerEvent",value:function(e,t){this.tim.innerEmitter.emit(e,t)}},{key:"emitOuterEvent",value:function(e,t){this.tim.outerEmitter.emit(e,t)}},{key:"reset",value:function(){Bs.warn(["method: IMController.reset() method must be implemented"].join())}},{key:"probeNetwork",value:function(){return this.tim.netMonitor.probe()}},{key:"getNetworkType",value:function(){return this.tim.netMonitor.getNetworkType()}},{key:"getPlatform",value:function(){var e="web";return Ss?e="wechat":ds&&(e="wxmp"),e}}]),e}(),Qd=function(){function e(t,n){Tn(this,e),this.data=t,this._innerEmitter=n,this.defaultData={},Object.assign(this.defaultData,t),this.initGetterAndSetter()}return Dn(e,[{key:"initGetterAndSetter",value:function(){var e=this,t=function(t){Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){return e.data[t]},set:function(n){e.data[t]!==n&&(e.data[t]=n,e.onChange.bind(e)(t,n))}})};for(var n in e.data)Object.prototype.hasOwnProperty.call(e.data,n)&&t(n)}},{key:"onChange",value:function(e,t){this._innerEmitter.emit(Wh,{key:e,value:t})}},{key:"reset",value:function(){for(var e in Bs.log("Context.reset"),this.data)Object.prototype.hasOwnProperty.call(this.data,e)&&(this.data[e]=this.defaultData.hasOwnProperty(e)?this.defaultData[e]:null)}}]),e}(),Zd=function(e){function t(e){var n;Tn(this,t);var r=(n=Fn(this,Nn(t).call(this,e))).tim.loginInfo;return n._context=new Qd({login:Ou.IS_NOT_LOGIN,SDKAppID:r.SDKAppID,appIDAt3rd:null,accountType:r.accountType,identifier:r.identifier,tinyID:null,identifierNick:r.identifierNick,userSig:r.userSig,a2Key:null,contentType:"json",apn:1},n.tim.innerEmitter),n._initListener(),n}return Ln(t,e),Dn(t,[{key:"reset",value:function(){this._context.reset(),this.emitInnerEvent(Xh)}},{key:"_initListener",value:function(){this.tim.innerEmitter.on(Wh,this._onContextMemberChange,this),this.tim.innerEmitter.on(kd,this._updateA2KeyAndTinyID,this)}},{key:"_updateA2KeyAndTinyID",value:function(e){var t=e.data,n=t.a2Key,r=t.tinyID;this._context.a2Key=n,this._context.tinyID=r,this.emitInnerEvent(Jh),this.triggerReady()}},{key:"getContext",value:function(){return this._context}},{key:"_onContextMemberChange",value:function(e){var t=e.data,n=t.key,r=t.value;("tinyID"===n||"a2Key"===n)&&(r.length<=0?this._context.login=Ou.IS_NOT_LOGIN:this._context.login=null!==this._context.a2Key?Ou.IS_LOGIN:Ou.IS_NOT_LOGIN)}}]),t}(Jd),eg=function e(t){Tn(this,e),this.code=0,this.data=t||{}},tg=null,ng=function(e){tg=e},rg=function(e){return e instanceof eg?(Bs.warn("IMPromise.resolve 此函数会自动用options创建IMResponse实例，调用侧不需创建，建议修改！"),Promise.resolve(e)):Promise.resolve(new eg(e))},og=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e instanceof mf)return t&&null!==tg&&tg.emit(fn.ERROR,e),Promise.reject(e);if(e instanceof Error){var n=new mf({code:Sp,message:e.message});return t&&null!==tg&&tg.emit(fn.ERROR,n),Promise.reject(n)}if(Xs(e)||Xs(e.code)||Xs(e.message))Bs.error("IMPromise.reject 必须指定code(错误码)和message(错误信息)!!!");else{if(Vs(e.code)&&zs(e.message)){var r=new mf(e);return t&&null!==tg&&tg.emit(fn.ERROR,r),Promise.reject(r)}Bs.error("IMPromise.reject code(错误码)必须为数字，message(错误信息)必须为字符串!!!")}},ig="sdkReady",ag="login",sg="longpolling",ug="longpollingAV",cg="sendMessage",lg="initConversationList",fg="initGroupList",pg="upload",hg=function(){function e(){Tn(this,e),this.SDKAppID="",this.version="",this.tinyID="",this.userID="",this.platform="",this.method="",this.time="",this.startts=0,this.endts=0,this.timespan=0,this.codeint=0,this.message="",this.text="",this.msgType="",this.networkType="",this.platform="",this._sentFlag=!1}return Dn(e,[{key:"setCommonInfo",value:function(e,t,n,r,o){this.SDKAppID="".concat(e),this.version="".concat(t),this.tinyID=n,this.userID=r,this.platform=o,this.time=au(),this.startts&&this.endts&&!this.timespan&&(this.timespan=Math.abs(this.endts-this.startts))}},{key:"setMethod",value:function(e){return this.method=e,this}},{key:"setStart",value:function(){this.startts=Date.now()}},{key:"setEnd",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._sentFlag||(this.endts=Date.now(),t?(this._sentFlag=!0,this._eventStatController.pushIn(this)):setTimeout((function(){e._sentFlag=!0,e._eventStatController.pushIn(e)}),0))}},{key:"setError",value:function(e,t,n){return e instanceof Error?(this._sentFlag||(this.setNetworkType(n),t?(e.code&&this.setCode(e.code),e.message&&this.setMessage(e.message)):(this.setCode(yp),this.setMessage(Eh))),this):(Bs.warn("SSOLogData.setError value not instanceof Error, please check!"),this)}},{key:"setCode",value:function(e){return Xs(e)||this._sentFlag||(Vs(e)?this.codeint=e:Bs.warn("SSOLogData.setCode value not a number, please check!")),this}},{key:"setMessage",value:function(e){return Xs(e)||this._sentFlag?this:zs(e)?(this.message=e,this):this}},{key:"setText",value:function(e){return Vs(e)?this.text=e.toString():zs(e)&&(this.text=e),this}},{key:"setMessageType",value:function(e){return this.msgType=e,this}},{key:"setNetworkType",value:function(e){return Xs(e)?Bs.warn("SSOLogData.setNetworkType value is undefined, please check!"):this.networkType=e,this}}],[{key:"bindController",value:function(t){e.prototype._eventStatController=t}}]),e}(),dg="sdkConstruct",gg="sdkReady",vg="accessLayer",mg="login",yg="upload",_g="sendMessage",bg="getC2CRoamingMessages",Cg="getGroupRoamingMessages",Sg="revokeMessage",Ig="setC2CMessageRead",wg="setGroupMessageRead",Mg="getConversationList",Eg="getConversationListInStorage",kg="syncConversationList",Tg="createGroup",Og="applyJoinGroup",Dg="quitGroup",Ag="changeGroupOwner",Rg="dismissGroup",xg="updateGroupProfile",Lg="getGroupList",Ng="getGroupListInStorage",Pg="getGroupLastSequence",Gg="setGroupMemberMuteTime",Ug="setGroupMemberNameCard",qg="setGroupMemberRole",jg="setGroupMemberCustomField",Fg="getLongPollID",$g="longPollingError",Bg="networkJitter",Hg="fastStart",Vg="slowStart",zg="getUserProfile",Kg="getBlacklist",Yg="mpHideToShow",Wg=function(e){function t(e){var n;return Tn(this,t),(n=Fn(this,Nn(t).call(this,e)))._initializeListener(),n}return Ln(t,e),Dn(t,[{key:"login",value:function(e){if(this.isLoggedIn()){var t="您已经登录账号".concat(e.identifier,"！如需切换账号登录，请先调用 logout 接口登出，再调用 login 接口登录。");return Bs.warn(t),rg({actionStatus:"OK",errorCode:0,errorInfo:t,repeatLogin:!0})}Bs.log("SignController.login userID=",e.identifier),Bs.time(ag);var n=this._checkLoginInfo(e);return Cu(n)?(this.tim.context.identifier=e.identifier,this.tim.context.userSig=e.userSig,this.tim.context.SDKAppID=e.SDKAppID,this.tim.context.accountType=e.accountType,this.tim.context.identifier&&this.tim.context.userSig?this._accessLayer():void 0):og(n)}},{key:"_isLoginCurrentUser",value:function(e){return this.tim.context.identifier===e}},{key:"_initializeListener",value:function(){var e=this.tim.innerEmitter;e.on(hd,this._onKickedOut,this),e.on(dd,this._onMultipleDeviceKickedOut,this),e.on(Dd,this._onUserSigExpired,this)}},{key:"_accessLayer",value:function(){var e=this,t=new hg;return t.setMethod(vg).setStart(),Bs.log("SignController._accessLayer."),this.request({name:"accessLayer",action:"query"}).then((function(n){return t.setCode(0).setNetworkType(e.getNetworkType()).setText(n.data.webImAccessLayer).setEnd(),Bs.log("SignController._accessLayer ok. webImAccessLayer=".concat(n.data.webImAccessLayer)),1===n.data.webImAccessLayer&&Kh.HOST.setCurrent(n.data.webImAccessLayer),e._login()})).catch((function(n){return e.probeNetwork().then((function(r){var o=$n(r,2),i=o[0],a=o[1];t.setError(n,i,a).setEnd(!0),e.tim.eventStatController.reportAtOnce()})),Bs.error("SignController._accessLayer failed. error:".concat(n)),og(n)}))}},{key:"_login",value:function(){var e=this,t=new hg;return t.setMethod(mg).setStart(),this.request({name:"login",action:"query"}).then((function(n){var r=null;if(!n.data.tinyID)throw r=new mf({code:Sf,message:Rp}),t.setError(r,!0,e.getNetworkType()).setEnd(),r;if(!n.data.a2Key)throw r=new mf({code:If,message:xp}),t.setError(r,!0,e.getNetworkType()).setEnd(),r;return t.setCode(0).setNetworkType(e.getNetworkType()).setText("".concat(e.tim.loginInfo.identifier)).setEnd(),Bs.log("SignController.login ok. userID=".concat(e.tim.loginInfo.identifier," loginCost=").concat(Bs.timeEnd(ag),"ms")),e.emitInnerEvent(kd,{a2Key:n.data.a2Key,tinyID:n.data.tinyID}),rg(n.data)})).catch((function(n){return e.probeNetwork().then((function(e){var r=$n(e,2),o=r[0],i=r[1];t.setError(n,o,i).setEnd(!0)})),Bs.error("SignController.login failed. error:".concat(n)),og(n)}))}},{key:"logout",value:function(){return Bs.info("SignController.logout"),this.emitInnerEvent(Td),this._logout(Jl).then(this._emitLogoutSuccess.bind(this)).catch(this._emitLogoutSuccess.bind(this))}},{key:"_logout",value:function(e){var t=this.tim.notificationController,n=e===Xl?"logout":"longPollLogout",r=e===Xl?{name:n,action:"query"}:{name:n,action:"query",param:{longPollID:t.getLongPollID()}};return this.request(r).catch((function(e){return Bs.error("SignController._logout error:",e),og(e)}))}},{key:"_checkLoginInfo",value:function(e){var t=0,n="";return null===e.SDKAppID?(t=yf,n=Tp):null===e.accountType?(t=_f,n=Op):null===e.identifier?(t=bf,n=Dp):null===e.userSig&&(t=Cf,n=Ap),Cu(t)||Cu(n)?{}:{code:t,message:n}}},{key:"_emitLogoutSuccess",value:function(){return this.emitInnerEvent(Od),rg({})}},{key:"_onKickedOut",value:function(){var e=this;Bs.warn("SignController._onKickedOut kicked out. userID=".concat(this.tim.loginInfo.identifier)),this.tim.logout().then((function(){e.emitOuterEvent(fn.KICKED_OUT,{type:pn.KICKED_OUT_MULT_ACCOUNT})}))}},{key:"_onMultipleDeviceKickedOut",value:function(){var e=this;Bs.warn("SignController._onMultipleDeviceKickedOut kicked out. userID=".concat(this.tim.loginInfo.identifier)),this.tim.logout().then((function(){e.emitOuterEvent(fn.KICKED_OUT,{type:pn.KICKED_OUT_MULT_DEVICE})}))}},{key:"_onUserSigExpired",value:function(){Bs.warn("SignController._onUserSigExpired: userSig 签名过期被踢下线"),this.emitOuterEvent(fn.KICKED_OUT,{type:pn.KICKED_OUT_USERSIG_EXPIRED}),this.tim.resetSDK()}},{key:"reset",value:function(){Bs.info("SignController.reset")}}]),t}(Jd),Xg=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}},Jg=Object.prototype.toString;function Qg(e){return"[object Array]"===Jg.call(e)}function Zg(e){return void 0===e}function ev(e){return null!==e&&"object"==typeof e}function tv(e){return"[object Function]"===Jg.call(e)}function nv(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),Qg(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}var rv={isArray:Qg,isArrayBuffer:function(e){return"[object ArrayBuffer]"===Jg.call(e)},isBuffer:function(e){return null!==e&&!Zg(e)&&null!==e.constructor&&!Zg(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:ev,isUndefined:Zg,isDate:function(e){return"[object Date]"===Jg.call(e)},isFile:function(e){return"[object File]"===Jg.call(e)},isBlob:function(e){return"[object Blob]"===Jg.call(e)},isFunction:tv,isStream:function(e){return ev(e)&&tv(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:nv,merge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]=n}for(var r=0,o=arguments.length;r<o;r++)nv(arguments[r],n);return t},deepMerge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]="object"==typeof n?e({},n):n}for(var r=0,o=arguments.length;r<o;r++)nv(arguments[r],n);return t},extend:function(e,t,n){return nv(t,(function(t,r){e[r]=n&&"function"==typeof t?Xg(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}};function ov(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var iv=function(e,t,n){if(!t)return e;var r;if(n)r=n(t);else if(rv.isURLSearchParams(t))r=t.toString();else{var o=[];rv.forEach(t,(function(e,t){null!=e&&(rv.isArray(e)?t+="[]":e=[e],rv.forEach(e,(function(e){rv.isDate(e)?e=e.toISOString():rv.isObject(e)&&(e=JSON.stringify(e)),o.push(ov(t)+"="+ov(e))})))})),r=o.join("&")}if(r){var i=e.indexOf("#");-1!==i&&(e=e.slice(0,i)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e};function av(){this.handlers=[]}av.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},av.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},av.prototype.forEach=function(e){rv.forEach(this.handlers,(function(t){null!==t&&e(t)}))};var sv=av,uv=function(e,t,n){return rv.forEach(n,(function(n){e=n(e,t)})),e},cv=function(e){return!(!e||!e.__CANCEL__)};function lv(){throw new Error("setTimeout has not been defined")}function fv(){throw new Error("clearTimeout has not been defined")}var pv=lv,hv=fv;function dv(e){if(pv===setTimeout)return setTimeout(e,0);if((pv===lv||!pv)&&setTimeout)return pv=setTimeout,setTimeout(e,0);try{return pv(e,0)}catch(n){try{return pv.call(null,e,0)}catch(n){return pv.call(this,e,0)}}}"function"==typeof Ns.setTimeout&&(pv=setTimeout),"function"==typeof Ns.clearTimeout&&(hv=clearTimeout);var gv,vv=[],mv=!1,yv=-1;function _v(){mv&&gv&&(mv=!1,gv.length?vv=gv.concat(vv):yv=-1,vv.length&&bv())}function bv(){if(!mv){var e=dv(_v);mv=!0;for(var t=vv.length;t;){for(gv=vv,vv=[];++yv<t;)gv&&gv[yv].run();yv=-1,t=vv.length}gv=null,mv=!1,function(e){if(hv===clearTimeout)return clearTimeout(e);if((hv===fv||!hv)&&clearTimeout)return hv=clearTimeout,clearTimeout(e);try{hv(e)}catch(t){try{return hv.call(null,e)}catch(t){return hv.call(this,e)}}}(e)}}function Cv(e,t){this.fun=e,this.array=t}function Sv(){}Cv.prototype.run=function(){this.fun.apply(null,this.array)};var Iv=Sv,wv=Sv,Mv=Sv,Ev=Sv,kv=Sv,Tv=Sv,Ov=Sv,Dv=Ns.performance||{},Av=Dv.now||Dv.mozNow||Dv.msNow||Dv.oNow||Dv.webkitNow||function(){return(new Date).getTime()},Rv=new Date,xv={nextTick:function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];vv.push(new Cv(e,t)),1!==vv.length||mv||dv(bv)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:Iv,addListener:wv,once:Mv,off:Ev,removeListener:kv,removeAllListeners:Tv,emit:Ov,binding:function(e){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(e){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(e){var t=.001*Av.call(Dv),n=Math.floor(t),r=Math.floor(t%1*1e9);return e&&(n-=e[0],(r-=e[1])<0&&(n--,r+=1e9)),[n,r]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-Rv)/1e3}},Lv=function(e,t){rv.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))},Nv=function(e,t,n,r,o){return function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}(new Error(e),t,n,r,o)},Pv=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],Gv=rv.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=rv.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0},Uv=rv.isStandardBrowserEnv()?{write:function(e,t,n,r,o,i){var a=[];a.push(e+"="+encodeURIComponent(t)),rv.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),rv.isString(r)&&a.push("path="+r),rv.isString(o)&&a.push("domain="+o),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},qv=function(e){return new Promise((function(t,n){var r=e.data,o=e.headers;rv.isFormData(r)&&delete o["Content-Type"];var i=new XMLHttpRequest;if(e.auth){var a=e.auth.username||"",s=e.auth.password||"";o.Authorization="Basic "+btoa(a+":"+s)}var u,c,l=(u=e.baseURL,c=e.url,u&&!/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(c)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(u,c):c);if(i.open(e.method.toUpperCase(),iv(l,e.params,e.paramsSerializer),!0),i.timeout=e.timeout,i.onreadystatechange=function(){if(i&&4===i.readyState&&(0!==i.status||i.responseURL&&0===i.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in i?function(e){var t,n,r,o={};return e?(rv.forEach(e.split("\n"),(function(e){if(r=e.indexOf(":"),t=rv.trim(e.substr(0,r)).toLowerCase(),n=rv.trim(e.substr(r+1)),t){if(o[t]&&Pv.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([n]):o[t]?o[t]+", "+n:n}})),o):o}(i.getAllResponseHeaders()):null,o={data:e.responseType&&"text"!==e.responseType?i.response:i.responseText,status:i.status,statusText:i.statusText,headers:r,config:e,request:i};!function(e,t,n){var r=n.config.validateStatus;!r||r(n.status)?e(n):t(Nv("Request failed with status code "+n.status,n.config,null,n.request,n))}(t,n,o),i=null}},i.onabort=function(){i&&(n(Nv("Request aborted",e,"ECONNABORTED",i)),i=null)},i.onerror=function(){n(Nv("Network Error",e,null,i)),i=null},i.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(Nv(t,e,"ECONNABORTED",i)),i=null},rv.isStandardBrowserEnv()){var f=Uv,p=(e.withCredentials||Gv(l))&&e.xsrfCookieName?f.read(e.xsrfCookieName):void 0;p&&(o[e.xsrfHeaderName]=p)}if("setRequestHeader"in i&&rv.forEach(o,(function(e,t){void 0===r&&"content-type"===t.toLowerCase()?delete o[t]:i.setRequestHeader(t,e)})),rv.isUndefined(e.withCredentials)||(i.withCredentials=!!e.withCredentials),e.responseType)try{i.responseType=e.responseType}catch(d){if("json"!==e.responseType)throw d}"function"==typeof e.onDownloadProgress&&i.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&i.upload&&i.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){i&&(i.abort(),n(e),i=null)})),void 0===r&&(r=null),i.send(r)}))},jv={"Content-Type":"application/x-www-form-urlencoded"};function Fv(e,t){!rv.isUndefined(e)&&rv.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var $v,Bv={adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==xv&&"[object process]"===Object.prototype.toString.call(xv))&&($v=qv),$v),transformRequest:[function(e,t){return Lv(t,"Accept"),Lv(t,"Content-Type"),rv.isFormData(e)||rv.isArrayBuffer(e)||rv.isBuffer(e)||rv.isStream(e)||rv.isFile(e)||rv.isBlob(e)?e:rv.isArrayBufferView(e)?e.buffer:rv.isURLSearchParams(e)?(Fv(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):rv.isObject(e)?(Fv(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(n){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};rv.forEach(["delete","get","head"],(function(e){Bv.headers[e]={}})),rv.forEach(["post","put","patch"],(function(e){Bv.headers[e]=rv.merge(jv)}));var Hv=Bv;function Vv(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var zv=function(e){return Vv(e),e.headers=e.headers||{},e.data=uv(e.data,e.headers,e.transformRequest),e.headers=rv.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),rv.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||Hv.adapter)(e).then((function(t){return Vv(e),t.data=uv(t.data,t.headers,e.transformResponse),t}),(function(t){return cv(t)||(Vv(e),t&&t.response&&(t.response.data=uv(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))},Kv=function(e,t){t=t||{};var n={},r=["url","method","params","data"],o=["headers","auth","proxy"],i=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];rv.forEach(r,(function(e){void 0!==t[e]&&(n[e]=t[e])})),rv.forEach(o,(function(r){rv.isObject(t[r])?n[r]=rv.deepMerge(e[r],t[r]):void 0!==t[r]?n[r]=t[r]:rv.isObject(e[r])?n[r]=rv.deepMerge(e[r]):void 0!==e[r]&&(n[r]=e[r])})),rv.forEach(i,(function(r){void 0!==t[r]?n[r]=t[r]:void 0!==e[r]&&(n[r]=e[r])}));var a=r.concat(o).concat(i),s=Object.keys(t).filter((function(e){return-1===a.indexOf(e)}));return rv.forEach(s,(function(r){void 0!==t[r]?n[r]=t[r]:void 0!==e[r]&&(n[r]=e[r])})),n};function Yv(e){this.defaults=e,this.interceptors={request:new sv,response:new sv}}Yv.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=Kv(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[zv,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},Yv.prototype.getUri=function(e){return e=Kv(this.defaults,e),iv(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},rv.forEach(["delete","get","head","options"],(function(e){Yv.prototype[e]=function(t,n){return this.request(rv.merge(n||{},{method:e,url:t}))}})),rv.forEach(["post","put","patch"],(function(e){Yv.prototype[e]=function(t,n,r){return this.request(rv.merge(r||{},{method:e,url:t,data:n}))}}));var Wv=Yv;function Xv(e){this.message=e}Xv.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},Xv.prototype.__CANCEL__=!0;var Jv=Xv;function Qv(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new Jv(e),t(n.reason))}))}Qv.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},Qv.source=function(){var e;return{token:new Qv((function(t){e=t})),cancel:e}};var Zv=Qv;function em(e){var t=new Wv(e),n=Xg(Wv.prototype.request,t);return rv.extend(n,Wv.prototype,t),rv.extend(n,t),n}var tm=em(Hv);tm.Axios=Wv,tm.create=function(e){return em(Kv(tm.defaults,e))},tm.Cancel=Jv,tm.CancelToken=Zv,tm.isCancel=cv,tm.all=function(e){return Promise.all(e)},tm.spread=function(e){return function(t){return e.apply(null,t)}};var nm=tm,rm=tm;nm.default=rm;var om=nm,im=om.create({timeout:3e4,headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"}});im.interceptors.response.use((function(e){var t=e.data,n=t.error_code,r=t.ErrorCode;return Vs(n)&&(r=n),r!==Tu.SUCCESS&&(e.data.ErrorCode=Number(r)),e}),(function(e){return"Network Error"===e.message&&(!0===im.defaults.withCredentials&&Bs.warn("Network Error, try to close `IMAxios.defaults.withCredentials` to false. (IMAxios.js)"),im.defaults.withCredentials=!1),Promise.reject(e)}));var am=function(){function e(){Tn(this,e)}return Dn(e,[{key:"request",value:function(e){console.warn("请注意： ConnectionBase.request() 方法必须被派生类重写:"),console.log("参数如下：\n    * @param {String} options.url string 是 开发者服务器接口地址\n    * @param {*} options.data - string/object/ArrayBuffer 否 请求的参数\n    * @param {Object} options.header - Object 否 设置请求的 header，\n    * @param {String} options.method - string GET 否 HTTP 请求方法\n    * @param {String} options.dataType - string json 否 返回的数据格式\n    * @param {String} options.responseType - string text 否 响应的数据类型\n    * @param {Boolean} isRetry - string text false 是否为重试的请求\n   ")}},{key:"_checkOptions",value:function(e){if(0==!!e.url)throw new mf({code:gp,message:Ih})}},{key:"_initOptions",value:function(e){e.method=["POST","GET","PUT","DELETE","OPTION"].indexOf(e.method)>=0?e.method:"POST",e.dataType=e.dataType||"json",e.responseType=e.responseType||"json"}}]),e}(),sm=function(e){function t(){var e;return Tn(this,t),(e=Fn(this,Nn(t).call(this))).retry=2,e}return Ln(t,e),Dn(t,[{key:"request",value:function(e){return this._checkOptions(e),this._initOptions(e),this._requestWithRetry({url:e.url,data:e.data,method:e.method})}},{key:"_requestWithRetry",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return im(e).catch((function(r){return t.retry&&n<t.retry?t._requestWithRetry(e,++n):og(new mf({code:r.code||"",message:r.message||""}))}))}}]),t}(am),um=[],cm=[],lm="undefined"!=typeof Uint8Array?Uint8Array:Array,fm=!1;function pm(){fm=!0;for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0,n=e.length;t<n;++t)um[t]=e[t],cm[e.charCodeAt(t)]=t;cm["-".charCodeAt(0)]=62,cm["_".charCodeAt(0)]=63}function hm(e,t,n){for(var r,o,i=[],a=t;a<n;a+=3)r=(e[a]<<16)+(e[a+1]<<8)+e[a+2],i.push(um[(o=r)>>18&63]+um[o>>12&63]+um[o>>6&63]+um[63&o]);return i.join("")}function dm(e){var t;fm||pm();for(var n=e.length,r=n%3,o="",i=[],a=0,s=n-r;a<s;a+=16383)i.push(hm(e,a,a+16383>s?s:a+16383));return 1===r?(t=e[n-1],o+=um[t>>2],o+=um[t<<4&63],o+="=="):2===r&&(t=(e[n-2]<<8)+e[n-1],o+=um[t>>10],o+=um[t>>4&63],o+=um[t<<2&63],o+="="),i.push(o),i.join("")}function gm(e,t,n,r,o){var i,a,s=8*o-r-1,u=(1<<s)-1,c=u>>1,l=-7,f=n?o-1:0,p=n?-1:1,h=e[t+f];for(f+=p,i=h&(1<<-l)-1,h>>=-l,l+=s;l>0;i=256*i+e[t+f],f+=p,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=r;l>0;a=256*a+e[t+f],f+=p,l-=8);if(0===i)i=1-c;else{if(i===u)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),i-=c}return(h?-1:1)*a*Math.pow(2,i-r)}function vm(e,t,n,r,o,i){var a,s,u,c=8*i-o-1,l=(1<<c)-1,f=l>>1,p=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,d=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||1/0===t?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+f>=1?p/u:p*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(t*u-1)*Math.pow(2,o),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,o),a=0));o>=8;e[n+h]=255&s,h+=d,s/=256,o-=8);for(a=a<<o|s,c+=o;c>0;e[n+h]=255&a,h+=d,a/=256,c-=8);e[n+h-d]|=128*g}var mm={}.toString,ym=Array.isArray||function(e){return"[object Array]"==mm.call(e)};function _m(){return Cm.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function bm(e,t){if(_m()<t)throw new RangeError("Invalid typed array length");return Cm.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=Cm.prototype:(null===e&&(e=new Cm(t)),e.length=t),e}function Cm(e,t,n){if(!(Cm.TYPED_ARRAY_SUPPORT||this instanceof Cm))return new Cm(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return wm(this,e)}return Sm(this,e,t,n)}function Sm(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),Cm.TYPED_ARRAY_SUPPORT?(e=t).__proto__=Cm.prototype:e=Mm(e,t),e}(e,t,n,r):"string"==typeof t?function(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!Cm.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|Tm(t,n),o=(e=bm(e,r)).write(t,n);return o!==r&&(e=e.slice(0,o)),e}(e,t,n):function(e,t){if(km(t)){var n=0|Em(t.length);return 0===(e=bm(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?bm(e,0):Mm(e,t);if("Buffer"===t.type&&ym(t.data))return Mm(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function Im(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function wm(e,t){if(Im(t),e=bm(e,t<0?0:0|Em(t)),!Cm.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function Mm(e,t){var n=t.length<0?0:0|Em(t.length);e=bm(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function Em(e){if(e>=_m())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+_m().toString(16)+" bytes");return 0|e}function km(e){return!(null==e||!e._isBuffer)}function Tm(e,t){if(km(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return ey(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return ty(e).length;default:if(r)return ey(e).length;t=(""+t).toLowerCase(),r=!0}}function Om(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return Bm(this,t,n);case"utf8":case"utf-8":return jm(this,t,n);case"ascii":return Fm(this,t,n);case"latin1":case"binary":return $m(this,t,n);case"base64":return qm(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Hm(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function Dm(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function Am(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=Cm.from(t,r)),km(t))return 0===t.length?-1:Rm(e,t,n,r,o);if("number"==typeof t)return t&=255,Cm.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):Rm(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function Rm(e,t,n,r,o){var i,a=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){var l=-1;for(i=n;i<s;i++)if(c(e,i)===c(t,-1===l?0:i-l)){if(-1===l&&(l=i),i-l+1===u)return l*a}else-1!==l&&(i-=i-l),l=-1}else for(n+u>s&&(n=s-u),i=n;i>=0;i--){for(var f=!0,p=0;p<u;p++)if(c(e,i+p)!==c(t,p)){f=!1;break}if(f)return i}return-1}function xm(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function Lm(e,t,n,r){return ny(ey(t,e.length-n),e,n,r)}function Nm(e,t,n,r){return ny(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function Pm(e,t,n,r){return Nm(e,t,n,r)}function Gm(e,t,n,r){return ny(ty(t),e,n,r)}function Um(e,t,n,r){return ny(function(e,t){for(var n,r,o,i=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function qm(e,t,n){return 0===t&&n===e.length?dm(e):dm(e.slice(t,n))}function jm(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var i,a,s,u,c=e[o],l=null,f=c>239?4:c>223?3:c>191?2:1;if(o+f<=n)switch(f){case 1:c<128&&(l=c);break;case 2:128==(192&(i=e[o+1]))&&(u=(31&c)<<6|63&i)>127&&(l=u);break;case 3:i=e[o+1],a=e[o+2],128==(192&i)&&128==(192&a)&&(u=(15&c)<<12|(63&i)<<6|63&a)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:i=e[o+1],a=e[o+2],s=e[o+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&(u=(15&c)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),o+=f}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}function Fm(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function $m(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function Bm(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=t;i<n;++i)o+=Zm(e[i]);return o}function Hm(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function Vm(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function zm(e,t,n,r,o,i){if(!km(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function Km(e,t,n,r){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-n,2);o<i;++o)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function Ym(e,t,n,r){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-n,4);o<i;++o)e[n+o]=t>>>8*(r?o:3-o)&255}function Wm(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function Xm(e,t,n,r,o){return o||Wm(e,0,n,4),vm(e,t,n,r,23,4),n+4}function Jm(e,t,n,r,o){return o||Wm(e,0,n,8),vm(e,t,n,r,52,8),n+8}Cm.TYPED_ARRAY_SUPPORT=void 0===Ns.TYPED_ARRAY_SUPPORT||Ns.TYPED_ARRAY_SUPPORT,Cm.poolSize=8192,Cm._augment=function(e){return e.__proto__=Cm.prototype,e},Cm.from=function(e,t,n){return Sm(null,e,t,n)},Cm.TYPED_ARRAY_SUPPORT&&(Cm.prototype.__proto__=Uint8Array.prototype,Cm.__proto__=Uint8Array),Cm.alloc=function(e,t,n){return function(e,t,n,r){return Im(t),t<=0?bm(e,t):void 0!==n?"string"==typeof r?bm(e,t).fill(n,r):bm(e,t).fill(n):bm(e,t)}(null,e,t,n)},Cm.allocUnsafe=function(e){return wm(null,e)},Cm.allocUnsafeSlow=function(e){return wm(null,e)},Cm.isBuffer=function(e){return null!=e&&(!!e._isBuffer||ry(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&ry(e.slice(0,0))}(e))},Cm.compare=function(e,t){if(!km(e)||!km(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},Cm.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Cm.concat=function(e,t){if(!ym(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return Cm.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=Cm.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var i=e[n];if(!km(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(r,o),o+=i.length}return r},Cm.byteLength=Tm,Cm.prototype._isBuffer=!0,Cm.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)Dm(this,t,t+1);return this},Cm.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)Dm(this,t,t+3),Dm(this,t+1,t+2);return this},Cm.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)Dm(this,t,t+7),Dm(this,t+1,t+6),Dm(this,t+2,t+5),Dm(this,t+3,t+4);return this},Cm.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?jm(this,0,e):Om.apply(this,arguments)},Cm.prototype.equals=function(e){if(!km(e))throw new TypeError("Argument must be a Buffer");return this===e||0===Cm.compare(this,e)},Cm.prototype.inspect=function(){var e="";return this.length>0&&(e=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(e+=" ... ")),"<Buffer "+e+">"},Cm.prototype.compare=function(e,t,n,r,o){if(!km(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;for(var i=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(i,a),u=this.slice(r,o),c=e.slice(t,n),l=0;l<s;++l)if(u[l]!==c[l]){i=u[l],a=c[l];break}return i<a?-1:a<i?1:0},Cm.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},Cm.prototype.indexOf=function(e,t,n){return Am(this,e,t,n,!0)},Cm.prototype.lastIndexOf=function(e,t,n){return Am(this,e,t,n,!1)},Cm.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return xm(this,e,t,n);case"utf8":case"utf-8":return Lm(this,e,t,n);case"ascii":return Nm(this,e,t,n);case"latin1":case"binary":return Pm(this,e,t,n);case"base64":return Gm(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Um(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},Cm.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},Cm.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),Cm.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=Cm.prototype;else{var o=t-e;n=new Cm(o,void 0);for(var i=0;i<o;++i)n[i]=this[i+e]}return n},Cm.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||Vm(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},Cm.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||Vm(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},Cm.prototype.readUInt8=function(e,t){return t||Vm(e,1,this.length),this[e]},Cm.prototype.readUInt16LE=function(e,t){return t||Vm(e,2,this.length),this[e]|this[e+1]<<8},Cm.prototype.readUInt16BE=function(e,t){return t||Vm(e,2,this.length),this[e]<<8|this[e+1]},Cm.prototype.readUInt32LE=function(e,t){return t||Vm(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},Cm.prototype.readUInt32BE=function(e,t){return t||Vm(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},Cm.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||Vm(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*t)),r},Cm.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||Vm(e,t,this.length);for(var r=t,o=1,i=this[e+--r];r>0&&(o*=256);)i+=this[e+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},Cm.prototype.readInt8=function(e,t){return t||Vm(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},Cm.prototype.readInt16LE=function(e,t){t||Vm(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},Cm.prototype.readInt16BE=function(e,t){t||Vm(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},Cm.prototype.readInt32LE=function(e,t){return t||Vm(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},Cm.prototype.readInt32BE=function(e,t){return t||Vm(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},Cm.prototype.readFloatLE=function(e,t){return t||Vm(e,4,this.length),gm(this,e,!0,23,4)},Cm.prototype.readFloatBE=function(e,t){return t||Vm(e,4,this.length),gm(this,e,!1,23,4)},Cm.prototype.readDoubleLE=function(e,t){return t||Vm(e,8,this.length),gm(this,e,!0,52,8)},Cm.prototype.readDoubleBE=function(e,t){return t||Vm(e,8,this.length),gm(this,e,!1,52,8)},Cm.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||zm(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},Cm.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||zm(this,e,t,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},Cm.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||zm(this,e,t,1,255,0),Cm.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},Cm.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||zm(this,e,t,2,65535,0),Cm.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):Km(this,e,t,!0),t+2},Cm.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||zm(this,e,t,2,65535,0),Cm.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):Km(this,e,t,!1),t+2},Cm.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||zm(this,e,t,4,4294967295,0),Cm.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):Ym(this,e,t,!0),t+4},Cm.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||zm(this,e,t,4,4294967295,0),Cm.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):Ym(this,e,t,!1),t+4},Cm.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);zm(this,e,t,n,o-1,-o)}var i=0,a=1,s=0;for(this[t]=255&e;++i<n&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},Cm.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);zm(this,e,t,n,o-1,-o)}var i=n-1,a=1,s=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},Cm.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||zm(this,e,t,1,127,-128),Cm.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},Cm.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||zm(this,e,t,2,32767,-32768),Cm.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):Km(this,e,t,!0),t+2},Cm.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||zm(this,e,t,2,32767,-32768),Cm.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):Km(this,e,t,!1),t+2},Cm.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||zm(this,e,t,4,2147483647,-2147483648),Cm.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):Ym(this,e,t,!0),t+4},Cm.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||zm(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),Cm.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):Ym(this,e,t,!1),t+4},Cm.prototype.writeFloatLE=function(e,t,n){return Xm(this,e,t,!0,n)},Cm.prototype.writeFloatBE=function(e,t,n){return Xm(this,e,t,!1,n)},Cm.prototype.writeDoubleLE=function(e,t,n){return Jm(this,e,t,!0,n)},Cm.prototype.writeDoubleBE=function(e,t,n){return Jm(this,e,t,!1,n)},Cm.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o,i=r-n;if(this===e&&n<t&&t<r)for(o=i-1;o>=0;--o)e[o+t]=this[o+n];else if(i<1e3||!Cm.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+i),t);return i},Cm.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!Cm.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{var a=km(e)?e:ey(new Cm(e,r).toString()),s=a.length;for(i=0;i<n-t;++i)this[i+t]=a[i%s]}return this};var Qm=/[^+\/0-9A-Za-z-_]/g;function Zm(e){return e<16?"0"+e.toString(16):e.toString(16)}function ey(e,t){var n;t=t||1/0;for(var r=e.length,o=null,i=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function ty(e){return function(e){var t,n,r,o,i,a;fm||pm();var s=e.length;if(s%4>0)throw new Error("Invalid string. Length must be a multiple of 4");i="="===e[s-2]?2:"="===e[s-1]?1:0,a=new lm(3*s/4-i),r=i>0?s-4:s;var u=0;for(t=0,n=0;t<r;t+=4,n+=3)o=cm[e.charCodeAt(t)]<<18|cm[e.charCodeAt(t+1)]<<12|cm[e.charCodeAt(t+2)]<<6|cm[e.charCodeAt(t+3)],a[u++]=o>>16&255,a[u++]=o>>8&255,a[u++]=255&o;return 2===i?(o=cm[e.charCodeAt(t)]<<2|cm[e.charCodeAt(t+1)]>>4,a[u++]=255&o):1===i&&(o=cm[e.charCodeAt(t)]<<10|cm[e.charCodeAt(t+1)]<<4|cm[e.charCodeAt(t+2)]>>2,a[u++]=o>>8&255,a[u++]=255&o),a}(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(Qm,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function ny(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}function ry(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}var oy=function(e){function t(){var e;return Tn(this,t),(e=Fn(this,Nn(t).call(this))).retry=2,e._request=e.promisify(wx.request),e}return Ln(t,e),Dn(t,[{key:"request",value:function(e){return this._checkOptions(e),this._initOptions(e),e=xn({},e,{responseType:"text"}),this._requestWithRetry(e)}},{key:"_requestWithRetry",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._request(e).then(this._handleResolve).catch((function(r){if(zs(r.errMsg)){if(r.errMsg.includes("abort"))return rg({});if(r.errMsg.includes("timeout"))return t.retry>0&&n<t.retry?t._requestWithRetry(e,++n):og(new mf({code:dp,message:r.errMsg}));if(r.errMsg.includes("fail"))return t.retry>0&&n<t.retry?t._requestWithRetry(e,++n):og(new mf({code:hp,message:r.errMsg}))}return og(new mf(xn({code:Sp,message:r.message},r)))}))}},{key:"_handleResolve",value:function(e){var t=e.data,n=t.error_code,r=t.ErrorCode;return"number"==typeof n&&(r=n),r!==Tu.SUCCESS&&(e.data.ErrorCode=Number("".concat(r))),e}},{key:"promisify",value:function(e){return function(t){return new Promise((function(n,r){var o=e(Object.assign({},t,{success:n,fail:r}));t.updateAbort&&t.updateAbort((function(){o&&Qs(o.abort)&&o.abort()}))}))}}}]),t}(am),iy=function(){function e(){Tn(this,e),this.request=0,this.success=0,this.fail=0,this.reportRate=10,this.requestTimeCost=[]}return Dn(e,[{key:"report",value:function(){if(1!==this.request){if(this.request%this.reportRate!=0)return null;var e=this.avgRequestTime(),t="runLoop reports: success=".concat(this.success,",fail=").concat(this.fail,",total=").concat(this.request,",avg=").concat(e,",cur=").concat(this.requestTimeCost[this.requestTimeCost.length-1],",max=").concat(Math.max.apply(null,this.requestTimeCost),",min=").concat(Math.min.apply(null,this.requestTimeCost));Bs.log(t)}}},{key:"setRequestTime",value:function(e,t){var n=Math.abs(t-e);100===this.requestTimeCost.length&&this.requestTimeCost.shift(),this.requestTimeCost.push(n)}},{key:"avgRequestTime",value:function(){for(var e,t=this.requestTimeCost.length,n=0,r=0;r<t;r++)n+=this.requestTimeCost[r];return e=n/t,Math.round(100*e)/100}}]),e}(),ay=om.create({timeout:6e3,headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"}});ay.interceptors.response.use((function(e){var t=e.data,n=t.error_code,r=t.ErrorCode;return Vs(n)&&(r=n),r!==Tu.SUCCESS&&(e.data.ErrorCode=Number(r)),e}),(function(e){return"Network Error"===e.message&&(!0===ay.defaults.withCredentials&&Bs.warn("Network Error, try to close `IMAxiosAVChatroom.defaults.withCredentials` to false. (IMAxiosAVChatroom.js)"),ay.defaults.withCredentials=!1),Promise.reject(e)}));var sy=om.CancelToken,uy=function(){function e(t){Tn(this,e),this._initializeOptions(t),this._initializeMembers(),this.status=new iy}return Dn(e,[{key:"destructor",value:function(){clearTimeout(this._seedID);var e=this._index();for(var t in this)Object.prototype.hasOwnProperty.call(this,t)&&(this[t]=null);return e}},{key:"setIndex",value:function(e){this._index=e}},{key:"getIndex",value:function(){return this._index}},{key:"isRunning",value:function(){return!this._stoped}},{key:"_initializeOptions",value:function(e){this.options=e}},{key:"_initializeMembers",value:function(){this._index=-1,this._seedID=0,this._requestStatus=!1,this._stoped=!1,this._intervalTime=0,this._intervalIncreaseStep=1e3,this._intervalDecreaseStep=1e3,this._intervalTimeMax=5e3,this._protectTimeout=3e3,this._getNoticeSeq=this.options.getNoticeSeq,this._retryCount=0,this._responseTime=Date.now(),this._responseTimeThreshold=2e3,this.options.isAVChatRoomLoop?this.requestor=ay:this.requestor=im,Bs.log("XHRRunLoop._initializeMembers isAVChatRoomLoop=".concat(!!this.options.isAVChatRoomLoop)),this.abort=null}},{key:"start",value:function(){0===this._seedID?(this._stoped=!1,this._send()):Bs.log('XHRRunLoop.start(), XHRRunLoop is running now, if you want to restart runLoop , please run "stop()" first.')}},{key:"_reset",value:function(){Bs.log("XHRRunLoop._reset(), reset long poll _intervalTime",this._intervalTime),this.stop(),this.start()}},{key:"_intervalTimeIncrease",value:function(){this._intervalTime!==this._responseTimeThreshold&&(this._intervalTime<this._responseTimeThreshold&&(this._intervalTime+=this._intervalIncreaseStep),this._intervalTime>this._responseTimeThreshold&&(this._intervalTime=this._responseTimeThreshold))}},{key:"_intervalTimeDecrease",value:function(){0!==this._intervalTime&&(this._intervalTime>0&&(this._intervalTime-=this._intervalDecreaseStep),this._intervalTime<0&&(this._intervalTime=0))}},{key:"_intervalTimeAdjustment",value:function(){var e=Date.now();100*Math.floor((e-this._responseTime)/100)<=this._responseTimeThreshold?this._intervalTimeIncrease():this._intervalTimeDecrease(),this._responseTime=e}},{key:"_intervalTimeAdjustmentBaseOnResponseData",value:function(e){e.ErrorCode===Tu.SUCCESS?this._intervalTimeDecrease():this._intervalTimeIncrease()}},{key:"_send",value:function(){var e=this;if(!0!==this._requestStatus){this._requestStatus=!0,this.status.request++,"function"==typeof this.options.before&&this.options.before(this.options.pack.requestData);var t=Date.now(),n=0;this.requestor.request({url:this.options.pack.getUrl(),data:this.options.pack.requestData,method:this.options.pack.method,cancelToken:new sy((function(t){e.abort=t}))}).then((function(r){if(e._intervalTimeAdjustmentBaseOnResponseData.bind(e)(r.data),e._retryCount>0&&(e._retryCount=0),e.status.success++,n=Date.now(),e.status.setRequestTime(t,n),r.data.timecost=n-t,"function"==typeof e.options.success)try{e.options.success({pack:e.options.pack,error:!1,data:e.options.pack.callback(r.data)})}catch(i){Bs.warn("XHRRunLoop._send(), error:",i)}e._requestStatus=!1,!1===e._stoped&&(e._seedID=setTimeout(e._send.bind(e),e._intervalTime)),e.status.report()})).catch((function(r){if(e.status.fail++,e._retryCount++,e._intervalTimeAdjustment.bind(e)(),!1===e._stoped&&(e._seedID=setTimeout(e._send.bind(e),e._intervalTime)),e._requestStatus=!1,"function"==typeof e.options.fail&&void 0!==r.request)try{e.options.fail({pack:e.options.pack,error:r,data:!1})}catch(i){Bs.warn("XHRRunLoop._send(), fail callback error:"),Bs.error(i)}n=Date.now(),e.status.setRequestTime(t,n),e.status.report()}))}}},{key:"stop",value:function(){this._clearAllTimeOut(),this._stoped=!0}},{key:"_clearAllTimeOut",value:function(){clearTimeout(this._seedID),this._seedID=0}}]),e}(),cy=function(){function e(t){Tn(this,e),this._initializeOptions(t),this._initializeMembers(),this.status=new iy}return Dn(e,[{key:"destructor",value:function(){clearTimeout(this._seedID);var e=this._index();for(var t in this)Object.prototype.hasOwnProperty.call(this,t)&&(this[t]=null);return e}},{key:"setIndex",value:function(e){this._index=e}},{key:"isRunning",value:function(){return!this._stoped}},{key:"getIndex",value:function(){return this._index}},{key:"_initializeOptions",value:function(e){this.options=e}},{key:"_initializeMembers",value:function(){this._index=-1,this._seedID=0,this._requestStatus=!1,this._stoped=!1,this._intervalTime=0,this._intervalIncreaseStep=1e3,this._intervalDecreaseStep=1e3,this._intervalTimeMax=5e3,this._protectTimeout=3e3,this._getNoticeSeq=this.options.getNoticeSeq,this._retryCount=0,this._responseTime=Date.now(),this._responseTimeThreshold=2e3,this.requestor=new oy,this.abort=null}},{key:"start",value:function(){0===this._seedID?(this._stoped=!1,this._send()):Bs.log('WXRunLoop.start(): WXRunLoop is running now, if you want to restart runLoop , please run "stop()" first.')}},{key:"_reset",value:function(){Bs.log("WXRunLoop.reset(), long poll _intervalMaxRate",this._intervalMaxRate),this.stop(),this.start()}},{key:"_intervalTimeIncrease",value:function(){this._intervalTime!==this._responseTimeThreshold&&(this._intervalTime<this._responseTimeThreshold&&(this._intervalTime+=this._intervalIncreaseStep),this._intervalTime>this._responseTimeThreshold&&(this._intervalTime=this._responseTimeThreshold))}},{key:"_intervalTimeDecrease",value:function(){0!==this._intervalTime&&(this._intervalTime>0&&(this._intervalTime-=this._intervalDecreaseStep),this._intervalTime<0&&(this._intervalTime=0))}},{key:"_intervalTimeAdjustment",value:function(){var e=Date.now();100*Math.floor((e-this._responseTime)/100)<=this._responseTimeThreshold?this._intervalTimeIncrease():this._intervalTimeDecrease(),this._responseTime=e}},{key:"_intervalTimeAdjustmentBaseOnResponseData",value:function(e){e.ErrorCode===Tu.SUCCESS?this._intervalTimeDecrease():this._intervalTimeIncrease()}},{key:"_send",value:function(){var e=this;if(!0!==this._requestStatus){var t=this;this._requestStatus=!0,this.status.request++,"function"==typeof this.options.before&&this.options.before(t.options.pack.requestData);var n=Date.now(),r=0;this.requestor.request({url:t.options.pack.getUrl(),data:t.options.pack.requestData,method:t.options.pack.method,updateAbort:function(t){e.abort=t}}).then((function(o){if(t._intervalTimeAdjustmentBaseOnResponseData.bind(e)(o.data),t._retryCount>0&&(t._retryCount=0),e.status.success++,r=Date.now(),e.status.setRequestTime(n,r),o.data.timecost=r-n,"function"==typeof t.options.success)try{e.options.success({pack:e.options.pack,error:!1,data:e.options.pack.callback(o.data)})}catch(a){Bs.warn("WXRunLoop._send(), error:",a)}t._requestStatus=!1,!1===t._stoped&&(t._seedID=setTimeout(t._send.bind(t),t._intervalTime)),e.status.report()})).catch((function(o){if(e.status.fail++,t._retryCount++,t._intervalTimeAdjustment.bind(e)(),!1===t._stoped&&(t._seedID=setTimeout(t._send.bind(t),t._intervalTime)),t._requestStatus=!1,"function"==typeof t.options.fail)try{e.options.fail({pack:e.options.pack,error:o,data:!1})}catch(a){Bs.warn("WXRunLoop._send(), fail callback error:"),Bs.error(a)}r=Date.now(),e.status.setRequestTime(n,r),e.status.report()}))}}},{key:"stop",value:function(){this._clearAllTimeOut(),this._stoped=!0}},{key:"_clearAllTimeOut",value:function(){clearTimeout(this._seedID),this._seedID=0}}]),e}(),ly=function(){function e(t){Tn(this,e),this.tim=t,this.httpConnection=ds?new oy:new sm,this.keepAliveConnections=[]}return Dn(e,[{key:"initializeListener",value:function(){this.tim.innerEmitter.on(Td,this._stopAllRunLoop,this)}},{key:"request",value:function(e){var t={url:e.url,data:e.requestData,method:e.method,callback:e.callback};return this.httpConnection.request(t).then((function(t){return t.data=e.callback(t.data),t.data.errorCode!==Tu.SUCCESS?og(new mf({code:t.data.errorCode,message:t.data.errorInfo})):t}))}},{key:"createRunLoop",value:function(e){var t=this.createKeepAliveConnection(e);return t.setIndex(this.keepAliveConnections.push(t)-1),t}},{key:"stopRunLoop",value:function(e){e.stop()}},{key:"_stopAllRunLoop",value:function(){for(var e=this.keepAliveConnections.length,t=0;t<e;t++)this.keepAliveConnections[t].stop()}},{key:"destroyRunLoop",value:function(e){e.stop();var t=e.destructor();this.keepAliveConnections.slice(t,1)}},{key:"startRunLoopExclusive",value:function(e){for(var t=e.getIndex(),n=0;n<this.keepAliveConnections.length;n++)n!==t&&this.keepAliveConnections[n].stop();e.start()}},{key:"createKeepAliveConnection",value:function(e){return ds?new cy(e):(this.tim.options.runLoopNetType===Wl||this.tim.options.runLoopNetType,new uy(e))}},{key:"clearAll",value:function(){this.conn.cancelAll()}},{key:"reset",value:function(){this.keepAliveConnections=[]}}]),e}(),fy=function(){function e(t){Tn(this,e),this.tim=t,this.tim.innerEmitter.on(Ad,this._onErrorDetected,this)}return Dn(e,[{key:"_onErrorDetected",value:function(e){var t=e.data;t.code?Bs.warn("Oops! code:".concat(t.code," message:").concat(t.message)):Bs.warn("Oops! message:".concat(t.message," stack:").concat(t.stack)),this.tim.outerEmitter.emit(fn.ERROR,t)}}]),e}(),py=function(){function e(t){var n=this;Tn(this,e),Cu(t)||(this.userID=t.userID||"",this.nick=t.nick||"",this.gender=t.gender||"",this.birthday=t.birthday||0,this.location=t.location||"",this.selfSignature=t.selfSignature||"",this.allowType=t.allowType||pn.ALLOW_TYPE_ALLOW_ANY,this.language=t.language||0,this.avatar=t.avatar||"",this.messageSettings=t.messageSettings||0,this.adminForbidType=t.adminForbidType||pn.FORBID_TYPE_NONE,this.level=t.level||0,this.role=t.role||0,this.lastUpdatedTime=0,this.profileCustomField=[],Cu(t.profileCustomField)||t.profileCustomField.forEach((function(e){n.profileCustomField.push({key:e.key,value:e.value})})))}return Dn(e,[{key:"validate",value:function(e){var t=!0,n="";if(Cu(e))return{valid:!1,tips:"empty options"};if(e.profileCustomField)for(var r=e.profileCustomField.length,o=null,i=0;i<r;i++){if(o=e.profileCustomField[i],!zs(o.key)||-1===o.key.indexOf("Tag_Profile_Custom"))return{valid:!1,tips:"自定义资料字段的前缀必须是 Tag_Profile_Custom"};if(!zs(o.value))return{valid:!1,tips:"自定义资料字段的 value 必须是字符串"}}for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if("profileCustomField"===a)continue;if(Cu(e[a])&&!zs(e[a])&&!Vs(e[a])){n="key:"+a+", invalid value:"+e[a],t=!1;continue}switch(a){case"nick":zs(e[a])||(n="nick should be a string",t=!1),su(e[a])>500&&(n="nick name limited: must less than or equal to ".concat(500," bytes, current size: ").concat(su(e[a])," bytes"),t=!1);break;case"gender":fu(Zl,e.gender)||(n="key:gender, invalid value:"+e.gender,t=!1);break;case"birthday":Vs(e.birthday)||(n="birthday should be a number",t=!1);break;case"location":zs(e.location)||(n="location should be a string",t=!1);break;case"selfSignature":zs(e.selfSignature)||(n="selfSignature should be a string",t=!1);break;case"allowType":fu(tf,e.allowType)||(n="key:allowType, invalid value:"+e.allowType,t=!1);break;case"language":Vs(e.language)||(n="language should be a number",t=!1);break;case"avatar":zs(e.avatar)||(n="avatar should be a string",t=!1);break;case"messageSettings":0!==e.messageSettings&&1!==e.messageSettings&&(n="messageSettings should be 0 or 1",t=!1);break;case"adminForbidType":fu(ef,e.adminForbidType)||(n="key:adminForbidType, invalid value:"+e.adminForbidType,t=!1);break;case"level":Vs(e.level)||(n="level should be a number",t=!1);break;case"role":Vs(e.role)||(n="role should be a number",t=!1);break;default:n="unknown key:"+a+"  "+e[a],t=!1}}return{valid:t,tips:n}}}]),e}(),hy=function(){function e(t){Tn(this,e),this.userController=t,this.TAG="profile",this.Actions={Q:"query",U:"update"},this.accountProfileMap=new Map,this.expirationTime=864e5}return Dn(e,[{key:"setExpirationTime",value:function(e){this.expirationTime=e}},{key:"getUserProfile",value:function(e){var t=this,n=e.userIDList;e.fromAccount=this.userController.getMyAccount(),n.length>100&&(Bs.warn("ProfileHandler.getUserProfile 获取用户资料人数不能超过100人"),n.length=100);for(var r,o=[],i=[],a=0,s=n.length;a<s;a++)r=n[a],this.userController.isMyFriend(r)&&this._containsAccount(r)?i.push(this._getProfileFromMap(r)):o.push(r);if(0===o.length)return rg(i);e.toAccount=o;var u=e.bFromGetMyProfile||!1,c=[];e.toAccount.forEach((function(e){c.push({toAccount:e,standardSequence:0,customSequence:0})})),e.userItem=c;var l=new hg;l.setMethod(zg).setStart();var f=this.userController.generateConfig(this.TAG,this.Actions.Q,e);return this.userController.request(f).then((function(e){l.setCode(0).setNetworkType(t.userController.getNetworkType()).setText(e.data.userProfileItem.length).setEnd(),Bs.info("ProfileHandler.getUserProfile ok");var n=t._handleResponse(e).concat(i);return u?(t.userController.onGotMyProfile(),new eg(n[0])):new eg(n)})).catch((function(e){return t.userController.probeNetwork().then((function(t){var n=$n(t,2),r=n[0],o=n[1];l.setError(e,r,o).setEnd()})),Bs.error("ProfileHandler.getUserProfile error:",e),og(e)}))}},{key:"getMyProfile",value:function(){var e=this.userController.getMyAccount();if(Bs.log("ProfileHandler.getMyProfile myAccount="+e),this._fillMap(),this._containsAccount(e)){var t=this._getProfileFromMap(e);return Bs.debug("ProfileHandler.getMyProfile from cache, myProfile:"+JSON.stringify(t)),this.userController.onGotMyProfile(),rg(t)}return this.getUserProfile({fromAccount:e,userIDList:[e],bFromGetMyProfile:!0})}},{key:"_handleResponse",value:function(e){for(var t,n,r=ru.now(),o=e.data.userProfileItem,i=[],a=0,s=o.length;a<s;a++)"@TLS#NOT_FOUND"!==o[a].to&&""!==o[a].to&&(t=o[a].to,n=this._updateMap(t,this._getLatestProfileFromResponse(t,o[a].profileItem)),i.push(n));return Bs.log("ProfileHandler._handleResponse cost "+(ru.now()-r)+" ms"),i}},{key:"_getLatestProfileFromResponse",value:function(e,t){var n={};if(n.userID=e,n.profileCustomField=[],!Cu(t))for(var r=0,o=t.length;r<o;r++)if(t[r].tag.indexOf("Tag_Profile_Custom")>-1)n.profileCustomField.push({key:t[r].tag,value:t[r].value});else switch(t[r].tag){case Ql.NICK:n.nick=t[r].value;break;case Ql.GENDER:n.gender=t[r].value;break;case Ql.BIRTHDAY:n.birthday=t[r].value;break;case Ql.LOCATION:n.location=t[r].value;break;case Ql.SELFSIGNATURE:n.selfSignature=t[r].value;break;case Ql.ALLOWTYPE:n.allowType=t[r].value;break;case Ql.LANGUAGE:n.language=t[r].value;break;case Ql.AVATAR:n.avatar=t[r].value;break;case Ql.MESSAGESETTINGS:n.messageSettings=t[r].value;break;case Ql.ADMINFORBIDTYPE:n.adminForbidType=t[r].value;break;case Ql.LEVEL:n.level=t[r].value;break;case Ql.ROLE:n.role=t[r].value;break;default:Bs.warn("ProfileHandler._handleResponse unkown tag->",t[r].tag,t[r].value)}return n}},{key:"updateMyProfile",value:function(e){var t=this,n=(new py).validate(e);if(!n.valid)return Bs.error("ProfileHandler.updateMyProfile info:".concat(n.tips,"，请参考 https://imsdk-1252463788.file.myqcloud.com/IM_DOC/Web/SDK.html#updateMyProfile")),og({code:up,message:yh});var r=[];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&("profileCustomField"===o?e.profileCustomField.forEach((function(e){r.push({tag:e.key,value:e.value})})):r.push({tag:Ql[o.toUpperCase()],value:e[o]}));if(0===r.length)return Bs.error("ProfileHandler.updateMyProfile info:".concat(_h,"，请参考 https://imsdk-1252463788.file.myqcloud.com/IM_DOC/Web/SDK.html#updateMyProfile")),og({code:cp,message:_h});var i=this.userController.generateConfig(this.TAG,this.Actions.U,{fromAccount:this.userController.getMyAccount(),profileItem:r});return this.userController.request(i).then((function(n){Bs.info("ProfileHandler.updateMyProfile ok");var r=t._updateMap(t.userController.getMyAccount(),e);return t.userController.emitOuterEvent(fn.PROFILE_UPDATED,[r]),rg(r)})).catch((function(e){return Bs.error("ProfileHandler.updateMyProfile error:",e),og(e)}))}},{key:"onProfileModified",value:function(e){var t=e.data;if(!Cu(t)){var n,r,o=t.length;Bs.info("ProfileHandler.onProfileModified length="+o);for(var i=[],a=0;a<o;a++)n=t[a].userID,r=this._updateMap(n,this._getLatestProfileFromResponse(n,t[a].profileList)),i.push(r);this.userController.emitInnerEvent(Nd,i),this.userController.emitOuterEvent(fn.PROFILE_UPDATED,i)}}},{key:"_fillMap",value:function(){if(0===this.accountProfileMap.size){for(var e=this._getCachedProfiles(),t=Date.now(),n=0,r=e.length;n<r;n++)t-e[n].lastUpdatedTime<this.expirationTime&&this.accountProfileMap.set(e[n].userID,e[n]);Bs.log("ProfileHandler._fillMap from cache, map.size="+this.accountProfileMap.size)}}},{key:"_updateMap",value:function(e,t){var n,r=Date.now();return this._containsAccount(e)?(n=this._getProfileFromMap(e),t.profileCustomField&&gu(n.profileCustomField,t.profileCustomField),ou(n,t,["profileCustomField"]),n.lastUpdatedTime=r):(n=new py(t),(this.userController.isMyFriend(e)||e===this.userController.getMyAccount())&&(n.lastUpdatedTime=r,this.accountProfileMap.set(e,n))),this._flushMap(e===this.userController.getMyAccount()),n}},{key:"_flushMap",value:function(e){var t=Bn(this.accountProfileMap.values()),n=this.userController.tim.storage;Bs.debug("ProfileHandler._flushMap length=".concat(t.length," flushAtOnce=").concat(e)),n.setItem(this.TAG,t,e)}},{key:"_containsAccount",value:function(e){return this.accountProfileMap.has(e)}},{key:"_getProfileFromMap",value:function(e){return this.accountProfileMap.get(e)}},{key:"_getCachedProfiles",value:function(){var e=this.userController.tim.storage.getItem(this.TAG);return Cu(e)?[]:e}},{key:"onConversationsProfileUpdated",value:function(e){for(var t,n,r,o=[],i=0,a=e.length;i<a;i++)n=(t=e[i]).userID,this.userController.isMyFriend(n)&&(this._containsAccount(n)?(r=this._getProfileFromMap(n),ou(r,t)>0&&o.push(n)):o.push(t.userID));0!==o.length&&(Bs.info("ProfileHandler.onConversationsProfileUpdated toAccount:",o),this.getUserProfile({userIDList:o}))}},{key:"reset",value:function(){this._flushMap(!0),this.accountProfileMap.clear()}}]),e}();De({target:"String",proto:!0},{repeat:go});var dy=function(){function e(t){Tn(this,e),this.options=t?t.options:{enablePointer:!0},this.pointsList={},this.reportText={},this.maxNameLen=0,this.gapChar="-",this.log=console.log,this.currentTask=""}return Dn(e,[{key:"newTask",value:function(e){!1!==this.options.enablePointer&&(e||(e=["task",this._timeFormat()].join("-")),this.pointsList[e]=[],this.currentTask=e,console.log("Pointer new Task : ".concat(this.currentTask)))}},{key:"deleteTask",value:function(e){!1!==this.options.enablePointer&&(e||(e=this.currentTask),this.pointsList[e].length=0,delete this.pointsList[e])}},{key:"dot",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;if(!1!==this.options.enablePointer){t=t||this.currentTask;var n=+new Date;this.maxNameLen=this.maxNameLen<e.length?e.length:this.maxNameLen,this.flen=this.maxNameLen+10,this.pointsList[t].push({pointerName:e,time:n})}}},{key:"_analisys",value:function(e){if(!1!==this.options.enablePointer){e=e||this.currentTask;for(var t=this.pointsList[e],n=t.length,r=[],o=[],i=0;i<n;i++)0!==i&&(o=this._analisysTowPoints(t[i-1],t[i]),r.push(o.join("")));return o=this._analisysTowPoints(t[0],t[n-1],!0),r.push(o.join("")),r.join("")}}},{key:"_analisysTowPoints",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!1!==this.options.enablePointer){var r=this.flen,o=t.time-e.time,i=o.toString(),a=e.pointerName+this.gapChar.repeat(r-e.pointerName.length),s=t.pointerName+this.gapChar.repeat(r-t.pointerName.length),u=this.gapChar.repeat(4-i.length)+i,c=n?["%c",a,s,u,"ms\n%c"]:[a,s,u,"ms\n"];return c}}},{key:"report",value:function(e){if(!1!==this.options.enablePointer){e=e||this.currentTask;var t=this._analisys(e);this.pointsList=[];var n=this._timeFormat(),r="Pointer[".concat(e,"(").concat(n,")]"),o=4*this.maxNameLen,i=(o-r.length)/2;console.log(["-".repeat(i),r,"-".repeat(i)].join("")),console.log("%c"+t,"color:#66a","color:red","color:#66a"),console.log("-".repeat(o))}}},{key:"_timeFormat",value:function(){var e=new Date,t=this.zeroFix(e.getMonth()+1,2),n=this.zeroFix(e.getDate(),2);return"".concat(t,"-").concat(n," ").concat(e.getHours(),":").concat(e.getSeconds(),":").concat(e.getMinutes(),"~").concat(e.getMilliseconds())}},{key:"zeroFix",value:function(e,t){return("000000000"+e).slice(-t)}},{key:"reportAll",value:function(){if(!1!==this.options.enablePointer)for(var e in this.pointsList)Object.prototype.hasOwnProperty.call(this.pointsList,e)&&this.eport(e)}}]),e}(),gy=function e(t,n){Tn(this,e),this.userID=t;var r={};if(r.userID=t,!Cu(n))for(var o=0,i=n.length;o<i;o++)switch(n[o].tag){case Ql.NICK:r.nick=n[o].value;break;case Ql.GENDER:r.gender=n[o].value;break;case Ql.BIRTHDAY:r.birthday=n[o].value;break;case Ql.LOCATION:r.location=n[o].value;break;case Ql.SELFSIGNATURE:r.selfSignature=n[o].value;break;case Ql.ALLOWTYPE:r.allowType=n[o].value;break;case Ql.LANGUAGE:r.language=n[o].value;break;case Ql.AVATAR:r.avatar=n[o].value;break;case Ql.MESSAGESETTINGS:r.messageSettings=n[o].value;break;case Ql.ADMINFORBIDTYPE:r.adminForbidType=n[o].value;break;case Ql.LEVEL:r.level=n[o].value;break;case Ql.ROLE:r.role=n[o].value;break;default:Bs.debug("snsProfileItem unkown tag->",n[o].tag)}this.profile=new py(r)},vy=function(){function e(t){Tn(this,e),this.userController=t,this.TAG="friend",this.Actions={G:"get",D:"delete"},this.friends=new Map,this.pointer=new dy}return Dn(e,[{key:"isMyFriend",value:function(e){var t=this.friends.has(e);return t||Bs.debug("FriendHandler.isMyFriend "+e+" is not my friend"),t}},{key:"_transformFriendList",value:function(e){if(!Cu(e)&&!Cu(e.infoItem)){Bs.info("FriendHandler._transformFriendList friendNum="+e.friendNum);for(var t,n,r=e.infoItem,o=0,i=r.length;o<i;o++)n=r[o].infoAccount,t=new gy(n,r[o].snsProfileItem),this.friends.set(n,t)}}},{key:"_friends2map",value:function(e){var t=new Map;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.set(n,e[n]);return t}},{key:"getFriendList",value:function(){var e=this,t={};t.fromAccount=this.userController.getMyAccount(),Bs.info("FriendHandler.getFriendList myAccount="+t.fromAccount);var n=this.userController.generateConfig(this.TAG,this.Actions.G,t);return this.userController.request(n).then((function(t){Bs.info("FriendHandler.getFriendList ok"),e._transformFriendList(t.data);var n=Bn(e.friends.values());return rg(n)})).catch((function(e){return Bs.error("FriendHandler.getFriendList error:",JSON.stringify(e)),og(e)}))}},{key:"deleteFriend",value:function(e){if(!Array.isArray(e.toAccount))return Bs.error("FriendHandler.deleteFriend options.toAccount 必需是数组"),og({code:sp,message:mh});e.toAccount.length>1e3&&(Bs.warn("FriendHandler.deleteFriend 删除好友人数不能超过1000人"),e.toAccount.length=1e3);var t=this.userController.generateConfig(this.TAG,this.Actions.D,e);return this.userController.request(t).then((function(e){return Bs.info("FriendHandler.deleteFriend ok"),rg()})).catch((function(e){return Bs.error("FriendHandler.deleteFriend error:",e),og(e)}))}}]),e}(),my=function e(t){Tn(this,e),Cu||(this.userID=t.userID||"",this.timeStamp=t.timeStamp||0)},yy=function(){function e(t){Tn(this,e),this.userController=t,this.TAG="blacklist",this.Actions={G:"get",C:"create",D:"delete"},this.blacklistMap=new Map,this.startIndex=0,this.maxLimited=100,this.curruentSequence=0}return Dn(e,[{key:"getBlacklist",value:function(){var e=this,t={};t.fromAccount=this.userController.getMyAccount(),t.maxLimited=this.maxLimited,t.startIndex=0,t.lastSequence=this.curruentSequence;var n=new hg;n.setMethod(Kg).setStart();var r=this.userController.generateConfig(this.TAG,this.Actions.G,t);return this.userController.request(r).then((function(t){var r=Cu(t.data.blackListItem)?0:t.data.blackListItem.length;return n.setCode(0).setNetworkType(e.userController.getNetworkType()).setText(r).setEnd(),Bs.info("BlacklistHandler.getBlacklist ok"),e.curruentSequence=t.data.curruentSequence,e._handleResponse(t.data.blackListItem,!0),e._onBlacklistUpdated()})).catch((function(t){return e.userController.probeNetwork().then((function(e){var r=$n(e,2),o=r[0],i=r[1];n.setError(t,o,i).setEnd()})),Bs.error("BlacklistHandler.getBlacklist error:",t),og(t)}))}},{key:"addBlacklist",value:function(e){var t=this;if(!Ws(e.userIDList))return Bs.error("BlacklistHandler.addBlacklist options.userIDList 必需是数组"),og({code:lp,message:bh});var n=this.userController.tim.loginInfo.identifier;if(1===e.userIDList.length&&e.userIDList[0]===n)return Bs.error("BlacklistHandler.addBlacklist 不能把自己拉黑"),og({code:pp,message:Sh});e.userIDList.includes(n)&&(e.userIDList=e.userIDList.filter((function(e){return e!==n})),Bs.warn("BlacklistHandler.addBlacklist 不能把自己拉黑，已过滤")),e.fromAccount=this.userController.getMyAccount(),e.toAccount=e.userIDList;var r=this.userController.generateConfig(this.TAG,this.Actions.C,e);return this.userController.request(r).then((function(e){return Bs.info("BlacklistHandler.addBlacklist ok"),t._handleResponse(e.data.resultItem,!0),t._onBlacklistUpdated()})).catch((function(e){return Bs.error("BlacklistHandler.addBlacklist error:",e),og(e)}))}},{key:"_handleResponse",value:function(e,t){if(!Cu(e))for(var n,r,o,i=0,a=e.length;i<a;i++)r=e[i].to,o=e[i].resultCode,(Xs(o)||0===o)&&(t?((n=this.blacklistMap.has(r)?this.blacklistMap.get(r):new my).userID=r,!Cu(e[i].addBlackTimeStamp)&&(n.timeStamp=e[i].addBlackTimeStamp),this.blacklistMap.set(r,n)):this.blacklistMap.has(r)&&(n=this.blacklistMap.get(r),this.blacklistMap.delete(r)));Bs.log("BlacklistHandler._handleResponse total="+this.blacklistMap.size+" bAdd="+t)}},{key:"deleteBlacklist",value:function(e){var t=this;if(!Ws(e.userIDList))return Bs.error("BlacklistHandler.deleteBlacklist options.userIDList 必需是数组"),og({code:fp,message:Ch});e.fromAccount=this.userController.getMyAccount(),e.toAccount=e.userIDList;var n=this.userController.generateConfig(this.TAG,this.Actions.D,e);return this.userController.request(n).then((function(e){return Bs.info("BlacklistHandler.deleteBlacklist ok"),t._handleResponse(e.data.resultItem,!1),t._onBlacklistUpdated()})).catch((function(e){return Bs.error("BlacklistHandler.deleteBlacklist error:",e),og(e)}))}},{key:"_onBlacklistUpdated",value:function(){var e=Bn(this.blacklistMap.keys());return this.userController.emitOuterEvent(fn.BLACKLIST_UPDATED,e),rg(e)}},{key:"handleBlackListDelAccount",value:function(e){for(var t,n=[],r=0,o=e.length;r<o;r++)t=e[r],this.blacklistMap.has(t)&&(this.blacklistMap.delete(t),n.push(t));n.length>0&&(Bs.log("BlacklistHandler.handleBlackListDelAccount delCount="+n.length+" : "+n.join(",")),this.userController.emitOuterEvent(fn.BLACKLIST_UPDATED,Bn(this.blacklistMap.keys())))}},{key:"handleBlackListAddAccount",value:function(e){for(var t,n=[],r=0,o=e.length;r<o;r++)t=e[r],this.blacklistMap.has(t)||(this.blacklistMap.set(t,new my({userID:t})),n.push(t));n.length>0&&(Bs.log("BlacklistHandler.handleBlackListAddAccount addCount="+n.length+" : "+n.join(",")),this.userController.emitOuterEvent(fn.BLACKLIST_UPDATED,Bn(this.blacklistMap.keys())))}},{key:"reset",value:function(){this.blacklistMap.clear(),this.startIndex=0,this.maxLimited=100,this.curruentSequence=0}}]),e}(),_y=function(){function e(t){Tn(this,e),this.userController=t,this.TAG="applyC2C",this.Actions={C:"create",G:"get",D:"delete",U:"update"}}return Dn(e,[{key:"applyAddFriend",value:function(e){var t=this,n=this.userController.generateConfig(this.TAG,this.Actions.C,e),r=this.userController.request(n);return r.then((function(e){t.userController.isActionSuccessful("applyAddFriend",t.Actions.C,e)})).catch((function(e){})),r}},{key:"getPendency",value:function(e){var t=this,n=this.userController.generateConfig(this.TAG,this.Actions.G,e),r=this.userController.request(n);return r.then((function(e){t.userController.isActionSuccessful("getPendency",t.Actions.G,e)})).catch((function(e){})),r}},{key:"deletePendency",value:function(e){var t=this,n=this.userController.generateConfig(this.TAG,this.Actions.D,e),r=this.userController.request(n);return r.then((function(e){t.userController.isActionSuccessful("deletePendency",t.Actions.D,e)})).catch((function(e){})),r}},{key:"replyPendency",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.userController.generateConfig(this.TAG,this.Actions.U,t),r=this.userController.request(n);return r.then((function(t){e.userController.isActionSuccessful("replyPendency",e.Actions.U,t)})).catch((function(e){})),r}}]),e}(),by=function(e){function t(e){var n;return Tn(this,t),(n=Fn(this,Nn(t).call(this,e))).profileHandler=new hy(jn(n)),n.friendHandler=new vy(jn(n)),n.blacklistHandler=new yy(jn(n)),n.applyC2CHandler=new _y(jn(n)),n._initializeListener(),n}return Ln(t,e),Dn(t,[{key:"_initializeListener",value:function(e){var t=this.tim.innerEmitter;t.on(Jh,this.onContextUpdated,this),t.on(bd,this.onProfileModified,this),t.on(_d,this.onNewFriendMessages,this),t.on(xd,this.onConversationsProfileUpdated,this)}},{key:"onContextUpdated",value:function(e){var t=this.tim.context;0!=!!t.a2Key&&0!=!!t.tinyID&&(this.profileHandler.getMyProfile(),this.friendHandler.getFriendList(),this.blacklistHandler.getBlacklist())}},{key:"onGotMyProfile",value:function(){this.triggerReady()}},{key:"onProfileModified",value:function(e){this.profileHandler.onProfileModified(e)}},{key:"onNewFriendMessages",value:function(e){Bs.debug("onNewFriendMessages",JSON.stringify(e.data)),Cu(e.data.blackListDelAccount)||this.blacklistHandler.handleBlackListDelAccount(e.data.blackListDelAccount),Cu(e.data.blackListAddAccount)||this.blacklistHandler.handleBlackListAddAccount(e.data.blackListAddAccount)}},{key:"onConversationsProfileUpdated",value:function(e){this.profileHandler.onConversationsProfileUpdated(e.data)}},{key:"getMyAccount",value:function(){return this.tim.context.identifier}},{key:"isMyFriend",value:function(e){return this.friendHandler.isMyFriend(e)}},{key:"generateConfig",value:function(e,t,n){return{name:e,action:t,param:n}}},{key:"getMyProfile",value:function(){return this.profileHandler.getMyProfile()}},{key:"getUserProfile",value:function(e){return this.profileHandler.getUserProfile(e)}},{key:"updateMyProfile",value:function(e){return this.profileHandler.updateMyProfile(e)}},{key:"getFriendList",value:function(){return this.friendHandler.getFriendList()}},{key:"deleteFriend",value:function(e){return this.friendHandler.deleteFriend(e)}},{key:"getBlacklist",value:function(){return this.blacklistHandler.getBlacklist()}},{key:"addBlacklist",value:function(e){return this.blacklistHandler.addBlacklist(e)}},{key:"deleteBlacklist",value:function(e){return this.blacklistHandler.deleteBlacklist(e)}},{key:"applyAddFriend",value:function(e){return this.applyC2CHandler.applyAddFriend(e)}},{key:"getPendency",value:function(e){return this.applyC2CHandler.getPendency(e)}},{key:"deletePendency",value:function(e){return this.applyC2CHandler.deletePendency(e)}},{key:"replyPendency",value:function(e){return this.applyC2CHandler.replyPendency(e)}},{key:"reset",value:function(){Bs.info("UserController.reset"),this.resetReady(),this.profileHandler.reset(),this.blacklistHandler.reset(),this.checkTimes=0}}]),t}(Jd),Cy=[],Sy=Cy.sort,Iy=i((function(){Cy.sort(void 0)})),wy=i((function(){Cy.sort(null)})),My=ze("sort");De({target:"Array",proto:!0,forced:Iy||!wy||!My},{sort:function(e){return void 0===e?Sy.call(xe(this)):Sy.call(xe(this),Ae(e))}});var Ey=["groupID","name","avatar","type","introduction","notification","ownerID","selfInfo","createTime","infoSequence","lastInfoTime","lastMessage","nextMessageSeq","memberNum","maxMemberNum","memberList","joinOption","groupCustomField"],ky=function(){function e(t){Tn(this,e),this.groupID="",this.name="",this.avatar="",this.type="",this.introduction="",this.notification="",this.ownerID="",this.createTime="",this.infoSequence="",this.lastInfoTime="",this.selfInfo={messageRemindType:"",joinTime:"",nameCard:"",role:""},this.lastMessage={lastTime:"",lastSequence:"",fromAccount:"",messageForShow:""},this.nextMessageSeq="",this.memberNum="",this.maxMemberNum="",this.joinOption="",this.groupCustomField=[],this._initGroup(t)}return Dn(e,[{key:"_initGroup",value:function(e){for(var t in e)Ey.indexOf(t)<0||("selfInfo"!==t?this[t]=e[t]:this.updateSelfInfo(e[t]))}},{key:"updateGroup",value:function(e){e.lastMsgTime&&(this.lastMessage.lastTime=e.lastMsgTime),e.groupCustomField&&gu(this.groupCustomField,e.groupCustomField),ou(this,e,["members","errorCode","lastMsgTime","groupCustomField"])}},{key:"updateSelfInfo",value:function(e){var t=e.nameCard,n=e.joinTime,r=e.role,o=e.messageRemindType;ou(this.selfInfo,{nameCard:t,joinTime:n,role:r,messageRemindType:o},[],["",null,void 0,0,NaN])}},{key:"setSelfNameCard",value:function(e){this.selfInfo.nameCard=e}}]),e}(),Ty=function(e,t){if(Xs(t))return"";switch(e){case pn.MSG_TEXT:return t.text;case pn.MSG_IMAGE:return"[图片]";case pn.MSG_GEO:return"[位置]";case pn.MSG_AUDIO:return"[语音]";case pn.MSG_VIDEO:return"[视频]";case pn.MSG_FILE:return"[文件]";case pn.MSG_CUSTOM:return"[自定义消息]";case pn.MSG_GRP_TIP:return"[群提示消息]";case pn.MSG_GRP_SYS_NOTICE:return"[群系统通知]";case pn.MSG_FACE:return"[动画表情]";default:return""}},Oy=function(){function e(t){var n;Tn(this,e),this.conversationID=t.conversationID||"",this.unreadCount=t.unreadCount||0,this.type=t.type||"",this.lastMessage=(n=t.lastMessage,Xs(n)?{lastTime:0,lastSequence:0,fromAccount:0,messageForShow:"",payload:null,type:"",isRevoked:!1}:n instanceof qh?{lastTime:n.time||0,lastSequence:n.sequence||0,fromAccount:n.from||"",messageForShow:Ty(n.type,n.payload),payload:n.payload||null,type:n.type||null,isRevoked:!1}:xn({},n,{isRevoked:!1,messageForShow:Ty(n.type,n.payload)})),this._isInfoCompleted=!1,this._initProfile(t)}return Dn(e,[{key:"_initProfile",value:function(e){var t=this;Object.keys(e).forEach((function(n){switch(n){case"userProfile":t.userProfile=e.userProfile;break;case"groupProfile":t.groupProfile=e.groupProfile}})),Xs(this.userProfile)&&this.type===pn.CONV_C2C?this.userProfile=new py({userID:e.conversationID.replace("C2C","")}):Xs(this.groupProfile)&&this.type===pn.CONV_GROUP&&(this.groupProfile=new ky({groupID:e.conversationID.replace("GROUP","")}))}},{key:"updateUnreadCount",value:function(e,t){Xs(e)||(this.subType===pn.GRP_CHATROOM||mu(this.subType)?this.unreadCount=0:t&&this.type===pn.CONV_GROUP?this.unreadCount=e:this.unreadCount=this.unreadCount+e)}},{key:"reduceUnreadCount",value:function(){this.unreadCount>=1&&(this.unreadCount-=1)}},{key:"isLastMessageRevoked",value:function(e){var t=e.sequence,n=e.time;return this.type===pn.CONV_C2C&&t===this.lastMessage.lastSequence&&n===this.lastMessage.lastTime||this.type===pn.CONV_GROUP&&t===this.lastMessage.lastSequence}},{key:"setLastMessageRevoked",value:function(e){this.lastMessage.isRevoked=e}},{key:"toAccount",get:function(){return this.conversationID.replace("C2C","").replace("GROUP","")}},{key:"subType",get:function(){return this.groupProfile?this.groupProfile.type:""}}]),e}(),Dy=function(e){function t(e){var n;return Tn(this,t),(n=Fn(this,Nn(t).call(this,e))).pagingStatus=Au.NOT_START,n.pagingTimeStamp=0,n.conversationMap=new Map,n.tempGroupList=[],n._initListeners(),n}return Ln(t,e),Dn(t,[{key:"hasLocalConversationMap",value:function(){return this.conversationMap.size>0}},{key:"createLocalConversation",value:function(e){return this.conversationMap.has(e)?this.conversationMap.get(e):new Oy({conversationID:e,type:e.slice(0,3)===pn.CONV_C2C?pn.CONV_C2C:pn.CONV_GROUP})}},{key:"hasLocalConversation",value:function(e){return this.conversationMap.has(e)}},{key:"getConversationList",value:function(){var e=this;Bs.log("ConversationController.getConversationList."),this.pagingStatus===Au.REJECTED&&(Bs.log("ConversationController.getConversationList. continue to sync conversationList"),this._syncConversationList());var t=new hg;return t.setMethod(Mg).setStart(),this.request({name:"conversation",action:"query"}).then((function(n){var r=n.data.conversations,o=void 0===r?[]:r,i=e._getConversationOptions(o);return e._updateLocalConversationList(i,!0),e._setStorageConversationList(),t.setCode(0).setText(o.length).setEnd(),Bs.log("ConversationController.getConversationList ok."),rg({conversationList:e.getLocalConversationList()})})).catch((function(n){return e.probeNetwork().then((function(e){var r=$n(e,2),o=r[0],i=r[1];t.setError(n,o,i).setEnd()})),Bs.error("ConversationController.getConversationList error:",n),og(n)}))}},{key:"_syncConversationList",value:function(){var e=this,t=new hg;return t.setMethod(kg).setStart(),this.pagingStatus===Au.NOT_START&&this.conversationMap.clear(),this._autoPagingSyncConversationList().then((function(n){return e.pagingStatus=Au.RESOLVED,e._setStorageConversationList(),t.setCode(0).setText("".concat(e.conversationMap.size)).setEnd(),n})).catch((function(n){return e.pagingStatus=Au.REJECTED,t.setText(e.pagingTimeStamp),e.probeNetwork().then((function(e){var r=$n(e,2),o=r[0],i=r[1];t.setError(n,o,i).setEnd()})),og(n)}))}},{key:"_autoPagingSyncConversationList",value:function(){var e=this;return this.pagingStatus=Au.PENDING,this.request({name:"conversation",action:"pagingQuery",param:{fromAccount:this.tim.context.identifier,timeStamp:this.pagingTimeStamp,orderType:1}}).then((function(t){var n=t.data,r=n.completeFlag,o=n.conversations,i=void 0===o?[]:o,a=n.timeStamp;if(Bs.log("ConversationController._autoPagingSyncConversationList completeFlag=".concat(r," nums=").concat(i.length)),i.length>0){var s=e._getConversationOptions(i);e._updateLocalConversationList(s,!0)}return e._isReady?e._emitConversationUpdate():e.triggerReady(),e.pagingTimeStamp=a,1!==r?e._autoPagingSyncConversationList():rg()}))}},{key:"getConversationProfile",value:function(e){var t=this.conversationMap.has(e)?this.conversationMap.get(e):this.createLocalConversation(e);return t._isInfoCompleted||t.type===pn.CONV_SYSTEM?rg({conversation:t}):(Bs.log("ConversationController.getConversationProfile. conversationID:",e),this._updateUserOrGroupProfileCompletely(t).then((function(t){return Bs.log("ConversationController.getConversationProfile ok. conversationID:",e),t})).catch((function(e){return Bs.error("ConversationController.getConversationProfile error:",e),og(e)})))}},{key:"deleteConversation",value:function(e){var t=this,n={};if(!this.conversationMap.has(e)){var r=new mf({code:Hf,message:eh});return og(r)}switch(this.conversationMap.get(e).type){case pn.CONV_C2C:n.type=1,n.toAccount=e.slice(3);break;case pn.CONV_GROUP:n.type=2,n.toGroupID=e.slice(5);break;case pn.CONV_SYSTEM:return this.tim.groupController.deleteGroupSystemNotice({messageList:this.tim.messageController.getLocalMessageList(e)}),this.deleteLocalConversation(e),rg({conversationID:e});default:var o=new mf({code:zf,message:nh});return og(o)}return Bs.log("ConversationController.deleteConversation. conversationID:",e),this.tim.setMessageRead({conversationID:e}).then((function(){return t.request({name:"conversation",action:"delete",param:n})})).then((function(){return Bs.log("ConversationController.deleteConversation ok. conversationID:",e),t.deleteLocalConversation(e),rg({conversationID:e})})).catch((function(e){return Bs.error("ConversationController.deleteConversation error:",e),og(e)}))}},{key:"getLocalConversationList",value:function(){return Bn(this.conversationMap.values())}},{key:"getLocalConversation",value:function(e){return this.conversationMap.get(e)}},{key:"_initLocalConversationList",value:function(){var e=new hg;e.setMethod(Eg).setStart(),Bs.time(lg),Bs.log("ConversationController._initLocalConversationList init");var t=this._getStorageConversationList();if(t){for(var n=t.length,r=0;r<n;r++)this.conversationMap.set(t[r].conversationID,new Oy(t[r]));this._emitConversationUpdate(!0,!1),e.setCode(0).setNetworkType(this.getNetworkType()).setText(n).setEnd()}else e.setCode(0).setNetworkType(this.getNetworkType()).setText(0).setEnd();this._syncConversationList()}},{key:"_getStorageConversationList",value:function(){return this.tim.storage.getItem("conversationMap")}},{key:"_setStorageConversationList",value:function(){var e=this.getLocalConversationList().slice(0,20).map((function(e){return{conversationID:e.conversationID,type:e.type,subType:e.subType,lastMessage:e.lastMessage,groupProfile:e.groupProfile,userProfile:e.userProfile}}));this.tim.storage.setItem("conversationMap",e)}},{key:"_initListeners",value:function(){var e=this;this.tim.innerEmitter.once(Jh,this._initLocalConversationList,this),this.tim.innerEmitter.on(td,this._onSendOrReceiveMessage,this),this.tim.innerEmitter.on(nd,this._handleSyncMessages,this),this.tim.innerEmitter.on(rd,this._handleSyncMessages,this),this.tim.innerEmitter.on(od,this._onSendOrReceiveMessage,this),this.tim.innerEmitter.on(id,this._onSendOrReceiveMessage,this),this.tim.innerEmitter.on(ad,this._onSendOrReceiveMessage,this),this.tim.innerEmitter.on(Ed,this._onGroupListUpdated,this),this.tim.innerEmitter.on(Nd,this._updateConversationUserProfile,this),this.tim.innerEmitter.on(sd,this._onMessageRevoked,this),this.ready((function(){e.tempGroupList.length>0&&(e._updateConversationGroupProfile(e.tempGroupList),e.tempGroupList.length=0)}))}},{key:"_onGroupListUpdated",value:function(e){this._updateConversationGroupProfile(e.data)}},{key:"_updateConversationGroupProfile",value:function(e){var t=this;Ws(e)&&0===e.length||(this.hasLocalConversationMap()?(e.forEach((function(e){var n="GROUP".concat(e.groupID);if(t.conversationMap.has(n)){var r=t.conversationMap.get(n);r.groupProfile=e,r.lastMessage.lastSequence=e.nextMessageSeq-1,r.subType||(r.subType=e.type)}})),this._emitConversationUpdate(!0,!1)):this.tempGroupList=e)}},{key:"_updateConversationUserProfile",value:function(e){var t=this;e.data.forEach((function(e){var n="C2C".concat(e.userID);t.conversationMap.has(n)&&(t.conversationMap.get(n).userProfile=e)})),this._emitConversationUpdate(!0,!1)}},{key:"_onMessageRevoked",value:function(e){var t=this,n=e.data;if(0!==n.length){var r=null,o=!1;n.forEach((function(e){(r=t.conversationMap.get(e.conversationID))&&r.isLastMessageRevoked(e)&&(o=!0,r.setLastMessageRevoked(!0))})),o&&this._emitConversationUpdate(!0,!1)}}},{key:"_handleSyncMessages",value:function(e){this._onSendOrReceiveMessage(e,!0)}},{key:"_onSendOrReceiveMessage",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.data.eventDataList;this._isReady?0!==r.length&&(this._updateLocalConversationList(r,!1,n),this._setStorageConversationList(),this._emitConversationUpdate()):this.ready((function(){t._onSendOrReceiveMessage(e,n)}))}},{key:"_updateLocalConversationList",value:function(e,t,n){var r;r=this._updateTempConversations(e,t,n),this.conversationMap=new Map(this._sortConversations([].concat(Bn(r.conversations),Bn(this.conversationMap)))),t||this._updateUserOrGroupProfile(r.newerConversations)}},{key:"_updateTempConversations",value:function(e,t,n){for(var r=[],o=[],i=0,a=e.length;i<a;i++){var s=new Oy(e[i]),u=this.conversationMap.get(s.conversationID);if(this.conversationMap.has(s.conversationID)){var c=["unreadCount","allowType","adminForbidType","payload"];n&&c.push("lastMessage"),ou(u,s,c,[null,void 0,"",0,NaN]),u.updateUnreadCount(s.unreadCount,t),n||(u.lastMessage.payload=e[i].lastMessage.payload),this.conversationMap.delete(u.conversationID),r.push([u.conversationID,u])}else{if(s.type===pn.CONV_GROUP){var l=s.groupProfile.groupID,f=this.tim.groupController.getLocalGroupProfile(l);f&&(s.groupProfile=f,s.updateUnreadCount(0))}o.push(s),r.push([s.conversationID,s])}}return{conversations:r,newerConversations:o}}},{key:"_sortConversations",value:function(e){return e.sort((function(e,t){return t[1].lastMessage.lastTime-e[1].lastMessage.lastTime}))}},{key:"_updateUserOrGroupProfile",value:function(e){var t=this;if(0!==e.length){var n=[],r=[];e.forEach((function(e){if(e.type===pn.CONV_C2C)n.push(e.toAccount);else if(e.type===pn.CONV_GROUP){var o=e.toAccount;t.tim.groupController.hasLocalGroup(o)?e.groupProfile=t.tim.groupController.getLocalGroupProfile(o):r.push(o)}})),n.length>0&&this.tim.getUserProfile({userIDList:n}).then((function(e){var n=e.data;Ws(n)?n.forEach((function(e){t.conversationMap.get("C2C".concat(e.userID)).userProfile=e})):t.conversationMap.get("C2C".concat(n.userID)).userProfile=n})),r.length>0&&this.tim.groupController.getGroupProfileAdvance({groupIDList:r,responseFilter:{groupBaseInfoFilter:["Type","Name","FaceUrl"]}}).then((function(e){e.data.successGroupList.forEach((function(e){var n="GROUP".concat(e.groupID);if(t.conversationMap.has(n)){var r=t.conversationMap.get(n);ou(r.groupProfile,e,[],[null,void 0,"",0,NaN]),!r.subType&&e.type&&(r.subType=e.type)}}))}))}}},{key:"_updateUserOrGroupProfileCompletely",value:function(e){var t=this;return e.type===pn.CONV_C2C?this.tim.getUserProfile({userIDList:[e.toAccount]}).then((function(n){var r=n.data;return 0===r.length?og(new mf({code:Vf,message:th})):(e.userProfile=r[0],e._isInfoCompleted=!0,t._unshiftConversation(e),rg({conversation:e}))})):this.tim.getGroupProfile({groupID:e.toAccount}).then((function(n){return e.groupProfile=n.data.group,e._isInfoCompleted=!0,t._unshiftConversation(e),rg({conversation:e})}))}},{key:"_unshiftConversation",value:function(e){e instanceof Oy&&!this.conversationMap.has(e.conversationID)&&(this.conversationMap=new Map([[e.conversationID,e]].concat(Bn(this.conversationMap))),this._setStorageConversationList(),this._emitConversationUpdate(!0,!1))}},{key:"deleteLocalConversation",value:function(e){return this.conversationMap.delete(e),this._setStorageConversationList(),this.emitInnerEvent(Ld,e),this._emitConversationUpdate(!0,!1),this.conversationMap.has(e)}},{key:"_getConversationOptions",value:function(e){var t=[],n=e.filter((function(e){var t=e.lastMsg;return Ys(t)})).map((function(e){if(1===e.type){var n={userID:e.userID,nick:e.c2CNick,avatar:e.c2CImage};return t.push(n),{conversationID:"C2C".concat(e.userID),type:"C2C",lastMessage:{lastTime:e.time,lastSequence:e.sequence,fromAccount:e.lastC2CMsgFromAccount,messageForShow:e.messageShow,type:e.lastMsg.elements[0]?e.lastMsg.elements[0].type:null,payload:e.lastMsg.elements[0]?e.lastMsg.elements[0].content:null},userProfile:new py(n)}}return{conversationID:"GROUP".concat(e.groupID),type:"GROUP",lastMessage:{lastTime:e.time,lastSequence:e.messageReadSeq+e.unreadCount,fromAccount:e.msgGroupFromAccount,messageForShow:e.messageShow,type:e.lastMsg.elements[0]?e.lastMsg.elements[0].type:null,payload:e.lastMsg.elements[0]?e.lastMsg.elements[0].content:null},groupProfile:new ky({groupID:e.groupID,name:e.groupNick,avatar:e.groupImage}),unreadCount:e.unreadCount}}));return t.length>0&&this.emitInnerEvent(xd,t),n}},{key:"_emitConversationUpdate",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=Bn(this.conversationMap.values());t&&this.emitInnerEvent(Rd,n),e&&this.emitOuterEvent(fn.CONVERSATION_LIST_UPDATED,n)}},{key:"_conversationMapTreeShaking",value:function(e){var t=this,n=new Map(Bn(this.conversationMap));e.forEach((function(e){return n.delete(e.conversationID)})),n.has(pn.CONV_SYSTEM)&&n.delete(pn.CONV_SYSTEM);var r=this.tim.groupController.getJoinedAVChatRoom();r&&n.delete("".concat(pn.CONV_GROUP).concat(r.groupID)),Bn(n.keys()).forEach((function(e){return t.conversationMap.delete(e)}))}},{key:"reset",value:function(){this.pagingStatus=Au.NOT_START,this.pagingTimeStamp=0,this.conversationMap.clear(),this.resetReady(),this.tim.innerEmitter.once(Jh,this._initLocalConversationList,this)}}]),t}(Jd),Ay=1..toFixed,Ry=Math.floor,xy=function(e,t,n){return 0===t?n:t%2==1?xy(e,t-1,n*e):xy(e*e,t/2,n)},Ly=Ay&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!i((function(){Ay.call({})}));De({target:"Number",proto:!0,forced:Ly},{toFixed:function(e){var t,n,r,o,i=function(e){if("number"!=typeof e&&"Number"!=p(e))throw TypeError("Incorrect invocation");return+e}(this),a=ae(e),s=[0,0,0,0,0,0],u="",c="0",l=function(e,t){for(var n=-1,r=t;++n<6;)r+=e*s[n],s[n]=r%1e7,r=Ry(r/1e7)},f=function(e){for(var t=6,n=0;--t>=0;)n+=s[t],s[t]=Ry(n/e),n=n%e*1e7},h=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==s[e]){var n=String(s[e]);t=""===t?n:t+go.call("0",7-n.length)+n}return t};if(a<0||a>20)throw RangeError("Incorrect fraction digits");if(i!=i)return"NaN";if(i<=-1e21||i>=1e21)return String(i);if(i<0&&(u="-",i=-i),i>1e-21)if(n=(t=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t}(i*xy(2,69,1))-69)<0?i*xy(2,-t,1):i/xy(2,t,1),n*=4503599627370496,(t=52-t)>0){for(l(0,n),r=a;r>=7;)l(1e7,0),r-=7;for(l(xy(10,r,1),0),r=t-1;r>=23;)f(1<<23),r-=23;f(1<<r),l(1,1),f(2),c=h()}else l(0,n),l(1<<-t,0),c=h()+go.call("0",a);return a>0?u+((o=c.length)<=a?"0."+go.call("0",a-o)+c:c.slice(0,o-a)+"."+c.slice(o-a)):u+c}});var Ny=function(){function e(t){if(Tn(this,e),void 0===t)throw new mf({code:Ef,message:Pp});if(void 0===t.tim)throw new mf({code:Ef,message:"".concat(Pp,".tim")});this.list=new Map,this.tim=t.tim,this._initializeOptions(t)}return Dn(e,[{key:"getLocalOldestMessageByConversationID",value:function(e){if(!e)return null;if(!this.list.has(e))return null;var t=this.list.get(e).values();return t?t.next().value:null}},{key:"_initializeOptions",value:function(e){this.options={};var t={memory:{maxDatasPerKey:100,maxBytesPerData:256,maxKeys:0},cache:{maxDatasPerKey:10,maxBytesPerData:256,maxKeys:0}};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(void 0===e[n]){this.options[n]=t[n];continue}var r=t[n];for(var o in r)if(Object.prototype.hasOwnProperty.call(r,o)){if(void 0===e[n][o]){this.options[n][o]=r[o];continue}this.options[n][o]=e[n][o]}}}},{key:"pushIn",value:function(e){var t=e.conversationID,n=e.ID,r=!0;return this.list.has(t)||this.list.set(t,new Map),this.list.has(t)&&this.list.get(t).has(n)?r=!1:this.list.get(t).set(n,e),r}},{key:"unshift",value:function(e){Ws(e)?e.length>0&&this._unshiftMultipleMessages(e):this._unshiftSingleMessage(e)}},{key:"_unshiftSingleMessage",value:function(e){var t=e.conversationID,n=e.ID;if(!this.list.has(t))return this.list.set(t,new Map),void this.list.get(t).set(n,e);var r=Array.from(this.list.get(t));r.unshift([n,e]),this.list.set(t,new Map(r))}},{key:"_unshiftMultipleMessages",value:function(e){for(var t=e.length,n=[],r=e[0].conversationID,o=this.list.has(r)?Array.from(this.list.get(r)):[],i=0;i<t;i++)n.push([e[i].ID,e[i]]);this.list.set(r,new Map(n.concat(o)))}},{key:"remove",value:function(e){var t=e.conversationID,n=e.ID;this.list.has(t)&&this.list.get(t).delete(n)}},{key:"revoke",value:function(e,t,n){if(Bs.debug("revoke message",e,t,n),this.list.has(e)){var r=this.list.get(e),o=!0,i=!1,a=void 0;try{for(var s,u=r[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var c=$n(s.value,2)[1];if(c.sequence===t&&!c.isRevoked&&(Xs(n)||c.random===n))return c.isRevoked=!0,c}}catch(f){i=!0,a=f}finally{try{o||null==u.return||u.return()}finally{if(i)throw a}}}return null}},{key:"removeByConversationID",value:function(e){this.list.has(e)&&this.list.delete(e)}},{key:"hasLocalMessageList",value:function(e){return this.list.has(e)}},{key:"getLocalMessageList",value:function(e){return this.hasLocalMessageList(e)?Bn(this.list.get(e).values()):[]}},{key:"hasLocalMessage",value:function(e,t){return!!this.hasLocalMessageList(e)&&this.list.get(e).has(t)}},{key:"getLocalMessage",value:function(e,t){return this.hasLocalMessage(e,t)?this.list.get(e).get(t):null}},{key:"reset",value:function(){this.list.clear()}}]),e}(),Py=function(){function e(t,n){Tn(this,e),this.tim=t,this.messageController=n}return Dn(e,[{key:"setMessageRead",value:function(e){var t=e.conversationID,n=e.messageID,r=this.tim.conversationController.getLocalConversation(t);if(Bs.log("ReadReportHandler.setMessageRead conversationID=".concat(t," unreadCount=").concat(r?r.unreadCount:0)),!r||0===r.unreadCount)return rg();var o=n?this.tim.messageController.getLocalMessage(t,n):null;switch(r.type){case pn.CONV_C2C:return this._setC2CMessageRead({conversationID:t,lastMessageTime:o?o.time:r.lastMessage.lastTime});case pn.CONV_GROUP:return this._setGroupMessageRead({conversationID:t,lastMessageSeq:o?o.sequence:r.lastMessage.lastSequence});case pn.CONV_SYSTEM:return r.unreadCount=0,rg();default:return rg()}}},{key:"_setC2CMessageRead",value:function(e){var t=this,n=e.conversationID,r=e.lastMessageTime;Bs.log("ReadReportHandler._setC2CMessageRead conversationID=".concat(n," lastMessageTime=").concat(r)),this._updateIsReadAfterReadReport({conversationID:n,lastMessageTime:r}),this._updateUnreadCount(n);var o=new hg;return o.setMethod(Ig).setText("".concat(n,"-").concat(r)).setStart(),this.messageController.request({name:"conversation",action:"setC2CMessageRead",param:{C2CMsgReaded:{cookie:"",C2CMsgReadedItem:[{toAccount:n.replace("C2C",""),lastMessageTime:r}]}}}).then((function(){return o.setCode(0).setNetworkType(t.tim.netMonitor.getNetworkType()).setEnd(),Bs.log("ReadReportHandler._setC2CMessageRead ok."),new eg})).catch((function(e){return t.tim.netMonitor.probe().then((function(t){var n=$n(t,2),r=n[0],i=n[1];o.setError(e,r,i).setEnd()})),Bs.log("ReadReportHandler._setC2CMessageRead failed. ".concat(e)),og(e)}))}},{key:"_setGroupMessageRead",value:function(e){var t=this,n=e.conversationID,r=e.lastMessageSeq;Bs.log("ReadReportHandler._setGroupMessageRead conversationID=".concat(n," lastMessageSeq=").concat(r)),this._updateIsReadAfterReadReport({conversationID:n,lastMessageSeq:r}),this._updateUnreadCount(n);var o=new hg;return o.setMethod(wg).setText("".concat(n,"-").concat(r)).setStart(),this.messageController.request({name:"conversation",action:"setGroupMessageRead",param:{groupID:n.replace("GROUP",""),messageReadSeq:r}}).then((function(){return o.setCode(0).setNetworkType(t.tim.netMonitor.getNetworkType()).setEnd(),Bs.log("ReadReportHandler._setGroupMessageRead ok."),new eg})).catch((function(e){return t.tim.netMonitor.probe().then((function(t){var n=$n(t,2),r=n[0],i=n[1];o.setError(e,r,i).setEnd()})),Bs.log("ReadReportHandler._setGroupMessageRead failed. ".concat(e)),og(e)}))}},{key:"_updateUnreadCount",value:function(e){var t=this.tim,n=t.conversationController,r=t.messageController,o=n.getLocalConversation(e),i=r.getLocalMessageList(e);o&&(o.unreadCount=i.filter((function(e){return!e.isRead})).length)}},{key:"_updateIsReadAfterReadReport",value:function(e){var t=e.conversationID,n=e.lastMessageSeq,r=e.lastMessageTime,o=this.tim.messageController.getLocalMessageList(t);if(0!==o.length)for(var i=o.length-1;i>=0;i--){var a=o[i];if(!(r&&a.time>r||n&&a.sequence>n)){if("in"===a.flow&&a.isRead)break;a.setIsRead(!0)}}}},{key:"updateIsRead",value:function(e){var t=this.tim,n=t.conversationController,r=t.messageController,o=n.getLocalConversation(e),i=r.getLocalMessageList(e);if(o&&0!==i.length&&!yu(o.type)){for(var a=[],s=0;s<i.length;s++)"in"!==i[s].flow?"out"!==i[s].flow||i[s].isRead||i[s].setIsRead(!0):a.push(i[s]);var u=0;if(o.type===pn.CONV_C2C){var c=a.slice(-o.unreadCount).filter((function(e){return e.isRevoked})).length;u=a.length-o.unreadCount-c}else u=a.length-o.unreadCount;for(var l=0;l<u&&!a[l].isRead;l++)a[l].setIsRead(!0)}}}]),e}(),Gy=Ve.findIndex,Uy=!0,qy=Xe("findIndex");"findIndex"in[]&&Array(1).findIndex((function(){Uy=!1})),De({target:"Array",proto:!0,forced:Uy||!qy},{findIndex:function(e){return Gy(this,e,arguments.length>1?arguments[1]:void 0)}}),zr("findIndex");var jy=function(){function e(t){var n=t.tim,r=t.messageController;Tn(this,e),this.tim=n,this.messageController=r,this.completedMap=new Map,this._initListener()}return Dn(e,[{key:"getMessageList",value:function(e){var t=this,n=e.conversationID,r=e.nextReqMessageID,o=e.count;if(this.tim.groupController.checkJoinedAVChatRoomByID(n.replace("GROUP","")))return Bs.log("GetMessageHandler.getMessageList not available in avchatroom. conversationID=".concat(n)),rg({messageList:[],nextReqMessageID:"",isCompleted:!0});(Xs(o)||o>15)&&(o=15);var i=this._computeLeftCount({conversationID:n,nextReqMessageID:r});return Bs.log("GetMessageHandler.getMessageList. conversationID=".concat(n," leftCount=").concat(i," count=").concat(o," nextReqMessageID=").concat(r)),this._needGetHistory({conversationID:n,leftCount:i,count:o})?this.messageController.getHistoryMessages({conversationID:n,count:20}).then((function(){return i=t._computeLeftCount({conversationID:n,nextReqMessageID:r}),new eg(t._computeResult({conversationID:n,nextReqMessageID:r,count:o,leftCount:i}))})):(Bs.log("GetMessageHandler.getMessageList. get messagelist from memory"),rg(this._computeResult({conversationID:n,nextReqMessageID:r,count:o,leftCount:i})))}},{key:"setCompleted",value:function(e){Bs.log("GetMessageHandler.setCompleted. conversationID=".concat(e)),this.completedMap.set(e,!0)}},{key:"deleteCompletedItem",value:function(e){Bs.log("GetMessageHandler.deleteCompletedItem. conversationID=".concat(e)),this.completedMap.delete(e)}},{key:"_initListener",value:function(){var e=this;this.tim.innerEmitter.on(Gd,(function(){e.setCompleted(pn.CONV_SYSTEM)})),this.tim.innerEmitter.on(Pd,(function(t){var n=t.data;e.setCompleted("".concat(pn.CONV_GROUP).concat(n))}))}},{key:"_getMessageListSize",value:function(e){return this.messageController.getLocalMessageList(e).length}},{key:"_needGetHistory",value:function(e){var t=e.conversationID,n=e.leftCount,r=e.count,o=this.tim.conversationController.getLocalConversation(t),i=!!o&&o.type===pn.CONV_SYSTEM,a=!!o&&o.subType===pn.GRP_AVCHATROOM;return!i&&!a&&n<r&&!this.completedMap.has(t)}},{key:"_computeResult",value:function(e){var t=e.conversationID,n=e.nextReqMessageID,r=e.count,o=e.leftCount,i=this._computeMessageList({conversationID:t,nextReqMessageID:n,count:r}),a=this._computeIsCompleted({conversationID:t,leftCount:o,count:r}),s=this._computeNextReqMessageID({messageList:i,isCompleted:a,conversationID:t});return Bs.log("GetMessageHandler._computeResult. conversationID=".concat(t," leftCount=").concat(o," count=").concat(r," nextReqMessageID=").concat(s," nums=").concat(i.length," isCompleted=").concat(a)),{messageList:i,nextReqMessageID:s,isCompleted:a}}},{key:"_computeNextReqMessageID",value:function(e){var t=e.messageList,n=e.isCompleted,r=e.conversationID;if(!n)return 0===t.length?"":t[0].ID;var o=this.messageController.getLocalMessageList(r);return 0===o.length?"":o[0].ID}},{key:"_computeMessageList",value:function(e){var t=e.conversationID,n=e.nextReqMessageID,r=e.count,o=this.messageController.getLocalMessageList(t),i=this._computeIndexEnd({nextReqMessageID:n,messageList:o}),a=this._computeIndexStart({indexEnd:i,count:r});return o.slice(a,i)}},{key:"_computeIndexEnd",value:function(e){var t=e.messageList,n=void 0===t?[]:t,r=e.nextReqMessageID;return r?n.findIndex((function(e){return e.ID===r})):n.length}},{key:"_computeIndexStart",value:function(e){var t=e.indexEnd,n=e.count;return t>n?t-n:0}},{key:"_computeLeftCount",value:function(e){var t=e.conversationID,n=e.nextReqMessageID;return n?this.messageController.getLocalMessageList(t).findIndex((function(e){return e.ID===n})):this._getMessageListSize(t)}},{key:"_computeIsCompleted",value:function(e){var t=e.conversationID;return!!(e.leftCount<=e.count&&this.completedMap.has(t))}},{key:"reset",value:function(){Bs.log("GetMessageHandler.reset"),this.completedMap.clear()}}]),e}(),Fy=function e(t){Tn(this,e),this.value=t,this.next=null},$y=function(){function e(t){Tn(this,e),this.MAX_LENGTH=t,this.pTail=null,this.pNodeToDel=null,this.map=new Map,Bs.log("SinglyLinkedList init MAX_LENGTH=".concat(this.MAX_LENGTH))}return Dn(e,[{key:"pushIn",value:function(e){var t=new Fy(e);if(this.map.size<this.MAX_LENGTH)null===this.pTail?(this.pTail=t,this.pNodeToDel=t):(this.pTail.next=t,this.pTail=t),this.map.set(e,1);else{var n=this.pNodeToDel;this.pNodeToDel=this.pNodeToDel.next,this.map.delete(n.value),n.next=null,n=null,this.pTail.next=t,this.pTail=t,this.map.set(e,1)}}},{key:"has",value:function(e){return this.map.has(e)}},{key:"reset",value:function(){for(var e;null!==this.pNodeToDel;)e=this.pNodeToDel,this.pNodeToDel=this.pNodeToDel.next,e.next=null,e=null;this.pTail=null,this.map.clear()}}]),e}(),By=function(){function e(t){Tn(this,e),this.tim=t}return Dn(e,[{key:"upload",value:function(e){switch(e.type){case pn.MSG_IMAGE:return this._uploadImage(e);case pn.MSG_FILE:return this._uploadFile(e);case pn.MSG_AUDIO:return this._uploadAudio(e);case pn.MSG_VIDEO:return this._uploadVideo(e);default:return Promise.resolve()}}},{key:"_uploadImage",value:function(e){var t=this.tim,n=t.uploadController,r=t.messageController,o=e.getElements()[0],i=r.getMessageOptionByID(e.messageID);return n.uploadImage({file:i.payload.file,to:i.to,onProgress:function(e){if(o.updatePercent(e),Qs(i.onProgress))try{i.onProgress(e)}catch(t){return og(new mf({code:Df,message:"".concat(jp)}))}}}).then((function(e){var t,n=e.location,r=e.fileType,i=e.fileSize,a=du(n);return o.updateImageFormat(r),o.updateImageInfoArray({size:i,url:a}),t=o._imageMemoryURL,ds?new Promise((function(e,n){wx.getImageInfo({src:t,success:function(t){e({width:t.width,height:t.height})},fail:function(){e({width:0,height:0})}})})):_s&&9===bs?Promise.resolve({width:0,height:0}):new Promise((function(e,n){var r=new Image;r.onload=function(){e({width:this.width,height:this.height}),r=null},r.onerror=function(){e({width:0,height:0}),r=null},r.src=t}))})).then((function(t){var n=t.width,r=t.height;return o.updateImageInfoArray({width:n,height:r}),e}))}},{key:"_uploadFile",value:function(e){var t=this.tim,n=t.uploadController,r=t.messageController,o=e.getElements()[0],i=r.getMessageOptionByID(e.messageID);return n.uploadFile({file:i.payload.file,to:i.to,onProgress:function(e){if(o.updatePercent(e),Qs(i.onProgress))try{i.onProgress(e)}catch(t){return og(new mf({code:Df,message:"".concat(jp)}))}}}).then((function(t){var n=t.location,r=du(n);return o.updateFileUrl(r),e}))}},{key:"_uploadAudio",value:function(e){var t=this.tim,n=t.uploadController,r=t.messageController,o=e.getElements()[0],i=r.getMessageOptionByID(e.messageID);return n.uploadAudio({file:i.payload.file,to:i.to,onProgress:function(e){if(o.updatePercent(e),Qs(i.onProgress))try{i.onProgress(e)}catch(t){return og(new mf({code:Df,message:"".concat(jp)}))}}}).then((function(t){var n=t.location,r=du(n);return o.updateAudioUrl(r),e}))}},{key:"_uploadVideo",value:function(e){var t=this.tim,n=t.uploadController,r=t.messageController,o=e.getElements()[0],i=r.getMessageOptionByID(e.messageID);return n.uploadVideo({file:i.payload.file,to:i.to,onProgress:function(e){if(o.updatePercent(e),Qs(i.onProgress))try{i.onProgress(e)}catch(t){return og(new mf({code:Df,message:"".concat(jp)}))}}}).then((function(t){if(ds){var n=du(t.location);return o.updateVideoUrl(n),e}}))}}]),e}(),Hy=function(e){function t(e){var n;return Tn(this,t),(n=Fn(this,Nn(t).call(this,e)))._initializeMembers(),n._initializeListener(),n._initialzeHandlers(),n.messageOptionMap=new Map,n}return Ln(t,e),Dn(t,[{key:"_initializeMembers",value:function(){this.messagesList=new Ny({tim:this.tim}),this.currentMessageKey={},this.singlyLinkedList=new $y(100)}},{key:"_initialzeHandlers",value:function(){this.readReportHandler=new Py(this.tim,this),this.getMessageHandler=new jy({messageController:this,tim:this.tim}),this.uploadFileHandler=new By(this.tim)}},{key:"reset",value:function(){this.messagesList.reset(),this.currentMessageKey={},this.getMessageHandler.reset(),this.singlyLinkedList.reset(),this.messageOptionMap.clear()}},{key:"_initializeListener",value:function(){var e=this.tim.innerEmitter;e.on(gd,this._onReceiveC2CMessage,this),e.on(Zh,this._onSyncMessagesProcessing,this),e.on(ed,this._onSyncMessagesFinished,this),e.on(vd,this._onReceiveGroupMessage,this),e.on(md,this._onReceiveGroupTips,this),e.on(yd,this._onReceiveSystemNotice,this),e.on(Sd,this._onReceiveGroupMessageRevokedNotice,this),e.on(Id,this._onReceiveC2CMessageRevokedNotice,this),e.on(Ld,this._clearConversationMessages,this)}},{key:"sendMessageInstance",value:function(e){var t,n=this,r=this.tim.sumStatController,o=null;switch(e.conversationType){case pn.CONV_C2C:o=this._handleOnSendC2CMessageSuccess.bind(this);break;case pn.CONV_GROUP:o=this._handleOnSendGroupMessageSuccess.bind(this);break;default:return og(new mf({code:Tf,message:Up}))}return this.singlyLinkedList.pushIn(e.random),this.uploadFileHandler.upload(e).then((function(){var o=null;return e.isSendable()?(r.addTotalCount(cg),t=Date.now(),e.conversationType===pn.CONV_C2C?o=n._createC2CMessagePack(e):e.conversationType===pn.CONV_GROUP&&(o=n._createGroupMessagePack(e)),n.request(o)):og({code:Bf,message:Zp})})).then((function(i){return r.addSuccessCount(cg),r.addCost(cg,Math.abs(Date.now()-t)),e.conversationType===pn.CONV_GROUP&&(e.sequence=i.data.sequence,e.time=i.data.time,e.generateMessageID(n.tim.context.identifier)),n.messagesList.pushIn(e),o(e,i.data),n.messageOptionMap.delete(e.messageID),n.emitInnerEvent(td,{eventDataList:[{conversationID:e.conversationID,unreadCount:0,type:e.conversationType,subType:e.conversationSubType,lastMessage:e}]}),new eg({message:e})})).catch((function(t){e.status=Du.FAIL;var r=new hg;return r.setMethod(_g).setMessageType(e.type).setText("".concat(n._generateTjgID(e),"-").concat(e.type,"-").concat(e.from,"-").concat(e.to)).setStart(),n.probeNetwork().then((function(e){var n=$n(e,2),o=n[0],i=n[1];r.setError(t,o,i).setEnd()})),Bs.error("MessageController.sendMessageInstance error:",t),og(new mf({code:t&&t.code?t.code:Mf,message:t&&t.message?t.message:Np,data:{message:e}}))}))}},{key:"resendMessage",value:function(e){return e.isResend=!0,e.status=Du.UNSEND,this.sendMessageInstance(e)}},{key:"_isFileLikeMessage",value:function(e){return[pn.MSG_IMAGE,pn.MSG_FILE,pn.MSG_AUDIO,pn.MSG_VIDEO].indexOf(e.type)>=0}},{key:"_resendBinaryTypeMessage",value:function(){}},{key:"_createC2CMessagePack",value:function(e){return{name:"c2cMessage",action:"create",tjgID:this._generateTjgID(e),param:{toAccount:e.to,msgBody:e.getElements(),msgSeq:e.sequence,msgRandom:e.random}}}},{key:"_handleOnSendC2CMessageSuccess",value:function(e,t){e.status=Du.SUCCESS,e.time=t.time}},{key:"_createGroupMessagePack",value:function(e){return{name:"groupMessage",action:"create",tjgID:this._generateTjgID(e),param:{groupID:e.to,msgBody:e.getElements(),random:e.random,priority:e.priority,clientSequence:e.clientSequence}}}},{key:"_handleOnSendGroupMessageSuccess",value:function(e,t){e.sequence=t.sequence,e.time=t.time,e.status=Du.SUCCESS}},{key:"_onReceiveC2CMessage",value:function(e){Bs.debug("MessageController._onReceiveC2CMessage nums=".concat(e.data.length));var t=this._newC2CMessageStoredAndSummary({notifiesList:e.data,type:pn.CONV_C2C,C2CRemainingUnreadList:e.C2CRemainingUnreadList}),n=t.eventDataList,r=t.result;n.length>0&&this.emitInnerEvent(od,{eventDataList:n,result:r}),r.length>0&&this.emitOuterEvent(fn.MESSAGE_RECEIVED,r)}},{key:"_onReceiveGroupMessage",value:function(e){Bs.debug("MessageController._onReceiveGroupMessage nums=".concat(e.data.length));var t=this.newGroupMessageStoredAndSummary(e.data),n=t.eventDataList,r=t.result;n.length>0&&this.emitInnerEvent(id,{eventDataList:n,result:r,isGroupTip:!1}),r.length>0&&this.emitOuterEvent(fn.MESSAGE_RECEIVED,r)}},{key:"_onReceiveGroupTips",value:function(e){var t=e.data;Bs.debug("MessageController._onReceiveGroupTips nums=".concat(t.length));var n=this.newGroupTipsStoredAndSummary(t),r=n.eventDataList,o=n.result;r.length>0&&this.emitInnerEvent(id,{eventDataList:r,result:o,isGroupTip:!0}),o.length>0&&this.emitOuterEvent(fn.MESSAGE_RECEIVED,o)}},{key:"_onReceiveSystemNotice",value:function(e){var t=e.data,n=t.groupSystemNotices,r=t.type;Bs.debug("MessageController._onReceiveSystemNotice nums=".concat(n.length));var o=this.newSystemNoticeStoredAndSummary({notifiesList:n,type:r}),i=o.eventDataList,a=o.result;i.length>0&&this.emitInnerEvent(ad,{eventDataList:i,result:a,type:r}),a.length>0&&"poll"===r&&this.emitOuterEvent(fn.MESSAGE_RECEIVED,a)}},{key:"_onReceiveGroupMessageRevokedNotice",value:function(e){var t=this;Bs.debug("MessageController._onReceiveGroupMessageRevokedNotice nums=".concat(e.data.length));var n=[],r=null;e.data.forEach((function(e){e.elements.revokedInfos.forEach((function(e){(r=t.messagesList.revoke("GROUP".concat(e.groupID),e.sequence))&&n.push(r)}))})),0!==n.length&&(this.emitInnerEvent(sd,n),this.emitOuterEvent(fn.MESSAGE_REVOKED,n))}},{key:"_onReceiveC2CMessageRevokedNotice",value:function(e){var t=this;Bs.debug("MessageController._onReceiveC2CMessageRevokedNotice nums=".concat(e.data.length));var n=[],r=null;e.data.forEach((function(e){e.c2cMessageRevokedNotify.revokedInfos.forEach((function(e){(r=t.messagesList.revoke("C2C".concat(e.from),e.sequence,e.random))&&n.push(r)}))})),0!==n.length&&(this.emitInnerEvent(sd,n),this.emitOuterEvent(fn.MESSAGE_REVOKED,n))}},{key:"_clearConversationMessages",value:function(e){var t=e.data;this.messagesList.removeByConversationID(t),this.getMessageHandler.deleteCompletedItem(t)}},{key:"_pushIntoNoticeResult",value:function(e,t){var n=this.messagesList.pushIn(t),r=this.singlyLinkedList.has(t.random);return!(!n||!1!==r)&&(e.push(t),!0)}},{key:"_newC2CMessageStoredAndSummary",value:function(e){for(var t=e.notifiesList,n=e.type,r=e.C2CRemainingUnreadList,o=e.isFromSync,i=null,a=[],s=[],u={},c=this.tim.bigDataHallwayController,l=0,f=t.length;l<f;l++){var p=t[l];(p.currentUser=this.tim.context.identifier,p.conversationType=n,p.isSystemMessage=!!p.isSystemMessage,i=new qh(p),p.elements=c.parseElements(p.elements,p.from),i.setElement(p.elements),o||this._pushIntoNoticeResult(s,i))&&(void 0===u[i.conversationID]?u[i.conversationID]=a.push({conversationID:i.conversationID,unreadCount:"out"===i.flow?0:1,type:i.conversationType,subType:i.conversationSubType,lastMessage:i})-1:(a[u[i.conversationID]].type=i.conversationType,a[u[i.conversationID]].subType=i.conversationSubType,a[u[i.conversationID]].lastMessage=i,"in"===i.flow&&a[u[i.conversationID]].unreadCount++))}if(Ws(r))for(var h=function(e,t){var n=a.find((function(t){return t.conversationID==="C2C".concat(r[e].from)}));n?n.unreadCount+=r[e].count:a.push({conversationID:"C2C".concat(r[e].from),unreadCount:r[e].count,type:pn.CONV_C2C})},d=0,g=r.length;d<g;d++)h(d);return{eventDataList:a,result:s}}},{key:"newGroupMessageStoredAndSummary",value:function(e){for(var t=null,n=[],r={},o=[],i=pn.CONV_GROUP,a=this.tim.bigDataHallwayController,s=0,u=e.length;s<u;s++){var c=e[s];c.currentUser=this.tim.context.identifier,c.conversationType=i,c.isSystemMessage=!!c.isSystemMessage,t=new qh(c),c.elements=a.parseElements(c.elements,c.from),t.setElement(c.elements),this._isMessageFromAVChatroom(t)||this._pushIntoNoticeResult(o,t)&&(void 0===r[t.conversationID]?r[t.conversationID]=n.push({conversationID:t.conversationID,unreadCount:"out"===t.flow?0:1,type:t.conversationType,subType:t.conversationSubType,lastMessage:t})-1:(n[r[t.conversationID]].type=t.conversationType,n[r[t.conversationID]].subType=t.conversationSubType,n[r[t.conversationID]].lastMessage=t,"in"===t.flow&&n[r[t.conversationID]].unreadCount++))}return{eventDataList:n,result:o}}},{key:"_isMessageFromAVChatroom",value:function(e){var t=e.conversationID.slice(5);return this.tim.groupController.checkJoinedAVChatRoomByID(t)}},{key:"newGroupTipsStoredAndSummary",value:function(e){for(var t=null,n=[],r=[],o={},i=0,a=e.length;i<a;i++){var s=e[i];s.currentUser=this.tim.context.identifier,s.conversationType=pn.CONV_GROUP,(t=new qh(s)).setElement({type:pn.MSG_GRP_TIP,content:xn({},s.elements,{groupProfile:s.groupProfile})}),t.isSystemMessage=!1,this._isMessageFromAVChatroom(t)||this._pushIntoNoticeResult(r,t)&&(void 0===o[t.conversationID]?o[t.conversationID]=n.push({conversationID:t.conversationID,unreadCount:"out"===t.flow?0:1,type:t.conversationType,subType:t.conversationSubType,lastMessage:t})-1:(n[o[t.conversationID]].type=t.conversationType,n[o[t.conversationID]].subType=t.conversationSubType,n[o[t.conversationID]].lastMessage=t,"in"===t.flow&&n[o[t.conversationID]].unreadCount++))}return{eventDataList:n,result:r}}},{key:"newSystemNoticeStoredAndSummary",value:function(e){var t=e.notifiesList,n=e.type,r=null,o=t.length,i=0,a=[],s={conversationID:pn.CONV_SYSTEM,unreadCount:0,type:pn.CONV_SYSTEM,subType:null,lastMessage:null};for(i=0;i<o;i++){var u=t[i];u.elements.operationType!==Kl&&(u.currentUser=this.tim.context.identifier,u.conversationType=pn.CONV_SYSTEM,u.conversationID=pn.CONV_SYSTEM,(r=new qh(u)).setElement({type:pn.MSG_GRP_SYS_NOTICE,content:xn({},u.elements,{groupProfile:u.groupProfile})}),r.isSystemMessage=!0,(1===r.sequence&&1===r.random||2===r.sequence&&2===r.random)&&(r.sequence=uu(),r.random=uu(),r.generateMessageID(u.currentUser),Bs.log("MessageController.newSystemNoticeStoredAndSummary sequence and random maybe duplicated, regenerate. ID=".concat(r.ID))),this._pushIntoNoticeResult(a,r)&&("poll"===n?s.unreadCount++:"sync"===n&&r.setIsRead(!0),s.subType=r.conversationSubType))}return s.lastMessage=a[a.length-1],{eventDataList:a.length>0?[s]:[],result:a}}},{key:"_onSyncMessagesProcessing",value:function(e){var t=this._newC2CMessageStoredAndSummary({notifiesList:e.data,type:pn.CONV_C2C,isFromSync:!0,C2CRemainingUnreadList:e.C2CRemainingUnreadList}),n=t.eventDataList,r=t.result;this.emitInnerEvent(nd,{eventDataList:n,result:r})}},{key:"_onSyncMessagesFinished",value:function(e){this.triggerReady();var t=this._newC2CMessageStoredAndSummary({notifiesList:e.data.messageList,type:pn.CONV_C2C,isFromSync:!0,C2CRemainingUnreadList:e.data.C2CRemainingUnreadList}),n=t.eventDataList,r=t.result;this.emitInnerEvent(rd,{eventDataList:n,result:r})}},{key:"getHistoryMessages",value:function(e){if(e.conversationID===pn.CONV_SYSTEM)return rg();!e.count&&(e.count=15),e.count>20&&(e.count=20);var t=this.messagesList.getLocalOldestMessageByConversationID(e.conversationID);t||((t={}).time=0,t.sequence=0,0===e.conversationID.indexOf(pn.CONV_C2C)?(t.to=e.conversationID.replace(pn.CONV_C2C,""),t.conversationType=pn.CONV_C2C):0===e.conversationID.indexOf(pn.CONV_GROUP)&&(t.to=e.conversationID.replace(pn.CONV_GROUP,""),t.conversationType=pn.CONV_GROUP));var n="";switch(t.conversationType){case pn.CONV_C2C:return n=e.conversationID.replace(pn.CONV_C2C,""),this.getC2CRoamMessages({conversationID:e.conversationID,peerAccount:n,count:e.count,lastMessageTime:void 0===this.currentMessageKey[e.conversationID]?0:t.time});case pn.CONV_GROUP:return this.getGroupRoamMessages({conversationID:e.conversationID,groupID:t.to,count:e.count,sequence:t.sequence-1});default:return rg()}}},{key:"getC2CRoamMessages",value:function(e){var t=this,n=void 0!==this.currentMessageKey[e.conversationID]?this.currentMessageKey[e.conversationID]:"";Bs.log("MessageController.getC2CRoamMessages toAccount=".concat(e.peerAccount," count=").concat(e.count||15," lastMessageTime=").concat(e.lastMessageTime||0," messageKey=").concat(n));var r=new hg;return r.setMethod(bg).setStart(),this.request({name:"c2cMessage",action:"query",param:{peerAccount:e.peerAccount,count:e.count||15,lastMessageTime:e.lastMessageTime||0,messageKey:n}}).then((function(o){var i=o.data,a=i.complete,s=i.messageList;Xs(s)?Bs.log("MessageController.getC2CRoamMessages ok. complete=".concat(a," but messageList is undefined!")):Bs.log("MessageController.getC2CRoamMessages ok. complete=".concat(a," nums=").concat(s.length)),r.setCode(0).setNetworkType(t.getNetworkType()).setText("".concat(e.peerAccount,"-").concat(e.count||15,"-").concat(e.lastMessageTime||0,"-").concat(n,"-").concat(a,"-").concat(s?s.length:"undefined")).setEnd(),1===a&&t.getMessageHandler.setCompleted(e.conversationID);var u=t._roamMessageStore(s,pn.CONV_C2C,e.conversationID);return t.readReportHandler.updateIsRead(e.conversationID),t.currentMessageKey[e.conversationID]=o.data.messageKey,u})).catch((function(o){return t.probeNetwork().then((function(t){var i=$n(t,2),a=i[0],s=i[1];r.setError(o,a,s).setText("".concat(e.peerAccount,"-").concat(e.count||15,"-").concat(e.lastMessageTime||0,"-").concat(n)).setEnd()})),Bs.warn("MessageController.getC2CRoamMessages failed. ".concat(o)),og(o)}))}},{key:"_computeLastSequence",value:function(e){return e.sequence>=0?Promise.resolve(e.sequence):this.tim.groupController.getGroupLastSequence(e.groupID)}},{key:"getGroupRoamMessages",value:function(e){var t=this,n=new hg,r=0;return this._computeLastSequence(e).then((function(o){return r=o,Bs.log("MessageController.getGroupRoamMessages groupID=".concat(e.groupID," lastSequence=").concat(r)),n.setMethod(Cg).setStart(),t.request({name:"groupMessage",action:"query",param:{groupID:e.groupID,count:21,sequence:r}})})).then((function(o){var i=o.data,a=i.messageList,s=i.complete;Xs(a)?Bs.log("MessageController.getGroupRoamMessages ok. complete=".concat(s," but messageList is undefined!")):Bs.log("MessageController.getGroupRoamMessages ok. complete=".concat(s," nums=").concat(a.length)),n.setCode(0).setNetworkType(t.getNetworkType()).setText("".concat(e.groupID,"-").concat(r,"-").concat(s,"-").concat(a?a.length:"undefined")).setEnd();var u="GROUP".concat(e.groupID);if(2===s||Cu(a))return t.getMessageHandler.setCompleted(u),[];var c=t._roamMessageStore(a,pn.CONV_GROUP,u);return t.readReportHandler.updateIsRead(u),c})).catch((function(o){return t.probeNetwork().then((function(t){var i=$n(t,2),a=i[0],s=i[1];n.setError(o,a,s).setText("".concat(e.groupID,"-").concat(r)).setEnd()})),Bs.warn("MessageController.getGroupRoamMessages failed. ".concat(o)),og(o)}))}},{key:"_roamMessageStore",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=null,o=[],i=0,a=e.length,s=null,u=t===pn.CONV_GROUP,c=this.tim.bigDataHallwayController,l=function(){i=u?e.length-1:0,a=u?0:e.length},f=function(){u?--i:++i},p=function(){return u?i>=a:i<a};for(l();p();f())u&&1===e[i].sequence&&this.getMessageHandler.setCompleted(n),1!==e[i].isPlaceMessage&&((r=new qh(e[i])).to=e[i].to,r.isSystemMessage=!!e[i].isSystemMessage,r.conversationType=t,e[i].event===Gl.JSON.TYPE.GROUP.TIP?s={type:pn.MSG_GRP_TIP,content:xn({},e[i].elements,{groupProfile:e[i].groupProfile})}:(e[i].elements=c.parseElements(e[i].elements,e[i].from),s=e[i].elements),r.setElement(s),r.reInitialize(this.tim.context.identifier),o.push(r));return this.messagesList.unshift(o),l=f=p=null,o}},{key:"getLocalMessageList",value:function(e){return this.messagesList.getLocalMessageList(e)}},{key:"getLocalMessage",value:function(e,t){return this.messagesList.getLocalMessage(e,t)}},{key:"hasLocalMessage",value:function(e,t){return this.messagesList.hasLocalMessage(e,t)}},{key:"deleteLocalMessage",value:function(e){e instanceof qh&&this.messagesList.remove(e)}},{key:"revokeMessage",value:function(e){var t,n=this;e.conversationType===pn.CONV_C2C?t={name:"c2cMessageWillBeRevoked",action:"create",param:{msgInfo:{fromAccount:e.from,toAccount:e.to,msgSeq:e.sequence,msgRandom:e.random,msgTimeStamp:e.time}}}:e.conversationType===pn.CONV_GROUP&&(t={name:"groupMessageWillBeRevoked",action:"create",param:{to:e.to,msgSeqList:[{msgSeq:e.sequence}]}});var r=new hg;return r.setMethod(Sg).setMessageType(e.type).setText("".concat(this._generateTjgID(e),"-").concat(e.type,"-").concat(e.from,"-").concat(e.to)).setStart(),this.request(t).then((function(t){var o=t.data.recallRetList;if(!Cu(o)&&0!==o[0].retCode){var i=new mf({code:o[0].retCode,message:vf[o[0].retCode]||Fp,data:{message:e}});return r.setCode(i.code).setMessage(i.message).setEnd(),og(i)}return Bs.info("MessageController.revokeMessage ok. ID=".concat(e.ID)),e.isRevoked=!0,r.setCode(0).setEnd(),n.emitInnerEvent(sd,[e]),new eg({message:e})})).catch((function(t){n.probeNetwork().then((function(e){var n=$n(e,2),o=n[0],i=n[1];r.setError(t,o,i).setEnd()}));var o=new mf({code:t&&t.code?t.code:Af,message:t&&t.message?t.message:Fp,data:{message:e}});return Bs.warn("MessageController.revokeMessage failed. ID=".concat(e.ID," code=").concat(o.code," message=").concat(o.message)),og(o)}))}},{key:"setMessageRead",value:function(e){var t=this;return new Promise((function(n,r){t.ready((function(){t.readReportHandler.setMessageRead(e).then(n).catch(r)}))}))}},{key:"getMessageList",value:function(e){return this.getMessageHandler.getMessageList(e)}},{key:"createTextMessage",value:function(e){e.currentUser=this.tim.context.identifier;var t=new qh(e),n="string"==typeof e.payload?e.payload:e.payload.text,r=new Ru({text:n});return t.setElement(r),t}},{key:"createCustomMessage",value:function(e){e.currentUser=this.tim.context.identifier;var t=new qh(e),n=new Nh({data:e.payload.data,description:e.payload.description,extension:e.payload.extension});return t.setElement(n),t}},{key:"createImageMessage",value:function(e){e.currentUser=this.tim.context.identifier;var t=new qh(e);if(ds){var n=e.payload.file;if(Hs(n))return void Bs.warn("微信小程序环境下调用 createImageMessage 接口时，payload.file 不支持传入 File 对象");var r=n.tempFilePaths[0],o={url:r,name:r.slice(r.lastIndexOf("/")+1),size:n.tempFiles[0].size,type:r.slice(r.lastIndexOf(".")+1).toLowerCase()};e.payload.file=o}else if(hs&&Hs(e.payload.file)){var i=e.payload.file;e.payload.file={files:[i]}}var a=new nf({imageFormat:"UNKNOWN",uuid:this._generateUUID(),file:e.payload.file});return t.setElement(a),this.messageOptionMap.set(t.messageID,e),t}},{key:"createFileMessage",value:function(e){if(!ds){if(hs&&Hs(e.payload.file)){var t=e.payload.file;e.payload.file={files:[t]}}e.currentUser=this.tim.context.identifier;var n=new qh(e),r=new Lh({uuid:this._generateUUID(),file:e.payload.file});return n.setElement(r),this.messageOptionMap.set(n.messageID,e),n}Bs.warn("微信小程序目前不支持选择文件， createFileMessage 接口不可用！")}},{key:"createAudioMessage",value:function(e){if(ds){var t=e.payload.file;if(ds){var n={url:t.tempFilePath,name:t.tempFilePath.slice(t.tempFilePath.lastIndexOf("/")+1),size:t.fileSize,second:parseInt(t.duration)/1e3,type:t.tempFilePath.slice(t.tempFilePath.lastIndexOf(".")+1).toLowerCase()};e.payload.file=n}e.currentUser=this.tim.context.identifier;var r=new qh(e),o=new of({second:Math.floor(t.duration/1e3),size:t.fileSize,url:t.tempFilePath,uuid:this._generateUUID()});return r.setElement(o),this.messageOptionMap.set(r.messageID,e),r}Bs.warn("createAudioMessage 目前只支持微信小程序发语音消息")}},{key:"createVideoMessage",value:function(e){if(ds){if(e.currentUser=this.tim.context.identifier,ds){e.payload.file.thumbUrl="https://webim-1252463788.cos.ap-shanghai.myqcloud.com/assets/images/transparent.png",e.payload.file.thumbSize=1668;var t=e.payload.file,n={url:t.tempFilePath,name:t.tempFilePath.slice(t.tempFilePath.lastIndexOf("/")+1),size:t.size,second:t.duration,type:t.tempFilePath.slice(t.tempFilePath.lastIndexOf(".")+1).toLowerCase()};e.payload.file.videoFile=n;var r=new qh(e),o=new Ph({videoFormat:n.type,videoSecond:Number(n.second.toFixed(0)),videoSize:n.size,remoteVideoUrl:"",videoUrl:n.url,videoUUID:this._generateUUID(),thumbUUID:this._generateUUID(),thumbWidth:t.width,thumbHeight:t.height,thumbUrl:t.thumbUrl,thumbSize:t.thumbSize,thumbFormat:t.thumbUrl.slice(t.thumbUrl.lastIndexOf(".")+1).toLowerCase()});return r.setElement(o),this.messageOptionMap.set(r.messageID,e),r}}else Bs.warn("createVideoMessage 目前只支持微信小程序发视频消息")}},{key:"createFaceMessage",value:function(e){e.currentUser=this.tim.context.identifier;var t=new qh(e),n=new rf(e.payload);return t.setElement(n),t}},{key:"_generateUUID",value:function(){var e=this.tim.context;return"".concat(e.SDKAppID,"-").concat(e.identifier,"-").concat(function(){for(var e="",t=32;t>0;--t)e+=cu[Math.floor(Math.random()*lu)];return e}())}},{key:"_generateTjgID",value:function(e){return this.tim.context.tinyID+"-"+e.random}},{key:"getMessageOptionByID",value:function(e){return this.messageOptionMap.get(e)}}]),t}(Jd),Vy=[].push,zy=Math.min,Ky=!i((function(){return!RegExp(4294967295,"y")}));Ya("split",2,(function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=String(g(this)),o=void 0===n?4294967295:n>>>0;if(0===o)return[];if(void 0===e)return[r];if(!qa(e))return t.call(r,e,o);for(var i,a,s,u=[],c=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),l=0,f=new RegExp(e.source,c+"g");(i=xa.call(f,r))&&!((a=f.lastIndex)>l&&(u.push(r.slice(l,i.index)),i.length>1&&i.index<r.length&&Vy.apply(u,i.slice(1)),s=i[0].length,l=a,u.length>=o));)f.lastIndex===i.index&&f.lastIndex++;return l===r.length?!s&&f.test("")||u.push(""):u.push(r.slice(l)),u.length>o?u.slice(0,o):u}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var o=g(this),i=null==t?void 0:t[e];return void 0!==i?i.call(t,o,n):r.call(String(o),t,n)},function(e,o){var i=n(r,e,this,o,r!==t);if(i.done)return i.value;var a=k(e),s=String(this),u=li(a,RegExp),c=a.unicode,l=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(Ky?"y":"g"),f=new u(Ky?a:"^(?:"+a.source+")",l),p=void 0===o?4294967295:o>>>0;if(0===p)return[];if(0===s.length)return null===Ja(f,s)?[s]:[];for(var h=0,d=0,g=[];d<s.length;){f.lastIndex=Ky?d:0;var v,m=Ja(f,Ky?s:s.slice(d));if(null===m||(v=zy(ue(f.lastIndex+(Ky?0:d)),s.length))===h)d=Xa(s,d,c);else{if(g.push(s.slice(h,d)),g.length===p)return g;for(var y=1;y<=m.length-1;y++)if(g.push(m[y]),g.length===p)return g;d=h=v}}return g.push(s.slice(h)),g}]}),!Ky);var Yy=function(){function e(t){Tn(this,e),this.userID="",this.avatar="",this.nick="",this.role="",this.joinTime="",this.lastSendMsgTime="",this.nameCard="",this.muteUntil=0,this.memberCustomField=[],this._initMember(t)}return Dn(e,[{key:"_initMember",value:function(e){this.updateMember(e)}},{key:"updateMember",value:function(e){var t=[null,void 0,"",0,NaN];e.memberCustomField&&gu(this.memberCustomField,e.memberCustomField),ou(this,e,["memberCustomField"],t)}},{key:"updateRole",value:function(e){["Owner","Admin","Member"].indexOf(e)<0||(this.role=e)}},{key:"updateMuteUntil",value:function(e){Xs(e)||(this.muteUntil=Math.floor((Date.now()+1e3*e)/1e3))}},{key:"updateNameCard",value:function(e){Xs(e)||(this.nameCard=e)}},{key:"updateMemberCustomField",value:function(e){e&&gu(this.memberCustomField,e)}}]),e}(),Wy=function(){function e(t){Tn(this,e),this.tim=t.tim,this.groupController=t.groupController,this._initListeners()}return Dn(e,[{key:"_initListeners",value:function(){this.tim.innerEmitter.on(id,this._onReceivedGroupTips,this)}},{key:"_onReceivedGroupTips",value:function(e){var t=this,n=e.data,r=n.result;n.isGroupTip&&r.forEach((function(e){switch(e.payload.operationType){case 1:t._onNewMemberComeIn(e);break;case 2:t._onMemberQuit(e);break;case 3:t._onMemberKickedOut(e);break;case 4:t._onMemberSetAdmin(e);break;case 5:t._onMemberCancelledAdmin(e);break;case 6:t._onGroupProfileModified(e);break;case 7:t._onMemberInfoModified(e);break;default:Bs.warn("GroupTipsHandler._onReceivedGroupTips Unhandled groupTips. operationType=",e.payload.operationType)}}))}},{key:"_onNewMemberComeIn",value:function(e){var t=e.payload,n=t.memberNum,r=t.groupProfile.groupID,o=this.groupController.getLocalGroupProfile(r);o&&Vs(n)&&(o.memberNum=n)}},{key:"_onMemberQuit",value:function(e){var t=e.payload,n=t.memberNum,r=t.groupProfile.groupID,o=this.groupController.getLocalGroupProfile(r);o&&Vs(n)&&(o.memberNum=n),this.groupController.deleteLocalGroupMembers(r,e.payload.userIDList)}},{key:"_onMemberKickedOut",value:function(e){var t=e.payload,n=t.memberNum,r=t.groupProfile.groupID,o=this.groupController.getLocalGroupProfile(r);o&&Vs(n)&&(o.memberNum=n),this.groupController.deleteLocalGroupMembers(r,e.payload.userIDList)}},{key:"_onMemberSetAdmin",value:function(e){var t=this,n=e.payload.groupProfile.groupID;e.payload.userIDList.forEach((function(e){var r=t.groupController.getLocalGroupMemberInfo(n,e);r&&r.updateRole(pn.GRP_MBR_ROLE_ADMIN)}))}},{key:"_onMemberCancelledAdmin",value:function(e){var t=this,n=e.payload.groupProfile.groupID;e.payload.userIDList.forEach((function(e){var r=t.groupController.getLocalGroupMemberInfo(n,e);r&&r.updateRole(pn.GRP_MBR_ROLE_MEMBER)}))}},{key:"_onGroupProfileModified",value:function(e){var t=this,n=e.payload.newGroupProfile,r=e.payload.groupProfile.groupID,o=this.groupController.getLocalGroupProfile(r);Object.keys(n).forEach((function(e){switch(e){case"ownerID":t._ownerChaged(o,n);break;default:o[e]=n[e]}})),this.groupController.emitGroupListUpdate(!0,!0)}},{key:"_ownerChaged",value:function(e,t){var n=e.groupID,r=this.groupController.getLocalGroupProfile(n),o=this.tim.context.identifier;if(o===t.ownerID){r.updateGroup({selfInfo:{role:pn.GRP_MBR_ROLE_OWNER}});var i=this.groupController.getLocalGroupMemberInfo(n,o),a=this.groupController.getLocalGroupProfile(n).ownerID,s=this.groupController.getLocalGroupMemberInfo(n,a);i&&i.updateRole(pn.GRP_MBR_ROLE_OWNER),s&&s.updateRole(pn.GRP_MBR_ROLE_MEMBER)}}},{key:"_onMemberInfoModified",value:function(e){var t=this,n=e.payload.groupProfile.groupID;e.payload.memberList.forEach((function(e){var r=t.groupController.getLocalGroupMemberInfo(n,e.userID);r&&e.muteTime&&r.updateMuteUntil(e.muteTime)}))}}]),e}(),Xy=function(){function e(t){Tn(this,e),this.groupController=t.groupController,this.tim=t.tim,this.pendencyMap=new Map,this._initLiceners()}return Dn(e,[{key:"_initLiceners",value:function(){this.tim.innerEmitter.on(ad,this._onReceivedGroupSystemNotice,this),this.tim.innerEmitter.on(ed,this._clearGroupSystemNotice,this)}},{key:"_clearGroupSystemNotice",value:function(){var e=this;this.getPendencyList().then((function(t){t.forEach((function(t){e.pendencyMap.set("".concat(t.from,"_").concat(t.groupID,"_").concat(t.to),t)}));var n=e.tim.messageController.getLocalMessageList(pn.CONV_SYSTEM),r=[];n.forEach((function(t){var n=t.payload,o=n.operatorID,i=n.operationType,a=n.groupProfile;if(i===Ul){var s="".concat(o,"_").concat(a.groupID,"_").concat(a.to),u=e.pendencyMap.get(s);u&&Vs(u.handled)&&0!==u.handled&&r.push(t)}})),e.groupController.deleteGroupSystemNotice({messageList:r})}))}},{key:"getPendencyList",value:function(e){var t=this;return this.groupController.request({name:"group",action:"getGroupPendency",param:{startTime:e&&e.startTime?e.startTime:0,limit:e&&e.limit?e.limit:10,handleAccount:this.tim.context.identifier}}).then((function(e){var n=e.data,r=n.pendencyList;return 0!==n.nextStartTime?t.getPendencyList({startTime:n.nextStartTime}).then((function(e){return[].concat(Bn(r),Bn(e))})):r}))}},{key:"_onReceivedGroupSystemNotice",value:function(e){var t=this,n=e.data,r=n.result;"sync"!==n.type&&r.forEach((function(e){switch(e.payload.operationType){case 1:t._onApplyGroupRequest(e);break;case 2:t._onApplyGroupRequestAgreed(e);break;case 3:t._onApplyGroupRequestRefused(e);break;case 4:t._onMemberKicked(e);break;case 5:t._onGroupDismissed(e);break;case 6:break;case 7:t._onInviteGroup(e);break;case 8:t._onQuitGroup(e);break;case 9:t._onSetManager(e);break;case 10:t._onDeleteManager(e);break;case 11:case 12:case 15:break;case 255:t.groupController.emitOuterEvent(fn.GROUP_SYSTEM_NOTICE_RECEIVED,{message:e,type:Yl})}}))}},{key:"_onApplyGroupRequest",value:function(e){this.groupController.emitOuterEvent(fn.GROUP_SYSTEM_NOTICE_RECEIVED,{message:e,type:Ul})}},{key:"_onApplyGroupRequestAgreed",value:function(e){var t=this,n=e.payload.groupProfile.groupID;this.groupController.hasLocalGroup(n)||this.groupController.getGroupProfile({groupID:n}).then((function(e){var n=e.data.group;n&&(t.groupController.updateGroupMap([n]),t.groupController.emitGroupListUpdate())})),this.groupController.emitOuterEvent(fn.GROUP_SYSTEM_NOTICE_RECEIVED,{message:e,type:ql})}},{key:"_onApplyGroupRequestRefused",value:function(e){this.groupController.emitOuterEvent(fn.GROUP_SYSTEM_NOTICE_RECEIVED,{message:e,type:jl})}},{key:"_onMemberKicked",value:function(e){var t=e.payload.groupProfile.groupID;this.groupController.hasLocalGroup(t)&&this.groupController.deleteLocalGroupAndConversation(t),this.groupController.emitOuterEvent(fn.GROUP_SYSTEM_NOTICE_RECEIVED,{message:e,type:Fl})}},{key:"_onGroupDismissed",value:function(e){var t=e.payload.groupProfile.groupID,n=this.groupController.hasLocalGroup(t),r=this.groupController.AVChatRoomHandler;n&&this.groupController.deleteLocalGroupAndConversation(t),r.checkJoinedAVChatRoomByID(t)&&r.reset(),this.groupController.emitOuterEvent(fn.GROUP_SYSTEM_NOTICE_RECEIVED,{message:e,type:$l})}},{key:"_onInviteGroup",value:function(e){var t=this,n=e.payload.groupProfile.groupID;this.groupController.hasLocalGroup(n)||this.groupController.getGroupProfile({groupID:n}).then((function(e){var n=e.data.group;n&&(t.groupController.updateGroupMap([n]),t.groupController.emitGroupListUpdate())})),this.groupController.emitOuterEvent(fn.GROUP_SYSTEM_NOTICE_RECEIVED,{message:e,type:Bl})}},{key:"_onQuitGroup",value:function(e){var t=e.payload.groupProfile.groupID;this.groupController.hasLocalGroup(t)&&this.groupController.deleteLocalGroupAndConversation(t),this.groupController.emitOuterEvent(fn.GROUP_SYSTEM_NOTICE_RECEIVED,{message:e,type:Hl})}},{key:"_onSetManager",value:function(e){var t=e.payload.groupProfile,n=t.to,r=t.groupID,o=this.groupController.getLocalGroupMemberInfo(r,n);o&&o.updateRole(pn.GRP_MBR_ROLE_ADMIN),this.groupController.emitOuterEvent(fn.GROUP_SYSTEM_NOTICE_RECEIVED,{message:e,type:Vl})}},{key:"_onDeleteManager",value:function(e){var t=e.payload.groupProfile,n=t.to,r=t.groupID,o=this.groupController.getLocalGroupMemberInfo(r,n);o&&o.updateRole(pn.GRP_MBR_ROLE_MEMBER),this.groupController.emitOuterEvent(fn.GROUP_SYSTEM_NOTICE_RECEIVED,{message:e,type:zl})}},{key:"reset",value:function(){this.pendencyMap.clear()}}]),e}(),Jy={3:!0,4:!0,5:!0,6:!0},Qy=function(){function e(t){var n=t.tim,r=t.groupController;Tn(this,e),this.tim=n,this.groupController=r,this.AVChatRoomLoop=null,this.key="",this.startSeq=0,this.group={}}return Dn(e,[{key:"hasJoinedAVChatRoom",value:function(){return!(!this.group||Xs(this.group.groupID))}},{key:"checkJoinedAVChatRoomByID",value:function(e){return!(!this.group&&Xs(this.group.groupID))&&e===this.group.groupID}},{key:"getJoinedAVChatRoom",value:function(){return this.hasJoinedAVChatRoom()?this.group:null}},{key:"_updateProperties",value:function(e){var t=this;Object.keys(e).forEach((function(n){t[n]=e[n]}))}},{key:"start",value:function(){var e={key:this.key,startSeq:this.startSeq};if(null===this.AVChatRoomLoop){var t=this.groupController.createTransportCapsule({name:"AVChatRoom",action:"startLongPoll",param:e});this.AVChatRoomLoop=this.tim.connectionController.createRunLoop({pack:t,before:this._updateRequestData.bind(this),success:this._handleSuccess.bind(this),fail:this._handleFailure.bind(this),isAVChatRoomLoop:!0}),this.AVChatRoomLoop.start(),Bs.log("AVChatRoomHandler.start message channel started")}else this.AVChatRoomLoop.isRunning()||this.AVChatRoomLoop.start()}},{key:"stop",value:function(){null!==this.AVChatRoomLoop&&this.AVChatRoomLoop.isRunning()&&(this.AVChatRoomLoop.abort(),this.AVChatRoomLoop.stop(),Bs.log("AVChatRoomHandler.stop message channel stopped"))}},{key:"startRunLoop",value:function(e){var t=this;return this._precheck().then((function(){var n=e.longPollingKey,r=e.group;return t._updateProperties({key:n,startSeq:0,group:r||{}}),t.groupController.updateGroupMap([r]),t.groupController.emitGroupListUpdate(!0,!1),t.start(),t.groupController.isLoggedIn()?rg({status:ku.SUCCESS,group:r}):rg({status:ku.SUCCESS})}))}},{key:"joinWithoutAuth",value:function(e){var t=this;return this.groupController.request({name:"group",action:"applyJoinAVChatRoom",param:e}).then((function(n){var r=n.data.longPollingKey;if(Xs(r))return og(new mf({code:ep,message:lh}));Bs.log("AVChatRoomHandler.joinWithoutAuth ok. groupID:",e.groupID),t.groupController.emitInnerEvent(Pd,e.groupID);var o=new ky({groupID:e.groupID});return t.startRunLoop({group:o,longPollingKey:r}),new eg({status:ku.SUCCESS})})).catch((function(t){return Bs.error("AVChatRoomHandler.joinWithoutAuth error:".concat(t.message,". groupID:").concat(e.groupID)),og(t)}))}},{key:"_precheck",value:function(){if(!this.hasJoinedAVChatRoom())return Promise.resolve();if(this.groupController.isLoggedIn()){if(this.group.selfInfo.role!==pn.GRP_MBR_ROLE_OWNER&&this.group.ownerID!==this.tim.loginInfo.identifier)return this.groupController.quitGroup(this.group.groupID);this.groupController.deleteLocalGroupAndConversation(this.group.groupID)}else this.groupController.deleteLocalGroupAndConversation(this.group.groupID);return this.reset(),Promise.resolve()}},{key:"_updateRequestData",value:function(e){e.StartSeq=this.startSeq,e.Key=this.key,this.tim.sumStatController.addTotalCount(ug)}},{key:"_handleSuccess",value:function(e){this.tim.sumStatController.addSuccessCount(ug),this.tim.sumStatController.addCost(ug,e.data.timecost),this.startSeq=e.data.nextSeq,this.key=e.data.key,Array.isArray(e.data.rspMsgList)&&e.data.rspMsgList.forEach((function(e){e.to=e.groupID})),e.data.rspMsgList&&e.data.rspMsgList.length>0&&this._dispatchNotice(e.data.rspMsgList),this.groupController.emitInnerEvent(Md)}},{key:"_handleFailure",value:function(e){if(e.error)if("ECONNABORTED"===e.error.code||e.error.code===dp)if(e.error.config){var t=e.error.config.url,n=e.error.config.data;Bs.log("AVChatRoomHandler._handleFailure request timed out. url=".concat(t," data=").concat(n))}else Bs.log("AVChatRoomHandler._handleFailure request timed out");else Bs.log("AVChatRoomHandler._handleFailure request failed due to network error");this.groupController.emitInnerEvent(wd)}},{key:"_dispatchNotice",value:function(e){if(Ws(e)&&0!==e.length){for(var t=null,n=[],r=[],o=0;o<e.length;o++)Jy[e[o].event]?(t=this.packMessage(e[o],e[o].event),this.tim.messageController.hasLocalMessage(t.conversationID,t.ID)||(t.conversationType===pn.CONV_SYSTEM&&r.push(t),n.push(t))):Bs.warn("AVChatRoomHandler._dispatchMessage 未处理的 event 类型：",e[o].event);if(r.length>0&&this.groupController.emitInnerEvent(ad,{result:r,eventDataList:[],type:"poll"}),0!==n.length){var i=this.packConversationOption(n);i.length>0&&this.groupController.emitInnerEvent(id,{eventDataList:i,type:"poll"}),Bs.debug("AVChatRoomHandler._dispatchNotice nums=".concat(n.length)),this.groupController.emitOuterEvent(fn.MESSAGE_RECEIVED,n)}}}},{key:"packMessage",value:function(e,t){e.currentUser=this.tim.context.identifier,e.conversationType=5===t?pn.CONV_SYSTEM:pn.CONV_GROUP,e.isSystemMessage=!!e.isSystemMessage;var n=new qh(e),r=this.packElements(e,t);return n.setElement(r),n}},{key:"packElements",value:function(e,t){return 4===t||6===t?{type:pn.MSG_GRP_TIP,content:xn({},e.elements,{groupProfile:e.groupProfile})}:5===t?{type:pn.MSG_GRP_SYS_NOTICE,content:xn({},e.elements,{groupProfile:e.groupProfile})}:this.tim.bigDataHallwayController.parseElements(e.elements,e.from)}},{key:"packConversationOption",value:function(e){for(var t=new Map,n=0;n<e.length;n++){var r=e[n],o=r.conversationID;if(t.has(o)){var i=t.get(o);i.lastMessage=r,"in"===r.flow&&i.unreadCount++}else t.set(o,{conversationID:r.conversationID,unreadCount:"out"===r.flow?0:1,type:r.conversationType,subType:r.conversationSubType,lastMessage:r})}return Bn(t.values())}},{key:"reset",value:function(){null!==this.AVChatRoomLoop&&(Bs.log("AVChatRoomHandler.reset"),this.stop(),this.AVChatRoomLoop=null,this.key="",this.startSeq=0,this.group={})}}]),e}(),Zy=function(e){function t(e){var n;return Tn(this,t),(n=Fn(this,Nn(t).call(this,e))).groupMap=new Map,n.groupMemberListMap=new Map,n.groupNoticeHandler=new Xy({tim:e,groupController:jn(n)}),n.groupTipsHandler=new Wy({tim:e,groupController:jn(n)}),n.AVChatRoomHandler=new Qy({tim:e,groupController:jn(n)}),n._initListeners(),n}return Ln(t,e),Dn(t,[{key:"createGroup",value:function(e){var t=this;if(!["Public","Private","ChatRoom","AVChatRoom"].includes(e.type)){var n=new mf({code:Kf,message:rh});return og(n)}mu(e.type)&&!Xs(e.memberList)&&e.memberList.length>0&&(Bs.warn("GroupController.createGroup 创建AVChatRoom时不能添加群成员，自动忽略该字段"),e.memberList=void 0),vu(e.type)||Xs(e.joinOption)||(Bs.warn("GroupController.createGroup 创建Private/ChatRoom/AVChatRoom群时不能设置字段：joinOption，自动忽略该字段"),e.joinOption=void 0);var r=new hg;return r.setMethod(Tg).setStart(),Bs.log("GroupController.createGroup."),this.request({name:"group",action:"create",param:e}).then((function(n){if(r.setCode(0).setNetworkType(t.getNetworkType()).setText("groupType=".concat(e.type," groupID=").concat(n.data.groupID)).setEnd(),Bs.log("GroupController.createGroup ok. groupID:",n.data.groupID),e.type===pn.GRP_AVCHATROOM)return t.getGroupProfile({groupID:n.data.groupID});t.updateGroupMap([xn({},e,{groupID:n.data.groupID})]);var o=t.tim.createCustomMessage({to:n.data.groupID,conversationType:pn.CONV_GROUP,payload:{data:"group_create",extension:"".concat(t.tim.context.identifier,"创建群组")}});return t.tim.sendMessage(o),t.emitGroupListUpdate(),t.getGroupProfile({groupID:n.data.groupID})})).then((function(e){var t=e.data.group;return t.selfInfo.messageRemindType=pn.MSG_REMIND_ACPT_AND_NOTE,t.selfInfo.role=pn.GRP_MBR_ROLE_OWNER,e})).catch((function(n){return r.setText("groupType=".concat(e.type)),t.probeNetwork().then((function(e){var t=$n(e,2),o=t[0],i=t[1];r.setError(n,o,i).setEnd()})),Bs.error("GroupController.createGroup error:",n),og(n)}))}},{key:"joinGroup",value:function(e){if(this.hasLocalGroup(e.groupID)){var t={status:pn.JOIN_STATUS_ALREADY_IN_GROUP};return rg(t)}if(e.type===pn.GRP_PRIVATE){var n=new mf({code:Yf,message:oh});return og(n)}return Bs.log("GroupController.joinGroup. groupID:",e.groupID),this.isLoggedIn()?this.applyJoinGroup(e):this.AVChatRoomHandler.joinWithoutAuth(e)}},{key:"quitGroup",value:function(e){var t=this;Bs.log("GroupController.quitGroup. groupID:",e);var n=this.AVChatRoomHandler.checkJoinedAVChatRoomByID(e);if(n&&!this.isLoggedIn())return Bs.log("GroupController.quitGroup anonymously ok. groupID:",e),this.deleteLocalGroupAndConversation(e),this.AVChatRoomHandler.reset(),rg({groupID:e});var r=new hg;return r.setMethod(Dg).setStart(),this.request({name:"group",action:"quitGroup",param:{groupID:e}}).then((function(){return r.setCode(0).setNetworkType(t.getNetworkType()).setText("groupID=".concat(e)).setEnd(),Bs.log("GroupController.quitGroup ok. groupID:",e),n&&t.AVChatRoomHandler.reset(),t.deleteLocalGroupAndConversation(e),new eg({groupID:e})})).catch((function(n){return r.setText("groupID=".concat(e)),t.probeNetwork().then((function(e){var t=$n(e,2),o=t[0],i=t[1];r.setError(n,o,i).setEnd()})),Bs.error("GroupController.quitGroup error.  error:".concat(n,". groupID:").concat(e)),og(n)}))}},{key:"changeGroupOwner",value:function(e){var t=this;if(this.hasLocalGroup(e.groupID)&&this.getLocalGroupProfile(e.groupID).type===pn.GRP_AVCHATROOM)return og(new mf({code:Wf,message:ih}));if(e.newOwnerID===this.tim.loginInfo.identifier)return og(new mf({code:Xf,message:ah}));var n=new hg;return n.setMethod(Ag).setStart(),Bs.log("GroupController.changeGroupOwner. groupID:",e.groupID),this.request({name:"group",action:"changeGroupOwner",param:e}).then((function(){n.setCode(0).setNetworkType(t.getNetworkType()).setText("groupID=".concat(e.groupID)).setEnd(),Bs.log("GroupController.changeGroupOwner ok. groupID:",e.groupID);var r=e.groupID,o=e.newOwnerID;t.groupMap.get(r).ownerID=o;var i=t.groupMemberListMap.get(r);if(i instanceof Map){var a=i.get(t.tim.loginInfo.identifier);Xs(a)||(a.updateRole("Member"),t.groupMap.get(r).selfInfo.role="Member");var s=i.get(o);Xs(s)||s.updateRole("Owner")}return t.emitGroupListUpdate(!0,!1),new eg({group:t.groupMap.get(r)})})).catch((function(r){return n.setText("groupID=".concat(e.groupID)),t.probeNetwork().then((function(e){var t=$n(e,2),o=t[0],i=t[1];n.setError(r,o,i).setEnd()})),Bs.error("GroupController.changeGroupOwner error:".concat(r,". groupID:").concat(e.groupID)),og(r)}))}},{key:"dismissGroup",value:function(e){var t=this;if(this.hasLocalGroup(e)&&this.getLocalGroupProfile(e).type===pn.GRP_PRIVATE)return og(new mf({code:Jf,message:sh}));var n=new hg;return n.setMethod(Rg).setStart(),Bs.log("GroupController.dismissGroup. groupID:".concat(e)),this.request({name:"group",action:"destroyGroup",param:{groupID:e}}).then((function(){return n.setCode(0).setNetworkType(t.getNetworkType()).setText("groupID=".concat(e)).setEnd(),Bs.log("GroupController.dismissGroup ok. groupID:".concat(e)),t.deleteLocalGroupAndConversation(e),t.checkJoinedAVChatRoomByID(e)&&t.AVChatRoomHandler.reset(),new eg({groupID:e})})).catch((function(r){return n.setText("groupID=".concat(e)),t.probeNetwork().then((function(e){var t=$n(e,2),o=t[0],i=t[1];n.setError(r,o,i).setEnd()})),Bs.error("GroupController.dismissGroup error:".concat(r,". groupID:").concat(e)),og(r)}))}},{key:"updateGroupProfile",value:function(e){var t=this;!this.hasLocalGroup(e.groupID)||vu(this.getLocalGroupProfile(e.groupID).type)||Xs(e.joinOption)||(Bs.warn("GroupController.modifyGroup: Private/ChatRoom/AVChatRoom群不能设置字段：joinOption，自动忽略该字段"),e.joinOption=void 0);var n=new hg;return n.setMethod(xg).setStart(),Bs.log("GroupController.modifyGroup. groupID:",e.groupID),this.request({name:"group",action:"updateGroupProfile",param:e}).then((function(){return n.setCode(0).setNetworkType(t.getNetworkType()).setText("groupID=".concat(e.groupID)).setEnd(),Bs.log("GroupController.modifyGroup ok. groupID:",e.groupID),t.hasLocalGroup(e.groupID)&&(t.groupMap.get(e.groupID).updateGroup(e),t._setStorageGroupList()),new eg({group:t.groupMap.get(e.groupID)})})).catch((function(r){return n.setText("groupID=".concat(e.groupID)),t.probeNetwork().then((function(e){var t=$n(e,2),o=t[0],i=t[1];n.setError(r,o,i).setEnd()})),Bs.log("GroupController.modifyGroup error. error:".concat(r," groupID:").concat(e.groupID)),og(r)}))}},{key:"setGroupMemberRole",value:function(e){var t=this,n=e.groupID,r=e.userID,o=e.role,i=this.groupMap.get(n);if(i.selfInfo.role!==pn.GRP_MBR_ROLE_OWNER)return og(new mf({code:np,message:ph}));if([pn.GRP_PRIVATE,pn.GRP_AVCHATROOM].includes(i.type))return og(new mf({code:rp,message:hh}));if([pn.GRP_MBR_ROLE_ADMIN,pn.GRP_MBR_ROLE_MEMBER].indexOf(o)<0)return og(new mf({code:op,message:dh}));if(r===this.tim.loginInfo.identifier)return og(new mf({code:ip,message:gh}));var a=new hg;return a.setMethod(qg).setStart(),a.setText("groupID=".concat(n," userID=").concat(r," role=").concat(o)),Bs.log("GroupController.setGroupMemberRole. groupID:".concat(n,". userID: ").concat(r)),this._modifyGroupMemberInfo({groupID:n,userID:r,role:o}).then((function(e){return a.setCode(0).setNetworkType(t.getNetworkType()).setEnd(),Bs.log("GroupController.setGroupMemberRole ok. groupID:".concat(n,". userID: ").concat(r)),new eg({group:i,member:e})})).catch((function(e){return t.probeNetwork().then((function(t){var n=$n(t,2),r=n[0],o=n[1];a.setError(e,r,o).setEnd()})),Bs.error("GroupController.setGroupMemberRole error:".concat(e,". groupID:").concat(n,". userID:").concat(r)),og(e)}))}},{key:"setGroupMemberMuteTime",value:function(e){var t=this,n=e.groupID,r=e.userID,o=e.muteTime;if(r===this.tim.loginInfo.identifier)return og(new mf({code:ap,message:vh}));Bs.log("GroupController.setGroupMemberMuteTime. groupID:".concat(n,". userID: ").concat(r));var i=new hg;return i.setMethod(Gg).setStart(),i.setText("groupID=".concat(n," userID=").concat(r," muteTime=").concat(o)),this._modifyGroupMemberInfo({groupID:n,userID:r,muteTime:o}).then((function(e){return i.setCode(0).setNetworkType(t.getNetworkType()).setEnd(),Bs.log("GroupController.setGroupMemberMuteTime ok. groupID:".concat(n,". userID: ").concat(r)),new eg({group:t.getLocalGroupProfile(n),member:e})})).catch((function(e){return t.probeNetwork().then((function(t){var n=$n(t,2),r=n[0],o=n[1];i.setError(e,r,o).setEnd()})),Bs.error("GroupController.setGroupMemberMuteTime error:".concat(e,". groupID:").concat(n,". userID:").concat(r)),og(e)}))}},{key:"setMessageRemindType",value:function(e){var t=this;Bs.log("GroupController.setMessageRemindType. groupID:".concat(e.groupID,". userID: ").concat(e.userID||this.tim.loginInfo.identifier));var n=e.groupID,r=e.messageRemindType;return this._modifyGroupMemberInfo({groupID:n,messageRemindType:r,userID:this.tim.loginInfo.identifier}).then((function(){Bs.log("GroupController.setMessageRemindType ok. groupID:".concat(e.groupID,". userID: ").concat(e.userID||t.tim.loginInfo.identifier));var n=t.getLocalGroupProfile(e.groupID);return n&&(n.selfInfo.messageRemindType=r),new eg({group:n})})).catch((function(n){return Bs.error("GroupController.setMessageRemindType error:".concat(n,". groupID:").concat(e.groupID,". userID:").concat(e.userID||t.tim.loginInfo.identifier)),og(n)}))}},{key:"setGroupMemberNameCard",value:function(e){var t=this,n=e.groupID,r=e.userID,o=void 0===r?this.tim.loginInfo.identifier:r,i=e.nameCard;Bs.log("GroupController.setGroupMemberNameCard. groupID:".concat(n,". userID: ").concat(o));var a=new hg;return a.setMethod(Ug).setStart(),a.setText("groupID=".concat(n," userID=").concat(o," nameCard=").concat(i)),this._modifyGroupMemberInfo({groupID:n,userID:o,nameCard:i}).then((function(e){Bs.log("GroupController.setGroupMemberNameCard ok. groupID:".concat(n,". userID: ").concat(o)),a.setCode(0).setNetworkType(t.getNetworkType()).setEnd();var r=t.getLocalGroupProfile(n);return o===t.tim.loginInfo.identifier&&r&&r.setSelfNameCard(i),new eg({group:r,member:e})})).catch((function(e){return t.probeNetwork().then((function(t){var n=$n(t,2),r=n[0],o=n[1];a.setError(e,r,o).setEnd()})),Bs.error("GroupController.setGroupMemberNameCard error:".concat(e,". groupID:").concat(n,". userID:").concat(o)),og(e)}))}},{key:"setGroupMemberCustomField",value:function(e){var t=this,n=e.groupID,r=e.userID,o=void 0===r?this.tim.loginInfo.identifier:r,i=e.memberCustomField;Bs.log("GroupController.setGroupMemberCustomField. groupID:".concat(n,". userID: ").concat(o));var a=new hg;return a.setMethod(jg).setStart(),a.setText("groupID=".concat(n," userID=").concat(o," memberCustomField=").concat(i)),this._modifyGroupMemberInfo({groupID:n,userID:o,memberCustomField:i}).then((function(e){return a.setCode(0).setNetworkType(t.getNetworkType()).setEnd(),Bs.log("GroupController.setGroupMemberCustomField ok. groupID:".concat(n,". userID: ").concat(o)),new eg({group:t.groupMap.get(n),member:e})})).catch((function(e){return t.probeNetwork().then((function(t){var n=$n(t,2),r=n[0],o=n[1];a.setError(e,r,o).setEnd()})),Bs.error("GroupController.setGroupMemberCustomField error:".concat(e,". groupID:").concat(n,". userID:").concat(o)),og(e)}))}},{key:"getGroupList",value:function(e){var t=this,n=new hg;n.setMethod(Lg).setStart(),Bs.log("GroupController.getGroupList");var r={introduction:"Introduction",notification:"Notification",createTime:"CreateTime",ownerID:"Owner_Account",lastInfoTime:"LastInfoTime",memberNum:"MemberNum",maxMemberNum:"MaxMemberNum",joinOption:"ApplyJoinOption"},o=["Type","Name","FaceUrl","NextMsgSeq","LastMsgTime"];return e&&e.groupProfileFilter&&e.groupProfileFilter.forEach((function(e){r[e]&&o.push(r[e])})),this.request({name:"group",action:"list",param:{responseFilter:{groupBaseInfoFilter:o,selfInfoFilter:["Role","JoinTime","MsgFlag"]}}}).then((function(e){var r=e.data.groups;return n.setCode(0).setNetworkType(t.getNetworkType()).setText(r.length).setEnd(),Bs.log("GroupController.getGroupList ok. nums=".concat(r.length)),t._groupListTreeShaking(r),t.updateGroupMap(r),t.tempConversationList&&(t._handleUpdateGroupLastMessage(t.tempConversationList),t.tempConversationList=null),t.emitGroupListUpdate(),new eg({groupList:t.getLocalGroups()})})).catch((function(e){return t.probeNetwork().then((function(t){var r=$n(t,2),o=r[0],i=r[1];n.setError(e,o,i).setEnd()})),Bs.error("GroupController.getGroupList error: ",e),og(e)}))}},{key:"getGroupMemberList",value:function(e){var t=this,n=e.groupID,r=e.offset,o=void 0===r?0:r,i=e.count,a=void 0===i?15:i;Bs.log("GroupController.getGroupMemberList groupID: ".concat(n," offset: ").concat(o," count: ").concat(a));var s=[];return this.request({name:"group",action:"getGroupMemberList",param:{groupID:n,offset:o,limit:a>100?100:a,memberInfoFilter:["Role","NameCard"]}}).then((function(e){var r=e.data,o=r.members,i=r.memberNum;return Ws(o)&&0!==o.length?(t.hasLocalGroup(n)&&(t.getLocalGroupProfile(n).memberNum=i),s=t._updateLocalGroupMemberMap(n,o),t.tim.getUserProfile({userIDList:o.map((function(e){return e.userID})),tagList:[Ql.NICK,Ql.AVATAR]})):Promise.resolve([])})).then((function(e){var r=e.data;if(!Ws(r)||0===r.length)return rg({memberList:[]});var o=r.map((function(e){return{userID:e.userID,nick:e.nick,avatar:e.avatar}}));return t._updateLocalGroupMemberMap(n,o),Bs.log("GroupController.getGroupMemberList ok."),new eg({memberList:s})})).catch((function(e){return Bs.error("GroupController.getGroupMemberList error: ",e),og(e)}))}},{key:"getLocalGroups",value:function(){return Bn(this.groupMap.values())}},{key:"getLocalGroupProfile",value:function(e){return this.groupMap.get(e)}},{key:"hasLocalGroup",value:function(e){return this.groupMap.has(e)}},{key:"getLocalGroupMemberInfo",value:function(e,t){return this.groupMemberListMap.has(e)?this.groupMemberListMap.get(e).get(t):null}},{key:"setLocalGroupMember",value:function(e,t){if(this.groupMemberListMap.has(e))this.groupMemberListMap.get(e).set(t.userID,t);else{var n=(new Map).set(t.userID,t);this.groupMemberListMap.set(e,n)}}},{key:"hasLocalGroupMember",value:function(e,t){return this.groupMemberListMap.has(e)&&this.groupMemberListMap.get(e).has(t)}},{key:"hasLocalGroupMemberMap",value:function(e){return this.groupMemberListMap.has(e)}},{key:"getGroupProfile",value:function(e){var t=this;Bs.log("GroupController.getGroupProfile. groupID:",e.groupID);var n=e.groupID,r=e.groupCustomFieldFilter,o={groupIDList:[n],responseFilter:{groupBaseInfoFilter:["Type","Name","Introduction","Notification","FaceUrl","Owner_Account","CreateTime","InfoSeq","LastInfoTime","LastMsgTime","MemberNum","MaxMemberNum","ApplyJoinOption","NextMsgSeq"],groupCustomFieldFilter:r}};return this.getGroupProfileAdvance(o).then((function(r){var o,i=r.data,a=i.successGroupList,s=i.failureGroupList;return Bs.log("GroupController.getGroupProfile ok. groupID:",e.groupID),s.length>0?og(s[0]):(mu(a[0].type)&&!t.hasLocalGroup(n)?o=new ky(a[0]):(t.updateGroupMap(a),o=t.getLocalGroupProfile(n)),o&&o.selfInfo&&!o.selfInfo.nameCard?t.updateSelfInfo(o).then((function(e){return new eg({group:e})})):new eg({group:o}))})).catch((function(t){return Bs.error("GroupController.getGroupProfile error:".concat(t,". groupID:").concat(e.groupID)),og(t)}))}},{key:"getGroupMemberProfile",value:function(e){var t=this;Bs.log("GroupController.getGroupMemberProfile groupID:".concat(e.groupID," userIDList:").concat(e.userIDList.join(","))),e.userIDList.length>50&&(e.userIDList=e.userIDList.slice(0,50));var n=e.groupID,r=e.userIDList;return this._getGroupMemberProfileAdvance(xn({},e,{userIDList:r})).then((function(e){var r=e.data.members;return Ws(r)&&0!==r.length?(t._updateLocalGroupMemberMap(n,r),t.tim.getUserProfile({userIDList:r.map((function(e){return e.userID})),tagList:[Ql.NICK,Ql.AVATAR]})):rg([])})).then((function(e){var o=e.data.map((function(e){return{userID:e.userID,nick:e.nick,avatar:e.avatar}}));t._updateLocalGroupMemberMap(n,o);var i=r.filter((function(e){return t.hasLocalGroupMember(n,e)})).map((function(e){return t.getLocalGroupMemberInfo(n,e)}));return new eg({memberList:i})}))}},{key:"_getGroupMemberProfileAdvance",value:function(e){return this.request({name:"group",action:"getGroupMemberProfile",param:xn({},e,{memberInfoFilter:e.memberInfoFilter?e.memberInfoFilter:["Role","JoinTime","NameCard","ShutUpUntil"]})})}},{key:"updateSelfInfo",value:function(e){var t=e.groupID;Bs.log("GroupController.updateSelfInfo groupID:",t);var n={groupID:t,userIDList:[this.tim.loginInfo.identifier]};return this.getGroupMemberProfile(n).then((function(n){var r=n.data.memberList;return Bs.log("GroupController.updateSelfInfo ok. groupID:",t),e&&0!==r.length&&e.updateSelfInfo(r[0]),e}))}},{key:"addGroupMember",value:function(e){var t=this.getLocalGroupProfile(e.groupID);if(mu(t.type)){var n=new mf({code:Zf,message:ch});return og(n)}return e.userIDList=e.userIDList.map((function(e){return{userID:e}})),Bs.log("GroupController.addGroupMember. groupID:",e.groupID),this.request({name:"group",action:"addGroupMember",param:e}).then((function(n){var r=n.data.members;Bs.log("GroupController.addGroupMember ok. groupID:",e.groupID);var o=r.filter((function(e){return 1===e.result})).map((function(e){return e.userID})),i=r.filter((function(e){return 0===e.result})).map((function(e){return e.userID})),a=r.filter((function(e){return 2===e.result})).map((function(e){return e.userID}));return 0===o.length?new eg({successUserIDList:o,failureUserIDList:i,existedUserIDList:a}):(t.memberNum+=o.length,new eg({successUserIDList:o,failureUserIDList:i,existedUserIDList:a,group:t}))})).catch((function(t){return Bs.error("GroupController.addGroupMember error:".concat(t,", groupID:").concat(e.groupID)),og(t)}))}},{key:"deleteGroupMember",value:function(e){var t=this;Bs.log("GroupController.deleteGroupMember groupID:".concat(e.groupID," userIDList:").concat(e.userIDList));var n=this.getLocalGroupProfile(e.groupID);return n.type===pn.GRP_AVCHATROOM?og(new mf({code:tp,message:fh})):this.request({name:"group",action:"deleteGroupMember",param:e}).then((function(){return Bs.log("GroupController.deleteGroupMember ok"),n.memberNum--,t.deleteLocalGroupMembers(e.groupID,e.userIDList),new eg({group:n,userIDList:e.userIDList})})).catch((function(t){return Bs.error("GroupController.deleteGroupMember error:".concat(t.code,", groupID:").concat(e.groupID)),og(t)}))}},{key:"searchGroupByID",value:function(e){var t={groupIDList:[e]};return Bs.log("GroupController.searchGroupByID. groupID:".concat(e)),this.request({name:"group",action:"searchGroupByID",param:t}).then((function(t){var n=t.data.groupProfile;if(Bs.log("GroupController.searchGroupByID ok. groupID:".concat(e)),n[0].errorCode!==Tu.SUCCESS)throw new mf({code:n[0].errorCode,message:n[0].errorInfo});return new eg({group:new ky(n[0])})})).catch((function(t){return Bs.error("GroupController.searchGroupByID error:".concat(t,", groupID:").concat(e)),og(t)}))}},{key:"applyJoinGroup",value:function(e){var t=this,n=new hg;return n.setMethod(Og).setStart(),this.request({name:"group",action:"applyJoinGroup",param:e}).then((function(r){var o=r.data,i=o.joinedStatus,a=o.longPollingKey;switch(n.setCode(0).setNetworkType(t.getNetworkType()).setText("groupID=".concat(e.groupID," joinedStatus=").concat(i)).setEnd(),Bs.log("GroupController.joinGroup ok. groupID:",e.groupID),i){case ku.WAIT_APPROVAL:return new eg({status:ku.WAIT_APPROVAL});case ku.SUCCESS:return t.getGroupProfile({groupID:e.groupID}).then((function(n){var r=n.data.group,o={status:ku.SUCCESS,group:r};return Xs(a)?new eg(o):(t.emitInnerEvent(Pd,e.groupID),t.AVChatRoomHandler.startRunLoop({longPollingKey:a,group:r}))}));default:var s=new mf({code:Qf,message:uh});return Bs.error("GroupController.joinGroup error:".concat(s,". groupID:").concat(e.groupID)),og(s)}})).catch((function(r){return n.setText("groupID=".concat(e.groupID)),t.probeNetwork().then((function(e){var t=$n(e,2),o=t[0],i=t[1];n.setError(r,o,i).setEnd()})),Bs.error("GroupController.joinGroup error:".concat(r,". groupID:").concat(e.groupID)),og(r)}))}},{key:"applyJoinAVChatRoom",value:function(e){return this.AVChatRoomHandler.applyJoinAVChatRoom(e)}},{key:"handleGroupApplication",value:function(e){var t=this,n=e.message.payload,r=n.groupProfile.groupID,o=n.authentication,i=n.messageKey,a=n.operatorID;return Bs.log("GroupController.handleApplication. groupID:",r),this.request({name:"group",action:"handleApplyJoinGroup",param:xn({},e,{applicant:a,groupID:r,authentication:o,messageKey:i})}).then((function(){return Bs.log("GroupController.handleApplication ok. groupID:",r),t.deleteGroupSystemNotice({messageList:[e.message]}),new eg({group:t.getLocalGroupProfile(r)})})).catch((function(e){return Bs.error("GroupController.handleApplication error.  error:".concat(e,". groupID:").concat(r)),og(e)}))}},{key:"deleteGroupSystemNotice",value:function(e){var t=this;return Ws(e.messageList)&&0!==e.messageList.length?(Bs.log("GroupController.deleteGroupSystemNotice "+e.messageList.map((function(e){return e.ID}))),this.request({name:"group",action:"deleteGroupSystemNotice",param:{messageListToDelete:e.messageList.map((function(e){return{from:pn.CONV_SYSTEM,messageSeq:e.clientSequence,messageRandom:e.random}}))}}).then((function(){return Bs.log("GroupController.deleteGroupSystemNotice ok"),e.messageList.forEach((function(e){t.tim.messageController.deleteLocalMessage(e)})),new eg})).catch((function(e){return Bs.error("GroupController.deleteGroupSystemNotice error:",e),og(e)}))):rg()}},{key:"getGroupProfileAdvance",value:function(e){return Ws(e.groupIDList)&&e.groupIDList.length>50&&(Bs.warn("GroupController.getGroupProfileAdvance 获取群资料的数量不能超过50个"),e.groupIDList.length=50),Bs.log("GroupController.getGroupProfileAdvance. groupIDList:",e.groupIDList),this.request({name:"group",action:"query",param:e}).then((function(e){Bs.log("GroupController.getGroupProfileAdvance ok.");var t=e.data.groups,n=t.filter((function(e){return Xs(e.errorCode)||e.errorCode===Tu.SUCCESS})),r=t.filter((function(e){return e.errorCode&&e.errorCode!==Tu.SUCCESS})).map((function(e){return new mf({code:Number("500".concat(e.errorCode)),message:e.errorInfo,data:{groupID:e.groupID}})}));return new eg({successGroupList:n,failureGroupList:r})})).catch((function(t){return Bs.error("GroupController.getGroupProfileAdvance error:".concat(t,". groupID:").concat(e.groupID)),og(t)}))}},{key:"_deleteLocalGroup",value:function(e){return this.groupMap.delete(e),this.groupMemberListMap.delete(e),this._setStorageGroupList(),this.groupMap.has(e)&&this.groupMemberListMap.has(e)}},{key:"_initGroupList",value:function(){var e=this,t=new hg;t.setMethod(Ng).setStart(),Bs.time(fg),Bs.log("GroupController._initGroupList");var n=this._getStorageGroupList();Ws(n)&&n.length>0?(n.forEach((function(t){e.groupMap.set(t.groupID,new ky(t))})),this.emitGroupListUpdate(!0,!1),t.setCode(0).setNetworkType(this.getNetworkType()).setText(this.groupMap.size).setEnd()):t.setCode(0).setNetworkType(this.getNetworkType()).setText(0).setEnd(),this.triggerReady(),Bs.log("GroupController._initGroupList ok. initCost=".concat(Bs.timeEnd(fg),"ms")),this.getGroupList()}},{key:"_initListeners",value:function(){var e=this.tim.innerEmitter;e.once(Jh,this._initGroupList,this),e.on(Rd,this._handleUpdateGroupLastMessage,this),e.on(id,this._handleReceivedGroupMessage,this),e.on(Nd,this._handleProfileUpdated,this)}},{key:"emitGroupListUpdate",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.getLocalGroups();t&&this.emitInnerEvent(Ed,n),e&&this.emitOuterEvent(fn.GROUP_LIST_UPDATED,n)}},{key:"_handleReceivedGroupMessage",value:function(e){var t=this,n=e.data.eventDataList;Array.isArray(n)&&n.forEach((function(e){var n=e.conversationID.replace(pn.CONV_GROUP,"");t.groupMap.has(n)&&(t.groupMap.get(n).nextMessageSeq=e.lastMessage.sequence+1)}))}},{key:"_onReceivedGroupSystemNotice",value:function(e){var t=e.data;this.groupNoticeHandler._onReceivedGroupNotice(t)}},{key:"_handleUpdateGroupLastMessage",value:function(e){var t=e.data;if(0!==this.groupMap.size){for(var n=!1,r=0;r<t.length;r++){var o=t[r],i=o.type===pn.CONV_GROUP;if(o.conversationID&&i){var a=o.conversationID.split(/^GROUP/)[1],s=this.getLocalGroupProfile(a);s&&(s.lastMessage=o.lastMessage,n=!0)}}n&&(this.groupMap=this._sortLocalGroupList(this.groupMap),this.emitGroupListUpdate(!0,!1))}else this.tempConversationList=t}},{key:"_sortLocalGroupList",value:function(e){var t=Bn(e).filter((function(e){var t=$n(e,2);return t[0],!Cu(t[1].lastMessage)}));return t.sort((function(e,t){return t[1].lastMessage.lastTime-e[1].lastMessage.lastTime})),new Map([].concat(Bn(t),Bn(e)))}},{key:"_getStorageGroupList",value:function(){return this.tim.storage.getItem("groupMap")}},{key:"_setStorageGroupList",value:function(){var e=this.getLocalGroups().filter((function(e){var t=e.type;return!mu(t)})).slice(0,20).map((function(e){return{groupID:e.groupID,name:e.name,avatar:e.avatar,type:e.type}}));this.tim.storage.setItem("groupMap",e)}},{key:"updateGroupMap",value:function(e){var t=this;e.forEach((function(e){t.groupMap.has(e.groupID)?t.groupMap.get(e.groupID).updateGroup(e):t.groupMap.set(e.groupID,new ky(e))})),this._setStorageGroupList()}},{key:"_updateLocalGroupMemberMap",value:function(e,t){var n=this;return Ws(t)&&0!==t.length?t.map((function(t){return n.hasLocalGroupMember(e,t.userID)?n.getLocalGroupMemberInfo(e,t.userID).updateMember(t):n.setLocalGroupMember(e,new Yy(t)),n.getLocalGroupMemberInfo(e,t.userID)})):[]}},{key:"deleteLocalGroupMembers",value:function(e,t){var n=this.groupMemberListMap.get(e);n&&t.forEach((function(e){n.delete(e)}))}},{key:"_modifyGroupMemberInfo",value:function(e){var t=this,n=e.groupID,r=e.userID;return this.request({name:"group",action:"modifyGroupMemberInfo",param:e}).then((function(){if(t.hasLocalGroupMember(n,r)){var o=t.getLocalGroupMemberInfo(n,r);return Xs(e.muteTime)||o.updateMuteUntil(e.muteTime),Xs(e.role)||o.updateRole(e.role),Xs(e.nameCard)||o.updateNameCard(e.nameCard),Xs(e.memberCustomField)||o.updateMemberCustomField(e.memberCustomField),o}return t.getGroupMemberProfile({groupID:n,userIDList:[r]}).then((function(e){return $n(e.data.memberList,1)[0]}))}))}},{key:"_groupListTreeShaking",value:function(e){for(var t=new Map(Bn(this.groupMap)),n=0,r=e.length;n<r;n++)t.delete(e[n].groupID);this.AVChatRoomHandler.hasJoinedAVChatRoom()&&t.delete(this.AVChatRoomHandler.group.groupID);for(var o=Bn(t.keys()),i=0,a=o.length;i<a;i++)this.groupMap.delete(o[i])}},{key:"_handleProfileUpdated",value:function(e){for(var t=this,n=e.data,r=function(e){var r=n[e];t.groupMemberListMap.forEach((function(e){e.has(r.userID)&&e.get(r.userID).updateMember({nick:r.nick,avatar:r.avatar})}))},o=0;o<n.length;o++)r(o)}},{key:"getJoinedAVChatRoom",value:function(){return this.AVChatRoomHandler.getJoinedAVChatRoom()}},{key:"deleteLocalGroupAndConversation",value:function(e){this._deleteLocalGroup(e),this.tim.conversationController.deleteLocalConversation("GROUP".concat(e)),this.emitGroupListUpdate(!0,!1)}},{key:"checkJoinedAVChatRoomByID",value:function(e){return this.AVChatRoomHandler.checkJoinedAVChatRoomByID(e)}},{key:"getGroupLastSequence",value:function(e){var t=this,n=new hg;n.setMethod(Pg).setStart();var r=0;if(this.hasLocalGroup(e)){var o=this.getLocalGroupProfile(e);if(o.lastMessage.lastSequence>0)return r=o.lastMessage.lastSequence,Bs.log("GroupController.getGroupLastSequence got lastSequence=".concat(r," from local group profile[lastMessage.lastSequence]. groupID=").concat(e)),n.setCode(0).setNetworkType(this.getNetworkType()).setText("got lastSequence=".concat(r," from local group profile[lastMessage.lastSequence]. groupID=").concat(e)).setEnd(),Promise.resolve(r);if(o.nextMessageSeq>1)return r=o.nextMessageSeq-1,Bs.log("GroupController.getGroupLastSequence got lastSequence=".concat(r," from local group profile[nextMessageSeq]. groupID=").concat(e)),n.setCode(0).setNetworkType(this.getNetworkType()).setText("got lastSequence=".concat(r," from local group profile[nextMessageSeq]. groupID=").concat(e)).setEnd(),Promise.resolve(r)}var i="GROUP".concat(e),a=this.tim.conversationController.getLocalConversation(i);if(a&&a.lastMessage.lastSequence)return r=a.lastMessage.lastSequence,Bs.log("GroupController.getGroupLastSequence got lastSequence=".concat(r," from local conversation profile[lastMessage.lastSequence]. groupID=").concat(e)),n.setCode(0).setNetworkType(this.getNetworkType()).setText("got lastSequence=".concat(r," from local conversation profile[lastMessage.lastSequence]. groupID=").concat(e)).setEnd(),Promise.resolve(r);var s={groupIDList:[e],responseFilter:{groupBaseInfoFilter:["NextMsgSeq"]}};return this.getGroupProfileAdvance(s).then((function(o){var i=o.data.successGroupList;return r=i[0].nextMessageSeq-1,Bs.log("GroupController.getGroupLastSequence got lastSequence=".concat(r," from getGroupProfileAdvance. groupID=").concat(e)),n.setCode(0).setNetworkType(t.getNetworkType()).setText("got lastSequence=".concat(r," from getGroupProfileAdvance. groupID=").concat(e)).setEnd(),r})).catch((function(r){return t.probeNetwork().then((function(t){var o=$n(t,2),i=o[0],a=o[1];n.setError(r,i,a).setText("get lastSequence failed from getGroupProfileAdvance. groupID=".concat(e)).setEnd()})),Bs.warn("GroupController.getGroupLastSequence failed. ".concat(r)),og(r)}))}},{key:"reset",value:function(){this.groupMap.clear(),this.groupMemberListMap.clear(),this.resetReady(),this.groupNoticeHandler.reset(),this.AVChatRoomHandler.reset(),this.tim.innerEmitter.once(Jh,this._initGroupList,this)}}]),t}(Jd),e_=function(e){function t(e){var n;Tn(this,t),(n=Fn(this,Nn(t).call(this,e))).REALTIME_MESSAGE_TIMEOUT=11e4,n.LONGPOLLING_ID_TIMEOUT=3e5,n._currentState=pn.NET_STATE_CONNECTED,n._status={OPENIM:{lastResponseReceivedTime:0,jitterCount:0,failedCount:0},AVCHATROOM:{lastResponseReceivedTime:0,jitterCount:0,failedCount:0}};var r=n.tim.innerEmitter;return r.on(ud,n._onGetLongPollIDFailed,jn(n)),r.on(ld,n._onOpenIMResponseOK,jn(n)),r.on(cd,n._onOpenIMRequestFailed,jn(n)),r.on(Md,n._onAVChatroomResponseOK,jn(n)),r.on(wd,n._onAVChatroomRequestFailed,jn(n)),n}return Ln(t,e),Dn(t,[{key:"_onGetLongPollIDFailed",value:function(){this._currentState!==pn.NET_STATE_DISCONNECTED&&this._emitNetStateChangeEvent(pn.NET_STATE_DISCONNECTED)}},{key:"_onOpenIMResponseOK",value:function(){this._onResponseOK("OPENIM")}},{key:"_onOpenIMRequestFailed",value:function(){this._onRequestFailed("OPENIM")}},{key:"_onAVChatroomResponseOK",value:function(){this.isLoggedIn()||this._onResponseOK("AVCHATROOM")}},{key:"_onAVChatroomRequestFailed",value:function(){this.isLoggedIn()||this._onRequestFailed("AVCHATROOM")}},{key:"_onResponseOK",value:function(e){var t=this._status[e],n=Date.now();if(0!==t.lastResponseReceivedTime){var r=n-t.lastResponseReceivedTime;if(Bs.debug("StatusController._onResponseOK key=".concat(e," currentState=").concat(this._currentState," interval=").concat(r," failedCount=").concat(t.failedCount," jitterCount=").concat(t.jitterCount)),t.failedCount>0&&(t.failedCount=0,t.jitterCount+=1,this._currentState!==pn.NET_STATE_CONNECTED&&this._emitNetStateChangeEvent(pn.NET_STATE_CONNECTED)),r<=this.REALTIME_MESSAGE_TIMEOUT){if(t.jitterCount>=3){var o=new hg;o.setMethod(Bg).setStart(),o.setCode(0).setText("".concat(e,"-").concat(r,"-").concat(t.jitterCount)).setNetworkType(this.getNetworkType()).setEnd(),t.jitterCount=0}}else if(r>=this.REALTIME_MESSAGE_TIMEOUT&&r<this.LONGPOLLING_ID_TIMEOUT){var i=new hg;i.setMethod(Hg).setStart(),i.setCode(0).setText("".concat(e,"-").concat(r)).setNetworkType(this.getNetworkType()).setEnd(),Bs.warn("StatusController._onResponseOK, fast start. key=".concat(e," interval=").concat(r," ms")),this.emitInnerEvent(fd)}else if(r>=this.LONGPOLLING_ID_TIMEOUT){var a=new hg;a.setMethod(Vg).setStart(),a.setCode(0).setText("".concat(e,"-").concat(r)).setNetworkType(this.getNetworkType()).setEnd(),Bs.warn("StatusController._onResponseOK, slow start. key=".concat(e," interval=").concat(r," ms")),this.emitInnerEvent(pd)}t.lastResponseReceivedTime=n}else t.lastResponseReceivedTime=n}},{key:"_onRequestFailed",value:function(e){var t=this,n=this._status[e];Date.now()-n.lastResponseReceivedTime>=this.LONGPOLLING_ID_TIMEOUT?this._currentState!==pn.NET_STATE_DISCONNECTED&&(Bs.warn("StatusController._onRequestFailed, disconnected, longpolling unavailable more than 5min. key=".concat(e," networkType=").concat(this.getNetworkType())),this._emitNetStateChangeEvent(pn.NET_STATE_DISCONNECTED)):(n.failedCount+=1,n.failedCount>5?this.probeNetwork().then((function(r){var o=$n(r,2),i=o[0],a=o[1];i?(t._currentState!==pn.NET_STATE_CONNECTING&&t._emitNetStateChangeEvent(pn.NET_STATE_CONNECTING),Bs.warn("StatusController._onRequestFailed, connecting, network jitter. key=".concat(e," networkType=").concat(a))):(t._currentState!==pn.NET_STATE_DISCONNECTED&&t._emitNetStateChangeEvent(pn.NET_STATE_DISCONNECTED),Bs.warn("StatusController._onRequestFailed, disconnected, longpolling unavailable. key=".concat(e," networkType=").concat(a))),n.failedCount=0,n.jitterCount=0})):this._currentState===pn.NET_STATE_CONNECTED&&this._emitNetStateChangeEvent(pn.NET_STATE_CONNECTING))}},{key:"_emitNetStateChangeEvent",value:function(e){Bs.log("StatusController._emitNetStateChangeEvent net state changed from ".concat(this._currentState," to ").concat(e)),this._currentState=e,this.emitOuterEvent(fn.NET_STATE_CHANGE,{state:e})}},{key:"reset",value:function(){Bs.log("StatusController.reset"),this._currentState=pn.NET_STATE_CONNECTED,this._status={OPENIM:{lastResponseReceivedTime:0,jitterCount:0,failedCount:0},AVCHATROOM:{lastResponseReceivedTime:0,jitterCount:0,failedCount:0}}}}]),t}(Jd);function t_(){return null}var n_=function(){function e(t){Tn(this,e),this.tim=t,this.isWX=ds,this.storageQueue=new Map,this.checkTimes=0,this.checkTimer=setInterval(this._onCheckTimer.bind(this),1e3),this._errorTolerantHandle()}return Dn(e,[{key:"_errorTolerantHandle",value:function(){!this.isWX&&Xs(window.localStorage)&&(this.getItem=t_,this.setItem=t_,this.removeItem=t_,this.clear=t_)}},{key:"_onCheckTimer",value:function(){if(this.checkTimes++,this.checkTimes%20==0){if(0===this.storageQueue.size)return;this._doFlush()}}},{key:"_doFlush",value:function(){try{var e=!0,t=!1,n=void 0;try{for(var r,o=this.storageQueue[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var i=$n(r.value,2),a=i[0],s=i[1];this.isWX?wx.setStorageSync(this._getKey(a),s):localStorage.setItem(this._getKey(a),JSON.stringify(s))}}catch(c){t=!0,n=c}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}this.storageQueue.clear()}catch(q_){Bs.warn("Storage._doFlush error",q_)}}},{key:"_getPrefix",value:function(){var e=this.tim.loginInfo,t=e.SDKAppID,n=e.identifier;return"TIM_".concat(t,"_").concat(n,"_")}},{key:"getItem",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];try{var n=t?this._getKey(e):e;return this.isWX?wx.getStorageSync(n):JSON.parse(localStorage.getItem(n))}catch(q_){Bs.warn("Storage.getItem error:",q_)}}},{key:"setItem",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(n){var o=r?this._getKey(e):e;this.isWX?wx.setStorageSync(o,t):localStorage.setItem(o,JSON.stringify(t))}else this.storageQueue.set(e,t)}},{key:"clear",value:function(){try{this.isWX?wx.clearStorageSync():localStorage.clear()}catch(q_){Bs.warn("Storage.clear error:",q_)}}},{key:"removeItem",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];try{var n=t?this._getKey(e):e;this.isWX?wx.removeStorageSync(n):localStorage.removeItem(n)}catch(q_){Bs.warn("Storage.removeItem error:",q_)}}},{key:"getSize",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"b";try{var r={size:0,limitSize:5242880,unit:n};if(Object.defineProperty(r,"leftSize",{enumerable:!0,get:function(){return r.limitSize-r.size}}),this.isWX&&(r.limitSize=1024*wx.getStorageInfoSync().limitSize),e)r.size=JSON.stringify(this.getItem(e)).length+this._getKey(e).length;else if(this.isWX){var o=wx.getStorageInfoSync(),i=o.keys;i.forEach((function(e){r.size+=JSON.stringify(wx.getStorageSync(e)).length+t._getKey(e).length}))}else for(var a in localStorage)localStorage.hasOwnProperty(a)&&(r.size+=localStorage.getItem(a).length+a.length);return this._convertUnit(r)}catch(q_){Bs.warn("Storage.getSize error:",q_)}}},{key:"_convertUnit",value:function(e){var t={},n=e.unit;for(var r in t.unit=n,e)"number"==typeof e[r]&&("kb"===n.toLowerCase()?t[r]=Math.round(e[r]/1024):"mb"===n.toLowerCase()?t[r]=Math.round(e[r]/1024/1024):t[r]=e[r]);return t}},{key:"_getKey",value:function(e){return"".concat(this._getPrefix()).concat(e)}},{key:"reset",value:function(){this._doFlush(),this.checkTimes=0}}]),e}(),r_=n((function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}function o(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function i(e,t,r,i,a){if("function"!=typeof r)throw new TypeError("The listener must be a function");var s=new o(r,i||e,a),u=n?n+t:t;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],s]:e._events[u].push(s):(e._events[u]=s,e._eventsCount++),e}function a(e,t){0==--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,o=[];if(0===this._eventsCount)return o;for(r in e=this._events)t.call(e,r)&&o.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(e)):o},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var o=0,i=r.length,a=new Array(i);o<i;o++)a[o]=r[o].fn;return a},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,o,i,a){var s=n?n+e:e;if(!this._events[s])return!1;var u,c,l=this._events[s],f=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),f){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,r),!0;case 4:return l.fn.call(l.context,t,r,o),!0;case 5:return l.fn.call(l.context,t,r,o,i),!0;case 6:return l.fn.call(l.context,t,r,o,i,a),!0}for(c=1,u=new Array(f-1);c<f;c++)u[c-1]=arguments[c];l.fn.apply(l.context,u)}else{var p,h=l.length;for(c=0;c<h;c++)switch(l[c].once&&this.removeListener(e,l[c].fn,void 0,!0),f){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,t);break;case 3:l[c].fn.call(l[c].context,t,r);break;case 4:l[c].fn.call(l[c].context,t,r,o);break;default:if(!u)for(p=1,u=new Array(f-1);p<f;p++)u[p-1]=arguments[p];l[c].fn.apply(l[c].context,u)}}return!0},s.prototype.on=function(e,t,n){return i(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return i(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,o){var i=n?n+e:e;if(!this._events[i])return this;if(!t)return a(this,i),this;var s=this._events[i];if(s.fn)s.fn!==t||o&&!s.once||r&&s.context!==r||a(this,i);else{for(var u=0,c=[],l=s.length;u<l;u++)(s[u].fn!==t||o&&!s[u].once||r&&s[u].context!==r)&&c.push(s[u]);c.length?this._events[i]=1===c.length?c[0]:c:a(this,i)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s})),o_=function(e){var t,n,r,o,i;return Cu(e.context)?(t="",n=0,r=0,o=0,i=1):(t=e.context.a2Key,n=e.context.tinyID,r=e.context.SDKAppID,o=e.context.contentType,i=e.context.apn),{platform:Hh,websdkappid:Bh,v:$h,a2:t,tinyid:n,sdkappid:r,contentType:o,apn:i,reqtime:function(){return+new Date}}},i_=function(){function e(t){Tn(this,e),this.tim=t,this.tim.innerEmitter.on(Wh,this._update,this),this.tim.innerEmitter.on(Xh,this._update,this),this.tim.innerEmitter.on(Qh,this._updateSpecifiedConfig,this),this._initConfig()}return Dn(e,[{key:"_update",value:function(e){this._initConfig()}},{key:"_updateSpecifiedConfig",value:function(e){var t=this;e.data.forEach((function(e){t._set(e)}))}},{key:"get",value:function(e){var t=e.name,n=e.action,r=e.param,o=e.tjgID;if(Xs(this.config[t])||Xs(this.config[t][n]))throw new mf({code:mp,message:"".concat(Mh,": PackageConfig.").concat(t)});var i=function e(t){if(0===Object.getOwnPropertyNames(t).length)return Object.create(null);var n=Array.isArray(t)?[]:Object.create(null),r="";for(var o in t)null!==t[o]?void 0!==t[o]?(r=kn(t[o]),["string","number","function","boolean"].indexOf(r)>=0?n[o]=t[o]:n[o]=e(t[o])):n[o]=void 0:n[o]=null;return n}(this.config[t][n]);return i.requestData=this._initRequestData(r,i),i.encode=this._initEncoder(i),i.decode=this._initDecoder(i),o&&(i.queryString.tjg_id=o),i}},{key:"_set",value:function(e){var t=e.key,n=e.value;if(0!=!!t){var r=t.split(".");r.length<=0||function e(t,n,r,o){var i=n[r];"object"===kn(t[i])?e(t[i],n,r+1,o):t[i]=o}(this.config,r,0,n)}}},{key:"_initConfig",value:function(){var e;this.config={},this.config.accessLayer=(e=this.tim,{create:null,query:{serverName:Kh.NAME.WEB_IM,cmd:Kh.CMD.ACCESS_LAYER,channel:Kh.CHANNEL.XHR,protocol:zh,method:"POST",queryString:{platform:Hh,identifier:e.context.identifier,usersig:e.context.userSig,contentType:e.context.contentType,apn:null!==e.context?e.context.apn:1,websdkappid:Bh,v:$h},requestData:{}},update:null,delete:null}),this.config.login=function(e){return{create:null,query:{serverName:Kh.NAME.OPEN_IM,cmd:Kh.CMD.LOGIN,channel:Kh.CHANNEL.XHR,protocol:zh,method:"POST",queryString:{websdkappid:Bh,v:$h,platform:Hh,identifier:e.loginInfo.identifier,usersig:e.loginInfo.userSig,sdkappid:e.loginInfo.SDKAppID,accounttype:e.loginInfo.accountType,contentType:null!==e.context?e.context.contentType:0,apn:null!==e.context?e.context.apn:1,reqtime:+new Date/1e3},requestData:{state:"Online"},keyMaps:{request:{tinyID:"tinyId"},response:{TinyId:"tinyID"}}},update:null,delete:null}}(this.tim),this.config.logout=function(e){return{create:null,query:{serverName:Kh.NAME.OPEN_IM,cmd:Kh.CMD.LOGOUT_ALL,channel:Kh.CHANNEL.XHR,protocol:zh,method:"POST",queryString:{websdkappid:Bh,v:$h,platform:Hh,a2:null!==e.context?e.context.a2Key:"",tinyid:null!==e.context?e.context.tinyID:"",sdkappid:null!==e.loginInfo?e.loginInfo.SDKAppID:0,contentType:null!==e.context?e.context.contentType:0,apn:null!==e.context?e.context.apn:"",reqtime:+new Date/1e3},requestData:{}},update:null,delete:null}}(this.tim),this.config.longPollLogout=function(e){return{create:null,query:{serverName:Kh.NAME.OPEN_IM,cmd:Kh.CMD.LOGOUT_LONG_POLL,channel:Kh.CHANNEL.XHR,protocol:zh,method:"POST",queryString:{websdkappid:Bh,v:$h,platform:Hh,a2:null!==e.context?e.context.a2Key:"",tinyid:null!==e.context?e.context.tinyID:0,sdkappid:null!==e.context?e.context.SDKAppID:0,contentType:null!==e.context?e.context.contentType:0,apn:null!==e.context?e.context.apn:1,reqtime:function(){return Date.now()}},requestData:{longPollID:""},keyMaps:{request:{longPollID:"LongPollingId"}}},update:null,delete:null}}(this.tim),this.config.profile=function(e){var t=o_(e),n=Kh.NAME.PROFILE,r=Kh.CHANNEL.XHR,o=zh;return{query:{serverName:n,cmd:Kh.CMD.PORTRAIT_GET,channel:r,protocol:o,method:"POST",queryString:t,requestData:{fromAccount:"",userItem:[]},keyMaps:{request:{toAccount:"To_Account",standardSequence:"StandardSequence",customSequence:"CustomSequence"}}},update:{serverName:n,cmd:Kh.CMD.PORTRAIT_SET,channel:r,protocol:o,method:"POST",queryString:t,requestData:{fromAccount:"",profileItem:[{tag:Ql.NICK,value:""},{tag:Ql.GENDER,value:""},{tag:Ql.ALLOWTYPE,value:""},{tag:Ql.AVATAR,value:""}]}}}}(this.tim),this.config.group=function(e){var t={websdkappid:Bh,v:$h,platform:Hh,a2:null!==e.context&&e.context.a2Key?e.context.a2Key:void 0,tinyid:null!==e.context&&e.context.tinyID?e.context.tinyID:void 0,sdkappid:null!==e.context?e.context.SDKAppID:0,contentType:null!==e.context?e.context.contentType:0,accounttype:null!==e.context?e.context.accountType:0},n={request:{ownerID:"Owner_Account",userID:"Member_Account",newOwnerID:"NewOwner_Account",maxMemberNum:"MaxMemberCount",groupCustomField:"AppDefinedData",memberCustomField:"AppMemberDefinedData",groupCustomFieldFilter:"AppDefinedDataFilter_Group",memberCustomFieldFilter:"AppDefinedDataFilter_GroupMember",messageRemindType:"MsgFlag",userIDList:"MemberList",groupIDList:"GroupIdList",applyMessage:"ApplyMsg",muteTime:"ShutUpTime",joinOption:"ApplyJoinOption"},response:{GroupIdList:"groups",MsgFlag:"messageRemindType",AppDefinedData:"groupCustomField",AppMemberDefinedData:"memberCustomField",AppDefinedDataFilter_Group:"groupCustomFieldFilter",AppDefinedDataFilter_GroupMember:"memberCustomFieldFilter",InfoSeq:"infoSequence",MemberList:"members",GroupInfo:"groups",ShutUpUntil:"muteUntil",ApplyJoinOption:"joinOption"}};return{create:{serverName:Kh.NAME.GROUP,cmd:Kh.CMD.CREATE_GROUP,channel:Kh.CHANNEL.XHR,protocol:zh,queryString:t,requestData:{type:pn.GRP_PRIVATE,name:void 0,groupID:void 0,ownerID:e.loginInfo.identifier,introduction:void 0,notification:void 0,avatar:void 0,maxMemberNum:void 0,joinOption:void 0,memberList:void 0,groupCustomField:void 0},keyMaps:n},list:{serverName:Kh.NAME.GROUP,cmd:Kh.CMD.GET_JOINED_GROUPS,channel:Kh.CHANNEL.XHR,protocol:zh,queryString:t,requestData:{userID:e.loginInfo.identifier,limit:void 0,offset:void 0,groupType:void 0,responseFilter:void 0},keyMaps:n},query:{serverName:Kh.NAME.GROUP,cmd:Kh.CMD.GET_GROUP_INFO,channel:Kh.CHANNEL.XHR,protocol:zh,queryString:t,requestData:{groupIDList:void 0,responseFilter:void 0},keyMaps:n},getGroupMemberProfile:{serverName:Kh.NAME.GROUP,cmd:Kh.CMD.GET_GROUP_MEMBER_INFO,channel:Kh.CHANNEL.XHR,protocol:zh,queryString:t,requestData:{groupID:void 0,userIDList:void 0,memberInfoFilter:void 0,memberCustomFieldFilter:void 0},keyMaps:{request:xn({},n.request,{userIDList:"Member_List_Account"}),response:n.response}},getGroupMemberList:{serverName:Kh.NAME.GROUP,cmd:Kh.CMD.GET_GROUP_MEMBER_LIST,channel:Kh.CHANNEL.XHR,protocol:zh,queryString:t,requestData:{groupID:void 0,limit:0,offset:0,memberRoleFilter:void 0,memberInfoFilter:void 0},keyMaps:n},quitGroup:{serverName:Kh.NAME.GROUP,cmd:Kh.CMD.QUIT_GROUP,channel:Kh.CHANNEL.XHR,protocol:zh,queryString:t,requestData:{groupID:void 0}},changeGroupOwner:{serverName:Kh.NAME.GROUP,cmd:Kh.CMD.CHANGE_GROUP_OWNER,channel:Kh.CHANNEL.XHR,protocol:zh,queryString:t,requestData:{groupID:void 0,newOwnerID:void 0},keyMaps:n},destroyGroup:{serverName:Kh.NAME.GROUP,cmd:Kh.CMD.DESTROY_GROUP,channel:Kh.CHANNEL.XHR,protocol:zh,queryString:t,requestData:{groupID:void 0}},updateGroupProfile:{serverName:Kh.NAME.GROUP,cmd:Kh.CMD.MODIFY_GROUP_INFO,channel:Kh.CHANNEL.XHR,protocol:zh,queryString:t,requestData:{groupID:void 0,name:void 0,introduction:void 0,notification:void 0,avatar:void 0,maxMemberNum:void 0,joinOption:void 0,groupCustomField:void 0},keyMaps:{request:xn({},n.request,{groupCustomField:"AppDefinedData"}),response:n.response}},modifyGroupMemberInfo:{serverName:Kh.NAME.GROUP,cmd:Kh.CMD.MODIFY_GROUP_MEMBER_INFO,channel:Kh.CHANNEL.XHR,protocol:zh,queryString:t,requestData:{groupID:void 0,userID:void 0,messageRemindType:void 0,nameCard:void 0,role:void 0,memberCustomField:void 0,muteTime:void 0},keyMaps:n},addGroupMember:{serverName:Kh.NAME.GROUP,cmd:Kh.CMD.ADD_GROUP_MEMBER,channel:Kh.CHANNEL.XHR,protocol:zh,queryString:t,requestData:{groupID:void 0,silence:void 0,userIDList:void 0},keyMaps:n},deleteGroupMember:{serverName:Kh.NAME.GROUP,cmd:Kh.CMD.DELETE_GROUP_MEMBER,channel:Kh.CHANNEL.XHR,protocol:zh,queryString:t,requestData:{groupID:void 0,userIDList:void 0,reason:void 0},keyMaps:{request:{userIDList:"MemberToDel_Account"}}},searchGroupByID:{serverName:Kh.NAME.GROUP,cmd:Kh.CMD.SEARCH_GROUP_BY_ID,channel:Kh.CHANNEL.XHR,protocol:zh,queryString:t,requestData:{groupIDList:void 0,responseFilter:{groupBasePublicInfoFilter:["Type","Name","Introduction","Notification","FaceUrl","CreateTime","Owner_Account","LastInfoTime","LastMsgTime","NextMsgSeq","MemberNum","MaxMemberNum","ApplyJoinOption"]}},keyMaps:{request:{groupIDList:"GroupIdList"}}},applyJoinGroup:{serverName:Kh.NAME.GROUP,cmd:Kh.CMD.APPLY_JOIN_GROUP,channel:Kh.CHANNEL.XHR,protocol:zh,queryString:t,requestData:{groupID:void 0,applyMessage:void 0,userDefinedField:void 0},keyMaps:n},applyJoinAVChatRoom:{serverName:Kh.NAME.BIG_GROUP_NO_AUTH,cmd:Kh.CMD.APPLY_JOIN_GROUP,channel:Kh.CHANNEL.XHR,protocol:zh,queryString:{websdkappid:Bh,v:$h,platform:Hh,sdkappid:null!==e.context?e.context.SDKAppID:0,contentType:null!==e.context?e.context.contentType:0,accounttype:null!==e.context?e.context.accountType:0},requestData:{groupID:void 0,applyMessage:void 0,userDefinedField:void 0},keyMaps:n},handleApplyJoinGroup:{serverName:Kh.NAME.GROUP,cmd:Kh.CMD.HANDLE_APPLY_JOIN_GROUP,channel:Kh.CHANNEL.XHR,protocol:zh,queryString:t,requestData:{groupID:void 0,applicant:void 0,handleAction:void 0,handleMessage:void 0,authentication:void 0,messageKey:void 0,userDefinedField:void 0},keyMaps:{request:{applicant:"Applicant_Account",handleAction:"HandleMsg",handleMessage:"ApprovalMsg",messageKey:"MsgKey"},response:{MsgKey:"messageKey"}}},deleteGroupSystemNotice:{serverName:Kh.NAME.OPEN_IM,cmd:Kh.CMD.DELETE_GROUP_SYSTEM_MESSAGE,channel:Kh.CHANNEL.XHR,protocol:zh,queryString:t,requestData:{messageListToDelete:void 0},keyMaps:{request:{messageListToDelete:"DelMsgList",messageSeq:"MsgSeq",messageRandom:"MsgRandom"}}},getGroupPendency:{serverName:Kh.NAME.GROUP,cmd:Kh.CMD.GET_GROUP_PENDENCY,channel:Kh.CHANNEL.XHR,protocol:zh,queryString:t,requestData:{startTime:void 0,limit:void 0,handleAccount:void 0},keyMaps:{request:{handleAccount:"Handle_Account"}}}}}(this.tim),this.config.longPollID=function(e){return{create:{},query:{serverName:Kh.NAME.OPEN_IM,cmd:Kh.CMD.GET_LONG_POLL_ID,channel:Kh.CHANNEL.XHR,protocol:zh,queryString:{websdkappid:Bh,v:$h,platform:Hh,a2:null!==e.context?e.context.a2Key:"",tinyid:null!==e.context?e.context.tinyID:0,sdkappid:null!==e.context?e.context.SDKAppID:0,contentType:null!==e.context?e.context.contentType:0,apn:null!==e.context?e.context.apn:1,reqtime:+new Date/1e3},requestData:{},keyMaps:{response:{LongPollingId:"longPollingID"}}},update:{},delete:{}}}(this.tim),this.config.longPoll=function(e){var t={websdkappid:Bh,v:$h,platform:Hh,a2:null!==e.context?e.context.a2Key:"",tinyid:null!==e.context?e.context.tinyID:0,sdkappid:null!==e.context?e.context.SDKAppID:0,contentType:null!==e.context?e.context.contentType:0,accounttype:null!==e.context?e.loginInfo.accountType:0,apn:null!==e.context?e.context.apn:1,reqtime:Math.ceil(+new Date/1e3)};return{create:{},query:{serverName:Kh.NAME.OPEN_IM,cmd:Kh.CMD.LONG_POLL,channel:Kh.CHANNEL.AUTO,protocol:zh,queryString:t,requestData:{timeout:null,cookie:{notifySeq:0,noticeSeq:0,longPollingID:0}},keyMaps:{response:{C2cMsgArray:"C2CMessageArray",GroupMsgArray:"groupMessageArray",GroupTips:"groupTips",C2cNotifyMsgArray:"C2CNotifyMessageArray",ClientSeq:"clientSequence",MsgPriority:"priority",NoticeSeq:"noticeSequence",MsgContent:"content",MsgType:"type",MsgBody:"elements",ToGroupId:"to",Desc:"description",Ext:"extension"}}},update:{},delete:{}}}(this.tim),this.config.applyC2C=function(e){var t=o_(e),n=Kh.NAME.FRIEND,r=Kh.CHANNEL.XHR,o=zh;return{create:{serverName:n,cmd:Kh.CMD.FRIEND_ADD,channel:r,protocol:o,queryString:t,requestData:{fromAccount:"",addFriendItem:[]}},get:{serverName:n,cmd:Kh.CMD.GET_PENDENCY,channel:r,protocol:o,queryString:t,requestData:{fromAccount:"",pendencyType:"Pendency_Type_ComeIn"}},update:{serverName:n,cmd:Kh.CMD.RESPONSE_PENDENCY,channel:r,protocol:o,queryString:t,requestData:{fromAccount:"",responseFriendItem:[]}},delete:{serverName:n,cmd:Kh.CMD.DELETE_PENDENCY,channel:r,protocol:o,queryString:t,requestData:{fromAccount:"",toAccount:[],pendencyType:"Pendency_Type_ComeIn"}}}}(this.tim),this.config.friend=function(e){var t=o_(e),n=Kh.NAME.FRIEND,r=Kh.CHANNEL.XHR,o=zh;return{get:{serverName:n,cmd:Kh.CMD.FRIEND_GET_ALL,channel:r,protocol:o,method:"POST",queryString:t,requestData:{fromAccount:"",timeStamp:0,startIndex:0,getCount:100,lastStandardSequence:0,tagList:["Tag_Profile_IM_Nick","Tag_SNS_IM_Remark"]},keyMaps:{request:{},response:{}}},delete:{serverName:n,cmd:Kh.CMD.FRIEND_DELETE,channel:r,protocol:o,method:"POST",queryString:t,requestData:{fromAccount:"",toAccount:[],deleteType:"Delete_Type_Single"}}}}(this.tim),this.config.blacklist=function(e){var t=o_(e);return{create:{serverName:Kh.NAME.FRIEND,cmd:Kh.CMD.ADD_BLACKLIST,channel:Kh.CHANNEL.XHR,protocol:zh,method:"POST",queryString:t,requestData:{fromAccount:"",toAccount:[]}},get:{serverName:Kh.NAME.FRIEND,cmd:Kh.CMD.GET_BLACKLIST,channel:Kh.CHANNEL.XHR,protocol:zh,method:"POST",queryString:t,requestData:{fromAccount:"",startIndex:0,maxLimited:30,lastSequence:0}},delete:{serverName:Kh.NAME.FRIEND,cmd:Kh.CMD.DELETE_BLACKLIST,channel:Kh.CHANNEL.XHR,protocol:zh,method:"POST",queryString:t,requestData:{fromAccount:"",toAccount:[]}},update:{}}}(this.tim),this.config.c2cMessage=function(e){var t={platform:Hh,websdkappid:Bh,v:$h,a2:null!==e.context?e.context.a2Key:"",tinyid:null!==e.context?e.context.tinyID:0,sdkappid:null!==e.context?e.context.SDKAppID:0,contentType:null!==e.context?e.context.contentType:0,apn:null!==e.context?e.context.apn:1,reqtime:function(){return+new Date}},n={request:{fromAccount:"From_Account",toAccount:"To_Account",msgTimeStamp:"MsgTimeStamp",msgSeq:"MsgSeq",msgRandom:"MsgRandom",msgBody:"MsgBody",count:"MaxCnt",lastMessageTime:"LastMsgTime",messageKey:"MsgKey",peerAccount:"Peer_Account",data:"Data",description:"Desc",extension:"Ext",type:"MsgType",content:"MsgContent",sizeType:"Type",uuid:"UUID",imageUrl:"URL",fileUrl:"Url",remoteAudioUrl:"Url",remoteVideoUrl:"VideoUrl",thumbUUID:"ThumbUUID",videoUUID:"VideoUUID",videoUrl:"",downloadFlag:"Download_Flag"},response:{MsgContent:"content",MsgTime:"time",Data:"data",Desc:"description",Ext:"extension",MsgKey:"messageKey",MsgType:"type",MsgBody:"elements",Download_Flag:"downloadFlag"}};return{create:{serverName:Kh.NAME.OPEN_IM,cmd:Kh.CMD.SEND_MESSAGE,channel:Kh.CHANNEL.XHR,protocol:zh,method:"POST",queryString:t,requestData:{fromAccount:e.loginInfo.identifier,toAccount:"",msgTimeStamp:Math.ceil(+new Date/1e3),msgSeq:0,msgRandom:0,msgBody:[]},keyMaps:n},query:{serverName:Kh.NAME.OPEN_IM,cmd:Kh.CMD.GET_C2C_ROAM_MESSAGES,channel:Kh.CHANNEL.XHR,protocol:zh,method:"POST",queryString:t,requestData:{peerAccount:"",count:15,lastMessageTime:0,messageKey:"",withRecalledMsg:1},keyMaps:n},update:null,delete:null}}(this.tim),this.config.c2cMessageWillBeRevoked=function(e){var t={platform:Hh,websdkappid:Bh,v:$h,a2:null!==e.context?e.context.a2Key:"",tinyid:null!==e.context?e.context.tinyID:0,sdkappid:null!==e.context?e.context.SDKAppID:0,contentType:null!==e.context?e.context.contentType:0,apn:null!==e.context?e.context.apn:1,reqtime:function(){return+new Date}};return{create:{serverName:Kh.NAME.OPEN_IM,cmd:Kh.CMD.REVOKE_C2C_MESSAGE,channel:Kh.CHANNEL.XHR,protocol:zh,method:"POST",queryString:t,requestData:{msgInfo:{fromAccount:"",toAccount:"",msgTimeStamp:Math.ceil(+new Date/1e3),msgSeq:0,msgRandom:0}},keyMaps:{request:{msgInfo:"MsgInfo",fromAccount:"From_Account",toAccount:"To_Account",msgTimeStamp:"MsgTimeStamp",msgSeq:"MsgSeq",msgRandom:"MsgRandom",msgBody:"MsgBody"}}}}}(this.tim),this.config.groupMessage=function(e){var t={platform:Hh,websdkappid:Bh,v:$h,a2:null!==e.context?e.context.a2Key:"",tinyid:null!==e.context?e.context.tinyID:0,sdkappid:null!==e.context?e.context.SDKAppID:0,contentType:null!==e.context?e.context.contentType:0,apn:null!==e.context?e.context.apn:1,reqtime:function(){return+new Date}},n={request:{to:"GroupId",extension:"Ext",data:"Data",description:"Desc",random:"Random",sequence:"ReqMsgSeq",count:"ReqMsgNumber",type:"MsgType",priority:"MsgPriority",content:"MsgContent",elements:"MsgBody",sizeType:"Type",uuid:"UUID",imageUrl:"URL",fileUrl:"Url",remoteAudioUrl:"Url",remoteVideoUrl:"VideoUrl",thumbUUID:"ThumbUUID",videoUUID:"VideoUUID",videoUrl:"",downloadFlag:"Download_Flag",clientSequence:"ClientSeq"},response:{Random:"random",MsgTime:"time",MsgSeq:"sequence",ReqMsgSeq:"sequence",RspMsgList:"messageList",IsPlaceMsg:"isPlaceMessage",IsSystemMsg:"isSystemMessage",ToGroupId:"to",EnumFrom_AccountType:"fromAccountType",EnumTo_AccountType:"toAccountType",GroupCode:"groupCode",MsgPriority:"priority",MsgBody:"elements",MsgType:"type",MsgContent:"content",IsFinished:"complete",Download_Flag:"downloadFlag",ClientSeq:"clientSequence"}};return{create:{serverName:Kh.NAME.GROUP,cmd:Kh.CMD.SEND_GROUP_MESSAGE,channel:Kh.CHANNEL.XHR,protocol:zh,method:"POST",queryString:t,requestData:{groupID:"",fromAccount:e.loginInfo.identifier,random:0,clientSequence:0,priority:"",msgBody:[]},keyMaps:n},query:{serverName:Kh.NAME.GROUP,cmd:Kh.CMD.GET_GROUP_ROAM_MESSAGES,channel:Kh.CHANNEL.XHR,protocol:zh,method:"POST",queryString:t,requestData:{withRecalledMsg:1,groupID:"",count:15,sequence:""},keyMaps:n},update:null,delete:null}}(this.tim),this.config.groupMessageWillBeRevoked=function(e){var t={platform:Hh,websdkappid:Bh,v:$h,a2:null!==e.context?e.context.a2Key:"",tinyid:null!==e.context?e.context.tinyID:0,sdkappid:null!==e.context?e.context.SDKAppID:0,contentType:null!==e.context?e.context.contentType:0,apn:null!==e.context?e.context.apn:1,reqtime:function(){return+new Date}};return{create:{serverName:Kh.NAME.GROUP,cmd:Kh.CMD.REVOKE_GROUP_MESSAGE,channel:Kh.CHANNEL.XHR,protocol:zh,method:"POST",queryString:t,requestData:{to:"",msgSeqList:[]},keyMaps:{request:{to:"GroupId",msgSeqList:"MsgSeqList",msgSeq:"MsgSeq"}}}}}(this.tim),this.config.conversation=function(e){var t={platform:Hh,websdkappid:Bh,v:$h,a2:null!==e.context?e.context.a2Key:"",tinyid:null!==e.context?e.context.tinyID:0,sdkappid:null!==e.context?e.context.SDKAppID:0,contentType:null!==e.context?e.context.contentType:0,apn:null!==e.context?e.context.apn:1};return{query:{serverName:Kh.NAME.RECENT_CONTACT,cmd:Kh.CMD.GET_CONVERSATION_LIST,channel:Kh.CHANNEL.XHR,protocol:zh,method:"POST",queryString:t,requestData:{fromAccount:e.loginInfo.identifier,count:0},keyMaps:{request:{},response:{SessionItem:"conversations",ToAccount:"groupID",To_Account:"userID",UnreadMsgCount:"unreadCount",MsgGroupReadedSeq:"messageReadSeq"}}},pagingQuery:{serverName:Kh.NAME.RECENT_CONTACT,cmd:Kh.CMD.PAGING_GET_CONVERSATION_LIST,channel:Kh.CHANNEL.XHR,protocol:zh,method:"POST",queryString:t,requestData:{fromAccount:void 0,timeStamp:void 0,orderType:void 0},keyMaps:{request:{},response:{SessionItem:"conversations",ToAccount:"groupID",To_Account:"userID",UnreadMsgCount:"unreadCount",MsgGroupReadedSeq:"messageReadSeq"}}},delete:{serverName:Kh.NAME.RECENT_CONTACT,cmd:Kh.CMD.DELETE_CONVERSATION,channel:Kh.CHANNEL.XHR,protocol:zh,method:"POST",queryString:t,requestData:{fromAccount:e.loginInfo.identifier,toAccount:void 0,type:1,toGroupID:void 0},keyMaps:{request:{toGroupID:"ToGroupid"}}},setC2CMessageRead:{serverName:Kh.NAME.OPEN_IM,cmd:Kh.CMD.SET_C2C_MESSAGE_READ,channel:Kh.CHANNEL.XHR,protocol:zh,method:"POST",queryString:t,requestData:{C2CMsgReaded:void 0},keyMaps:{request:{lastMessageTime:"LastedMsgTime"}}},setGroupMessageRead:{serverName:Kh.NAME.GROUP,cmd:Kh.CMD.SET_GROUP_MESSAGE_READ,channel:Kh.CHANNEL.XHR,protocol:zh,method:"POST",queryString:t,requestData:{groupID:void 0,messageReadSeq:void 0},keyMaps:{request:{messageReadSeq:"MsgReadedSeq"}}}}}(this.tim),this.config.syncMessage=function(e){var t={platform:Hh,websdkappid:Bh,v:$h,a2:null!==e.context?e.context.a2Key:"",tinyid:null!==e.context?e.context.tinyID:0,sdkappid:null!==e.context?e.context.SDKAppID:0,contentType:null!==e.context?e.context.contentType:0,apn:null!==e.context?e.context.apn:1,reqtime:function(){return[Math.ceil(+new Date),Math.random()].join("")}};return{create:null,query:{serverName:Kh.NAME.OPEN_IM,cmd:Kh.CMD.GET_MESSAGES,channel:Kh.CHANNEL.XHR,protocol:zh,method:"POST",queryString:t,requestData:{cookie:"",syncFlag:0,needAbstract:1},keyMaps:{request:{fromAccount:"From_Account",toAccount:"To_Account",from:"From_Account",to:"To_Account",time:"MsgTimeStamp",sequence:"MsgSeq",random:"MsgRandom",elements:"MsgBody"},response:{MsgList:"messageList",SyncFlag:"syncFlag",To_Account:"to",From_Account:"from",ClientSeq:"clientSequence",MsgSeq:"sequence",NoticeSeq:"noticeSequence",NotifySeq:"notifySequence",MsgRandom:"random",MsgTimeStamp:"time",MsgContent:"content",ToGroupId:"groupID",MsgKey:"messageKey",GroupTips:"groupTips",MsgBody:"elements",MsgType:"type",C2CRemainingUnreadCount:"C2CRemainingUnreadList"}}},update:null,delete:null}}(this.tim),this.config.AVChatRoom=function(e){return{startLongPoll:{serverName:Kh.NAME.BIG_GROUP_LONG_POLLING_NO_AUTH,cmd:Kh.CMD.AVCHATROOM_LONG_POLL,channel:Kh.CHANNEL.XHR,protocol:zh,method:"POST",queryString:{websdkappid:Bh,v:$h,platform:Hh,sdkappid:e.loginInfo.SDKAppID,accounttype:"792",apn:null!==e.context?e.context.apn:1,reqtime:function(){return+new Date}},requestData:{USP:1,startSeq:1,holdTime:90,key:void 0},keyMaps:{request:{USP:"USP"},response:{ToGroupId:"groupID",MsgPriority:"priority"}}}}}(this.tim),this.config.cosUpload=function(e){var t={platform:Hh,websdkappid:Bh,v:$h,a2:null!==e.context?e.context.a2Key:"",tinyid:null!==e.context?e.context.tinyID:0,sdkappid:null!==e.context?e.context.SDKAppID:0,contentType:null!==e.context?e.context.contentType:0,apn:null!==e.context?e.context.apn:1,reqtime:function(){return Date.now()}};return{create:{serverName:Kh.NAME.OPEN_IM,cmd:Kh.CMD.FILE_UPLOAD,channel:Kh.CHANNEL.XHR,protocol:zh,method:"POST",queryString:t,requestData:{appVersion:"2.1",fromAccount:"",toAccount:"",sequence:0,time:function(){return Math.ceil(Date.now()/1e3)},random:function(){return uu()},fileStrMd5:"",fileSize:"",serverVer:1,authKey:"",busiId:1,pkgFlag:1,sliceOffset:0,sliceSize:0,sliceData:"",contentType:"application/x-www-form-urlencoded"},keyMaps:{request:{},response:{}}},update:null,delete:null}}(this.tim),this.config.cosSig=function(e){var t={sdkappid:function(){return e.loginInfo.SDKAppID},identifier:function(){return e.loginInfo.identifier},userSig:function(){return e.context.userSig}};return{create:null,query:{serverName:Kh.NAME.IM_COS_SIGN,cmd:Kh.CMD.COS_SIGN,channel:Kh.CHANNEL.XHR,protocol:zh,method:"POST",queryString:t,requestData:{cmd:"open_im_cos_svc",subCmd:"get_cos_token",duration:300,version:2},keyMaps:{request:{userSig:"usersig",subCmd:"sub_cmd",cmd:"cmd",duration:"duration",version:"version"},response:{expired_time:"expiredTime",bucket_name:"bucketName",session_token:"sessionToken",tmp_secret_id:"secretId",tmp_secret_key:"secretKey"}}},update:null,delete:null}}(this.tim),this.config.bigDataHallwayAuthKey=function(e){return{create:null,query:{serverName:Kh.NAME.OPEN_IM,cmd:Kh.CMD.BIG_DATA_HALLWAY_AUTH_KEY,channel:Kh.CHANNEL.XHR,protocol:zh,method:"POST",queryString:{websdkappid:Bh,v:$h,platform:Hh,sdkappid:e.loginInfo.SDKAppID,accounttype:"792",apn:null!==e.context?e.context.apn:1,reqtime:function(){return+new Date}},requestData:{}}}}(this.tim),this.config.ssoEventStat=function(e){var t={sdkappid:e.loginInfo.SDKAppID,reqtime:Math.ceil(+new Date/1e3)};return{create:{serverName:Kh.NAME.IM_OPEN_STAT,cmd:Kh.CMD.TIM_WEB_REPORT,channel:Kh.CHANNEL.AUTO,protocol:zh,queryString:t,requestData:{table:"",report:[]},keyMaps:{request:{table:"table",report:"report",SDKAppID:"sdkappid",version:"version",tinyID:"tinyid",userID:"userid",platform:"platform",method:"method",time:"time",start:"start",end:"end",cost:"cost",status:"status",codeint:"codeint",message:"message",pointer:"pointer",text:"text",msgType:"msgtype",networkType:"networktype",startts:"startts",endts:"endts",timespan:"timespan"}}},query:{},update:{},delete:{}}}(this.tim),this.config.ssoSumStat=function(e){var t=null;return null!==e.context&&(t={sdkappid:e.context.SDKAppID,reqtime:Math.ceil(+new Date/1e3)}),{create:{serverName:Kh.NAME.IM_OPEN_STAT,cmd:Kh.CMD.TIM_WEB_REPORT,channel:Kh.CHANNEL.AUTO,protocol:zh,queryString:t,requestData:{table:"",report:[]},keyMaps:{request:{table:"table",report:"report",SDKAppID:"sdkappid",version:"version",tinyID:"tinyid",userID:"userid",item:"item",lpID:"lpid",platform:"platform",networkType:"networktype",total:"total",successRate:"successrate",avg:"avg",timespan:"timespan",time:"time"}}},query:{},update:{},delete:{}}}(this.tim)}},{key:"_initRequestData",value:function(e,t){if(void 0===e)return Hd(t.requestData,this._getRequestMap(t),this.tim);var n=t.requestData,r=Object.create(null);for(var o in n)if(Object.prototype.hasOwnProperty.call(n,o)){if(r[o]="function"==typeof n[o]?n[o]():n[o],void 0===e[o])continue;r[o]=e[o]}return Hd(r,this._getRequestMap(t),this.tim)}},{key:"_getRequestMap",value:function(e){if(e.keyMaps&&e.keyMaps.request&&Object.keys(e.keyMaps.request).length>0)return e.keyMaps.request}},{key:"_initEncoder",value:function(e){switch(e.protocol){case zh:return function(e){if("string"===kn(e))try{return JSON.parse(e)}catch(q_){return e}return e};case Vh:return function(e){return e};default:return function(e){return Bs.warn("PackageConfig._initEncoder(), unknow response type, data: ",JSON.stringify(e)),e}}}},{key:"_initDecoder",value:function(e){switch(e.protocol){case zh:return function(e){if("string"===kn(e))try{return JSON.parse(e)}catch(q_){return e}return e};case Vh:return function(e){return e};default:return function(e){return Bs.warn("PackageConfig._initDecoder(), unknow response type, data: ",e),e}}}}]),e}(),a_=Math.floor;De({target:"Number",stat:!0},{isInteger:function(e){return!m(e)&&isFinite(e)&&a_(e)===e}});var s_=function(){for(var e=[],t=u_(arguments),n=0;n<arguments.length;n++)Number.isInteger(arguments[n])?e.push(arguments[n]):e.push(1==!!arguments[n]?"1":"0");return e.join(t)},u_=function(e){var t=e.length,n=e[t-1];if("string"!=typeof n)return"";if(n.length>1)return"";var r=e[t-1];return delete e[t-1],e.length-=t===e.length?1:0,r},c_={C2CMessageArray:1,groupMessageArray:1,groupTips:1,C2CNotifyMessageArray:1,profileModify:1,friendListMod:1},l_=function(e){function t(e){var n;return Tn(this,t),(n=Fn(this,Nn(t).call(this,e)))._initialization(),n}return Ln(t,e),Dn(t,[{key:"_initialization",value:function(){this._syncOffset="",this._syncNoticeList=[],this._syncEventArray=[],this._syncMessagesIsRunning=!1,this._syncMessagesFinished=!1,this._isLongPoll=!1,this._longPollID=0,this._noticeSequence=0,this._initializeListener(),this._runLoop=null,this._initShuntChannels()}},{key:"_initShuntChannels",value:function(){this._shuntChannels=Object.create(null),this._shuntChannels.C2CMessageArray=this._C2CMessageArrayChannel.bind(this),this._shuntChannels.groupMessageArray=this._groupMessageArrayChannel.bind(this),this._shuntChannels.groupTips=this._groupTipsChannel.bind(this),this._shuntChannels.C2CNotifyMessageArray=this._C2CNotifyMessageArrayChannel.bind(this),this._shuntChannels.profileModify=this._profileModifyChannel.bind(this),this._shuntChannels.friendListMod=this._friendListModChannel.bind(this)}},{key:"_C2CMessageArrayChannel",value:function(e,t,n){this.emitInnerEvent(gd,t)}},{key:"_groupMessageArrayChannel",value:function(e,t,n){this.emitInnerEvent(vd,t)}},{key:"_groupTipsChannel",value:function(e,t,n){var r=this;switch(e){case 4:this.emitInnerEvent(md,t);break;case 5:t.forEach((function(e){Ws(e.elements.revokedInfos)?r.emitInnerEvent(Sd,t):r.emitInnerEvent(yd,{groupSystemNotices:t,type:n})}));break;default:Bs.log("NotificationController._groupTipsChannel unknown event=".concat(e," type=").concat(n),t)}}},{key:"_C2CNotifyMessageArrayChannel",value:function(e,t,n){this._isKickedoutNotice(t)?this.emitInnerEvent(dd):this._isSysCmdMsgNotify(t)?this.emitInnerEvent(Cd):this._isC2CMessageRevokedNotify(t)&&this.emitInnerEvent(Id,t)}},{key:"_profileModifyChannel",value:function(e,t,n){this.emitInnerEvent(bd,t)}},{key:"_friendListModChannel",value:function(e,t,n){this.emitInnerEvent(_d,t)}},{key:"_dispatchNotice",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"poll";if(Ws(e))for(var n=null,r=null,o="",i="",a="",s=0,u=0,c=e.length;u<c;u++)s=(n=e[u]).event,o=Object.keys(n).find((function(e){return void 0!==c_[e]})),Qs(this._shuntChannels[o])?(r=n[o],"poll"===t&&this._updatenoticeSequence(r),this._shuntChannels[o](s,r,t)):("poll"===t&&this._updatenoticeSequence(),i="".concat(bp),a="".concat(Th,": ").concat(s,", ").concat(o),this.emitInnerEvent(Ad,new mf({code:i,message:a,data:{payloadName:o,event:s}})),i="",a="")}},{key:"getLongPollID",value:function(){return this._longPollID}},{key:"_IAmReady",value:function(){this.triggerReady()}},{key:"reset",value:function(){this._noticeSequence=0,this._resetSync(),this.closeNoticeChannel()}},{key:"_resetSync",value:function(){this._syncOffset="",this._syncNoticeList=[],this._syncEventArray=[],this._syncMessagesIsRunning=!1,this._syncMessagesFinished=!1}},{key:"_setNoticeSeqInRequestData",value:function(e){e.Cookie.NoticeSeq=this._noticeSequence,this.tim.sumStatController.addTotalCount(sg)}},{key:"_updatenoticeSequence",value:function(e){if(e){var t=e[e.length-1].noticeSequence;t&&"number"==typeof t?t<=this._noticeSequence||(this._noticeSequence=t):this._noticeSequence++}else this._noticeSequence++}},{key:"_initializeListener",value:function(){var e=this.tim.innerEmitter;e.on(Jh,this._startSyncMessages,this),e.on(Od,this.closeNoticeChannel,this),e.on(fd,this._onFastStart,this)}},{key:"openNoticeChannel",value:function(){Bs.log("NotificationController.openNoticeChannel"),this._getLongPollID()}},{key:"closeNoticeChannel",value:function(){Bs.log("NotificationController.closeNoticeChannel"),(this._runLoop instanceof uy||this._runLoop instanceof cy)&&(this._runLoop.abort(),this._runLoop.stop()),this._longPollID=0,this._isLongPoll=!1}},{key:"_getLongPollID",value:function(){var e=this;if(0===this._longPollID){var t=new hg;t.setMethod(Fg).setStart(),this.request({name:"longPollID",action:"query"}).then((function(n){var r=n.data.longPollingID;e._onGetLongPollIDSuccess(r),t.setCode(0).setText("longPollingID=".concat(r)).setNetworkType(e.getNetworkType()).setEnd()})).catch((function(n){var r=new mf({code:n.code||Ip,message:n.message||Dh});e.emitInnerEvent(ud),e.emitInnerEvent(Ad,r),e.probeNetwork().then((function(e){var n=$n(e,2),o=n[0],i=n[1];t.setError(r,o,i).setEnd()}))}))}else this._onGetLongPollIDSuccess(this._longPollID)}},{key:"_onGetLongPollIDSuccess",value:function(e){this.emitInnerEvent(Qh,[{key:"long_poll_logout.query.requestData.longPollingID",value:e},{key:"longPoll.query.requestData.cookie.longPollingID",value:e}]),this._longPollID=e,this._startLongPoll(),this._IAmReady(),this.tim.sumStatController.recordLongPollingID(this._longPollID)}},{key:"_startLongPoll",value:function(){if(!0!==this._isLongPoll){Bs.log("NotificationController._startLongPoll...");var e=this.tim.connectionController,t=this.createTransportCapsule({name:"longPoll",action:"query"});this._isLongPoll=!0,this._runLoop=e.createRunLoop({pack:t,before:this._setNoticeSeqInRequestData.bind(this),success:this._onNoticeReceived.bind(this),fail:this._onNoticeFail.bind(this)}),this._runLoop.start()}else Bs.log("NotificationController._startLongPoll is running...")}},{key:"_onFastStart",value:function(){this.closeNoticeChannel(),this.syncMessage()}},{key:"_onNoticeReceived",value:function(e){var t=e.data;if(t.errorCode!==Tu.SUCCESS){var n=new hg;n.setMethod($g).setStart(),n.setMessage(t.errorInfo).setCode(t.errorCode).setNetworkType(this.getNetworkType()).setEnd(),this._onResponseError(t)}else this.emitInnerEvent(ld);this.tim.sumStatController.addSuccessCount(sg),this.tim.sumStatController.addCost(sg,t.timecost),e.data.eventArray&&this._dispatchNotice(e.data.eventArray)}},{key:"_onResponseError",value:function(e){switch(e.errorCode){case Mp:Bs.warn("NotificationController._onResponseError, longPollingID=".concat(this._longPollID," was kicked out")),this.emitInnerEvent(hd),this.closeNoticeChannel();break;case Ep:case kp:this.emitInnerEvent(Dd);break;default:this.emitInnerEvent(Ad,new mf({code:e.errorCode,message:e.errorInfo}))}}},{key:"_onNoticeFail",value:function(e){if(e.error)if("ECONNABORTED"===e.error.code||e.error.code===dp)if(e.error.config){var t=e.error.config.url,n=e.error.config.data;Bs.log("NotificationController._onNoticeFail request timed out. url=".concat(t," data=").concat(n))}else Bs.log("NotificationController._onNoticeFail request timed out.");else Bs.log("NotificationController._onNoticeFail request failed due to network error");this.emitInnerEvent(cd)}},{key:"_isKickedoutNotice",value:function(e){return!!e[0].hasOwnProperty("kickoutMsgNotify")}},{key:"_isSysCmdMsgNotify",value:function(e){if(!e[0])return!1;var t=e[0];return!!Object.prototype.hasOwnProperty.call(t,"sysCmdMsgNotify")}},{key:"_isC2CMessageRevokedNotify",value:function(e){var t=e[0];return!!Object.prototype.hasOwnProperty.call(t,"c2cMessageRevokedNotify")}},{key:"_startSyncMessages",value:function(e){!0!==this._syncMessagesFinished&&this.syncMessage()}},{key:"syncMessage",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._syncMessagesIsRunning=!0,this.request({name:"syncMessage",action:"query",param:{cookie:t,syncFlag:n}}).then((function(t){var n=t.data;switch(s_(n.cookie,n.syncFlag)){case"00":case"01":e.emitInnerEvent(Ad,{code:Cp,message:Oh});break;case"10":case"11":n.eventArray&&e._dispatchNotice(n.eventArray,"sync"),e._syncNoticeList=e._syncNoticeList.concat(n.messageList),e.emitInnerEvent(Zh,{data:n.messageList,C2CRemainingUnreadList:n.C2CRemainingUnreadList}),e._syncOffset=n.cookie,e.syncMessage(n.cookie,n.syncFlag);break;case"12":n.eventArray&&e._dispatchNotice(n.eventArray,"sync"),e.openNoticeChannel(),e._syncNoticeList=e._syncNoticeList.concat(n.messageList),e.emitInnerEvent(ed,{messageList:n.messageList,C2CRemainingUnreadList:n.C2CRemainingUnreadList}),e._syncOffset=n.cookie,e._syncNoticeList=[],e._syncMessagesIsRunning=!1,e._syncMessagesFinished=!0}})).catch((function(t){e._syncMessagesIsRunning=!1,Bs.error("NotificationController.syncMessage failed. error:".concat(t))}))}}]),t}(Jd),f_=function(e){function t(e){var n;return Tn(this,t),(n=Fn(this,Nn(t).call(this,e)))._initializeListener(),n}return Ln(t,e),Dn(t,[{key:"_initializeMembers",value:function(e){this.expiredTimeLimit=300,this.appid=e.appid||"",this.bucketName=e.bucketName||"",this.ciUrl=e.ciUrl||"",this.directory=e.directory||"",this.downloadUrl=e.downloadUrl||"",this.uploadUrl=e.uploadUrl||"",this.expiredTimeOut=e.expiredTimeOut||this.expiredTimeLimit,this.region="ap-shanghai",this.cos=null,this.cosOptions={secretId:e.secretId,secretKey:e.secretKey,sessionToken:e.sessionToken,expiredTime:e.expiredTime},this._initUploaderMethod()}},{key:"_expiredTimer",value:function(){var e=this,t=setInterval((function(){Math.ceil(Date.now()/1e3)>=e.cosOptions.expiredTime-20&&(e._isReady=!1,e._getAuthorizationKey(),clearInterval(t))}),1e4)}},{key:"_initializeListener",value:function(){this.tim.innerEmitter.on(Jh,this._initialization,this)}},{key:"_initialization",value:function(){this._initCOSSDKPlugin(),this.COSSDK?(this._initializeMembers({}),this._getAuthorizationKey()):Bs.warn("UploadController._initialization 没有检测到上传插件，将无法发送图片、音频、视频、文件等类型的消息。详细请参考 https://imsdk-1252463788.file.myqcloud.com/IM_DOC/Web/SDK.html#registerPlugin")}},{key:"_getAuthorizationKey",value:function(){var e=this,t=Math.ceil(Date.now()/1e3);this.request({name:"cosSig",action:"query",param:{duration:this.expiredTimeLimit}}).then((function(n){var r=n.data.expiredTime-t;n.data.expiredTimeOut=r,Bs.log("UploadController._getAuthorizationKey timeout=".concat(r,"s")),e._initializeMembers(n.data),e._expiredTimer(),e._initUploaderMethod()})).catch((function(e){Bs.warn("UploadController._getAuthorizationKey. error:",e)}))}},{key:"_initCOSSDKPlugin",value:function(){var e=ds?"cos-wx-sdk":"cos-js-sdk";this.COSSDK=this.tim.getPlugin(e)}},{key:"_initUploaderMethod",value:function(){var e=this;this.appid&&(this.cos=ds?new this.COSSDK({ForcePathStyle:!0,getAuthorization:this._getAuthorization.bind(this)}):new this.COSSDK({getAuthorization:this._getAuthorization.bind(this)}),this._cosUploadMethod=ds?function(t,n){e.cos.postObject(t,n)}:function(t,n){e.cos.uploadFiles(t,n)},this.triggerReady())}},{key:"_getAuthorization",value:function(e,t){t({TmpSecretId:this.cosOptions.secretId,TmpSecretKey:this.cosOptions.secretKey,XCosSecurityToken:this.cosOptions.sessionToken,ExpiredTime:this.cosOptions.expiredTime})}},{key:"uploadImage",value:function(e){if(!e.file)return og(new mf({code:Rf,message:$p}));var t=this._checkImageType(e.file);if(!0!==t)return t;var n=this._checkImageMime(e.file);if(!0!==n)return n;var r=this._checkImageSize(e.file);return!0!==r?r:this.upload(e)}},{key:"_checkImageType",value:function(e){var t="";return t=ds?e.url.slice(e.url.lastIndexOf(".")+1):e.files[0].name.slice(e.files[0].name.lastIndexOf(".")+1),Rh.indexOf(t.toLowerCase())>=0||og(new mf({coe:xf,message:Bp}))}},{key:"_checkImageMime",value:function(e){return!0}},{key:"_checkImageSize",value:function(e){var t=0;return 0===(t=ds?e.size:e.files[0].size)?og(new mf({code:Of,message:"".concat(qp)})):t<20971520||og(new mf({coe:Lf,message:"".concat(Hp)}))}},{key:"uploadFile",value:function(e){var t=null;return e.file?e.file.files[0].size>104857600?(t=new mf({code:$f,message:Qp}),og(t)):0===e.file.files[0].size?(t=new mf({code:Of,message:"".concat(qp)}),og(t)):this.upload(e):(t=new mf({code:Ff,message:Jp}),og(t))}},{key:"uploadVideo",value:function(e){if(ds)return e.file.videoFile.size>20971520?og(new mf({code:Uf,message:"".concat(Yp)})):0===e.file.videoFile.size?og(new mf({code:Of,message:"".concat(qp)})):-1===xh.indexOf(e.file.videoFile.type)?og(new mf({code:qf,message:"".concat(Wp)})):this.handleVideoUpload({file:e.file.videoFile})}},{key:"handleVideoUpload",value:function(e){var t=this;return new Promise((function(n,r){t.upload(e).then((function(e){n(e)})).catch((function(){t.upload(e).then((function(e){n(e)})).catch((function(){r(new mf({code:Gf,message:Kp}))}))}))}))}},{key:"uploadAudio",value:function(e){return e.file?e.file.size>20971520?og(new mf({code:Pf,message:"".concat(zp)})):0===e.file.size?og(new mf({code:Of,message:"".concat(qp)})):this.upload(e):og(new mf({code:Nf,message:Vp}))}},{key:"upload",value:function(e){var t=this;if(!Qs(this._cosUploadMethod))return Bs.warn("UploadController.upload 没有检测到上传插件，将无法发送图片、音频、视频、文件等类型的消息。详细请参考 https://imsdk-1252463788.file.myqcloud.com/IM_DOC/Web/SDK.html#registerPlugin"),og(new mf({code:wf,message:Lp}));var n=new hg;n.setMethod(yg).setStart(),Bs.time(pg);var r=ds?e.file:e.file.files[0];return new Promise((function(o,i){var a=ds?t._createCosOptionsWXMiniApp(e):t._createCosOptionsWeb(e),s=t;t._cosUploadMethod(a,(function(e,a){var u=Object.create(null);if(a){if(t._isUploadError(a,e))return i(a.files[0].error),Bs.warn("UploadController.upload failed, network error:".concat(a.files[0].error.error)),void n.setCode(jf).setMessage(Xp).setEnd();u.fileName=r.name,u.fileSize=r.size,u.fileType=r.type.slice(r.type.indexOf("/")+1).toLowerCase(),u.location=ds?a.Location:a.files[0].data.Location;var c=Bs.timeEnd(pg),l=s._formatFileSize(r.size),f=s._formatSpeed(1e3*r.size/c),p="size=".concat(l,",time=").concat(c,"ms,speed=").concat(f);return Bs.log("UploadController.upload success name=".concat(r.name,",").concat(p)),o(u),void n.setCode(0).setNetworkType(t.getNetworkType()).setText(p).setEnd()}n.setCode(jf).setMessage(Xp).setEnd(),Bs.warn("UploadController.upload failed, error:".concat(e)),i(e)}))}))}},{key:"_isUploadError",value:function(e,t){return ds?!!t:null!==e.files[0].error}},{key:"_formatFileSize",value:function(e){return e<1024?e+"B":e<1048576?Math.floor(e/1024)+"KB":Math.floor(e/1048576)+"MB"}},{key:"_formatSpeed",value:function(e){return e<=1048576?(e/1024).toFixed(1)+"KB/s":(e/1048576).toFixed(1)+"MB/s"}},{key:"_createCosOptionsWeb",value:function(e){var t=this.tim.context.identifier,n=this._genFileName(t,e.to,e.file.files[0].name);return{files:[{Bucket:"".concat(this.bucketName,"-").concat(this.appid),Region:this.region,Key:"".concat(this.directory,"/").concat(n),Body:e.file.files[0]}],SliceSize:1048576,onProgress:function(t){if("function"==typeof e.onProgress)try{e.onProgress(t.percent)}catch(n){Bs.warn("onProgress callback error:"),Bs.error(n)}},onFileFinish:function(e,t,n){}}}},{key:"_createCosOptionsWXMiniApp",value:function(e){var t=this.tim.context.identifier,n=this._genFileName(t,e.to,e.file.name),r=e.file.url;return{Bucket:"".concat(this.bucketName,"-").concat(this.appid),Region:this.region,Key:"".concat(this.directory,"/").concat(n),FilePath:r,onProgress:function(t){if(Bs.log(JSON.stringify(t)),"function"==typeof e.onProgress)try{e.onProgress(t.percent)}catch(n){Bs.warn("onProgress callback error:"),Bs.error(n)}}}}},{key:"_genFileName",value:function(e,t,n){return"".concat(e,"-").concat(t,"-").concat(uu(99999),"-").concat(n)}}]),t}(Jd),p_=function(e){function t(e){var n;return Tn(this,t),(n=Fn(this,Nn(t).call(this,e))).FILETYPE={SOUND:2106,FILE:2107,VIDEO:2113},n._bdh_download_server="grouptalk.c2c.qq.com",n._BDHBizID=10001,n._authKey="",n._expireTime=0,n.tim.innerEmitter.on(Jh,n._getAuthKey,jn(n)),n}return Ln(t,e),Dn(t,[{key:"_getAuthKey",value:function(){var e=this;this.request({name:"bigDataHallwayAuthKey",action:"query"}).then((function(t){t.data.authKey&&(e._authKey=t.data.authKey,e._expireTime=parseInt(t.data.expireTime))}))}},{key:"_isFromOlderVersion",value:function(e){return 2!==e.content.downloadFlag}},{key:"parseElements",value:function(e,t){if(!Ws(e)||!t)return[];for(var n=[],r=null,o=0;o<e.length;o++)r=e[o],this._needParse(r)?n.push(this._parseElement(r,t)):n.push(e[o]);return n}},{key:"_needParse",value:function(e){return!(!this._isFromOlderVersion(e)||e.type!==pn.MSG_AUDIO&&e.type!==pn.MSG_FILE&&e.type!==pn.MSG_VIDEO)}},{key:"_parseElement",value:function(e,t){switch(e.type){case pn.MSG_AUDIO:return this._parseAudioElement(e,t);case pn.MSG_FILE:return this._parseFileElement(e,t);case pn.MSG_VIDEO:return this._parseVideoElement(e,t)}}},{key:"_parseAudioElement",value:function(e,t){return e.content.url=this._genAudioUrl(e.content.uuid,t),e}},{key:"_parseFileElement",value:function(e,t){return e.content.url=this._genFileUrl(e.content.uuid,t,e.content.fileName),e}},{key:"_parseVideoElement",value:function(e,t){return e.content.url=this._genVideoUrl(e.content.uuid,t),e}},{key:"_genAudioUrl",value:function(e,t){return""===this._authKey?(Bs.warn("BigDataHallwayController._genAudioUrl no authKey!"),""):"https://".concat(this._bdh_download_server,"/asn.com/stddownload_common_file?authkey=").concat(this._authKey,"&bid=").concat(this._BDHBizID,"&subbid=").concat(this.tim.context.SDKAppID,"&fileid=").concat(e,"&filetype=").concat(this.FILETYPE.SOUND,"&openid=").concat(t,"&ver=0")}},{key:"_genFileUrl",value:function(e,t,n){return""===this._authKey?(Bs.warn("BigDataHallwayController._genFileUrl no authKey!"),""):(n||(n="".concat(Math.floor(1e5*Math.random()),"-").concat(Date.now())),"https://".concat(this._bdh_download_server,"/asn.com/stddownload_common_file?authkey=").concat(this._authKey,"&bid=").concat(this._BDHBizID,"&subbid=").concat(this.tim.context.SDKAppID,"&fileid=").concat(e,"&filetype=").concat(this.FILETYPE.FILE,"&openid=").concat(t,"&ver=0&filename=").concat(encodeURIComponent(n)))}},{key:"_genVideoUrl",value:function(e,t){return""===this._authKey?(Bs.warn("BigDataHallwayController._genVideoUrl no authKey!"),""):"https://".concat(this._bdh_download_server,"/asn.com/stddownload_common_file?authkey=").concat(this._authKey,"&bid=").concat(this._BDHBizID,"&subbid=").concat(this.tim.context.SDKAppID,"&fileid=").concat(e,"&filetype=").concat(this.FILETYPE.VIDEO,"&openid=").concat(t,"&ver=0")}},{key:"reset",value:function(){this._authKey="",this.expireTime=0}}]),t}(Jd),h_={app_id:"",event_id:"",api_base:"https://pingtas.qq.com/pingd",prefix:"_mta_",version:"1.3.9",stat_share_app:!1,stat_pull_down_fresh:!1,stat_reach_bottom:!1,stat_param:!0};function d_(){try{var e="s"+g_();return wx.setStorageSync(h_.prefix+"ssid",e),e}catch(n){}}function g_(e){for(var t=[0,1,2,3,4,5,6,7,8,9],n=10;1<n;n--){var r=Math.floor(10*Math.random()),o=t[r];t[r]=t[n-1],t[n-1]=o}for(n=r=0;5>n;n++)r=10*r+t[n];return(e||"")+(r+"")+ +new Date}function v_(){try{var e=getCurrentPages(),t="/";return 0<e.length&&(t=e.pop().__route__),t}catch(r){console.log("get current page path error:"+r)}}function m_(){var e,t={dm:"wechat.apps.xx",url:encodeURIComponent(v_()+b_(C_.Data.pageQuery)),pvi:"",si:"",ty:0};return t.pvi=((e=function(){try{return wx.getStorageSync(h_.prefix+"auid")}catch(t){}}())||(e=function(){try{var t=g_();return wx.setStorageSync(h_.prefix+"auid",t),t}catch(e){}}(),t.ty=1),e),t.si=function(){var e=function(){try{return wx.getStorageSync(h_.prefix+"ssid")}catch(e){}}();return e||(e=d_()),e}(),t}function y_(){var e=function(){var e=wx.getSystemInfoSync();return{adt:encodeURIComponent(e.model),scl:e.pixelRatio,scr:e.windowWidth+"x"+e.windowHeight,lg:e.language,fl:e.version,jv:encodeURIComponent(e.system),tz:encodeURIComponent(e.platform)}}();return function(e){wx.getNetworkType({success:function(t){e(t.networkType)}})}((function(e){try{wx.setStorageSync(h_.prefix+"ntdata",e)}catch(n){}})),e.ct=wx.getStorageSync(h_.prefix+"ntdata")||"4g",e}function __(){var e,t=C_.Data.userInfo,n=[];for(e in t)t.hasOwnProperty(e)&&n.push(e+"="+t[e]);return t=n.join(";"),{r2:h_.app_id,r4:"wx",ext:"v="+h_.version+(null!==t&&""!==t?";ui="+encodeURIComponent(t):"")}}function b_(e){if(!h_.stat_param||!e)return"";e=function(e){if(1>h_.ignore_params.length)return e;var t,n={};for(t in e)0<=h_.ignore_params.indexOf(t)||(n[t]=e[t]);return n}(e);var t,n=[];for(t in e)n.push(t+"="+e[t]);return 0<n.length?"?"+n.join("&"):""}var C_={App:{init:function(e){"appID"in e&&(h_.app_id=e.appID),"eventID"in e&&(h_.event_id=e.eventID),"statShareApp"in e&&(h_.stat_share_app=e.statShareApp),"statPullDownFresh"in e&&(h_.stat_pull_down_fresh=e.statPullDownFresh),"statReachBottom"in e&&(h_.stat_reach_bottom=e.statReachBottom),"ignoreParams"in e&&(h_.ignore_params=e.ignoreParams),"statParam"in e&&(h_.stat_param=e.statParam),d_();try{"lauchOpts"in e&&(C_.Data.lanchInfo=e.lauchOpts,C_.Data.lanchInfo.landing=1)}catch(n){}"autoReport"in e&&e.autoReport&&function(){var e=Page;Page=function(t){var n=t.onLoad;t.onLoad=function(e){n&&n.call(this,e),C_.Data.lastPageQuery=C_.Data.pageQuery,C_.Data.pageQuery=e,C_.Data.lastPageUrl=C_.Data.pageUrl,C_.Data.pageUrl=v_(),C_.Data.show=!1,C_.Page.init()},e(t)}}()}},Page:{init:function(){var e,t=getCurrentPages()[getCurrentPages().length-1];t.onShow&&(e=t.onShow,t.onShow=function(){if(!0===C_.Data.show){var t=C_.Data.lastPageQuery;C_.Data.lastPageQuery=C_.Data.pageQuery,C_.Data.pageQuery=t,C_.Data.lastPageUrl=C_.Data.pageUrl,C_.Data.pageUrl=v_()}C_.Data.show=!0,C_.Page.stat(),e.apply(this,arguments)}),h_.stat_pull_down_fresh&&t.onPullDownRefresh&&function(){var e=t.onPullDownRefresh;t.onPullDownRefresh=function(){C_.Event.stat(h_.prefix+"pulldownfresh",{url:t.__route__}),e.apply(this,arguments)}}(),h_.stat_reach_bottom&&t.onReachBottom&&function(){var e=t.onReachBottom;t.onReachBottom=function(){C_.Event.stat(h_.prefix+"reachbottom",{url:t.__route__}),e.apply(this,arguments)}}(),h_.stat_share_app&&t.onShareAppMessage&&function(){var e=t.onShareAppMessage;t.onShareAppMessage=function(){return C_.Event.stat(h_.prefix+"shareapp",{url:t.__route__}),e.apply(this,arguments)}}()},multiStat:function(e,t){if(1==t)C_.Page.stat(e);else{var n=getCurrentPages()[getCurrentPages().length-1];n.onShow&&function(){var t=n.onShow;n.onShow=function(){C_.Page.stat(e),t.call(this,arguments)}}()}},stat:function(e){if(""!=h_.app_id){var t=[],n=__();if(e&&(n.r2=e),e=[m_(),n,y_()],C_.Data.lanchInfo){e.push({ht:C_.Data.lanchInfo.scene}),C_.Data.pageQuery&&C_.Data.pageQuery._mta_ref_id&&e.push({rarg:C_.Data.pageQuery._mta_ref_id});try{1==C_.Data.lanchInfo.landing&&(n.ext+=";lp=1",C_.Data.lanchInfo.landing=0)}catch(a){}}e.push({rdm:"/",rurl:0>=C_.Data.lastPageUrl.length?C_.Data.pageUrl+b_(C_.Data.lastPageQuery):encodeURIComponent(C_.Data.lastPageUrl+b_(C_.Data.lastPageQuery))}),e.push({rand:+new Date}),n=0;for(var r=e.length;n<r;n++)for(var o in e[n])e[n].hasOwnProperty(o)&&t.push(o+"="+(void 0===e[n][o]?"":e[n][o]));wx.request({url:h_.api_base+"?"+t.join("&").toLowerCase()})}}},Event:{stat:function(e,t){if(""!=h_.event_id){var n=[],r=m_(),o=__();r.dm="wxapps.click",r.url=e,o.r2=h_.event_id;var i,a=void 0===t?{}:t,s=[];for(i in a)a.hasOwnProperty(i)&&s.push(encodeURIComponent(i)+"="+encodeURIComponent(a[i]));for(a=s.join(";"),o.r5=a,a=0,o=(r=[r,o,y_(),{rand:+new Date}]).length;a<o;a++)for(var u in r[a])r[a].hasOwnProperty(u)&&n.push(u+"="+(void 0===r[a][u]?"":r[a][u]));wx.request({url:h_.api_base+"?"+n.join("&").toLowerCase()})}}},Data:{userInfo:null,lanchInfo:null,pageQuery:null,lastPageQuery:null,pageUrl:"",lastPageUrl:"",show:!1}},S_=C_,I_=function(){function e(){Tn(this,e),this.cache=[],this.MtaWX=null,this._init()}return Dn(e,[{key:"report",value:function(e,t){var n=this;try{hs?window.MtaH5?(window.MtaH5.clickStat(e,t),this.cache.forEach((function(e){var t=e.name,r=e.param;window.MtaH5.clickStat(t,r),n.cache.shift()}))):this.cache.push({name:e,param:t}):ds&&(this.MtaWX?(this.MtaWX.Event.stat(e,t),this.cache.forEach((function(e){var t=e.name,r=e.param;n.MtaWX.stat(t,r),n.cache.shift()}))):this.cache.push({name:e,param:t}))}catch(q_){}}},{key:"stat",value:function(){try{hs&&window.MtaH5?window.MtaH5.pgv():ds&&this.MtaWX&&this.MtaWX.Page.stat()}catch(q_){}}},{key:"_init",value:function(){try{if(hs){window._mtac={autoReport:0};var e=document.createElement("script"),t=hu();e.src="".concat(t,"//pingjs.qq.com/h5/stats.js?v2.0.4"),e.setAttribute("name","MTAH5"),e.setAttribute("sid","500690998"),e.setAttribute("cid","500691017");var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)}else ds&&(this.MtaWX=S_,this.MtaWX.App.init({appID:"500690995",eventID:"500691014",autoReport:!1,statParam:!0}))}catch(q_){}}}]),e}(),w_=function(e){function t(e){var n;return Tn(this,t),(n=Fn(this,Nn(t).call(this,e))).tim=e,n.MTA=new I_,n._initListener(),n}return Ln(t,e),Dn(t,[{key:"_initListener",value:function(){var e=this;this.tim.innerEmitter.on(Gd,(function(){e.MTA.report("sdkappid",{value:e.tim.context.SDKAppID}),e.MTA.report("version",{value:U_.VERSION}),e.MTA.stat()}))}}]),t}(Jd),M_=function(){function e(t){Tn(this,e),this._table="timwebii",this._report=[]}return Dn(e,[{key:"pushIn",value:function(e){Bs.debug("SSOLogBody.pushIn",this._report.length,e),this._report.push(e)}},{key:"backfill",value:function(e){var t;Ws(e)&&0!==e.length&&(Bs.debug("SSOLogBody.backfill",this._report.length,e.length),(t=this._report).unshift.apply(t,Bn(e)))}},{key:"getLogsNumInMemory",value:function(){return this._report.length}},{key:"isEmpty",value:function(){return 0===this._report.length}},{key:"_reset",value:function(){this._report.length=0,this._report=[]}},{key:"getTable",value:function(){return this._table}},{key:"getLogsInMemory",value:function(){var e=this._report.slice();return this._reset(),e}}]),e}(),E_=function(e){function t(e){var n;return Tn(this,t),(n=Fn(this,Nn(t).call(this,e))).TAG="im-ssolog-event",n._reportBody=new M_,n._version="2.5.1",n.MIN_THRESHOLD=20,n.MAX_THRESHOLD=100,n.WAITING_TIME=6e4,n.INTERVAL=2e4,n._timerID=0,n._resetLastReportTime(),n._startReportTimer(),n._retryCount=0,n.MAX_RETRY_COUNT=3,n.tim.innerEmitter.on(kd,n._onLoginSuccess,jn(n)),n}return Ln(t,e),Dn(t,[{key:"reportAtOnce",value:function(){Bs.debug("EventStatController.reportAtOnce"),this._report()}},{key:"_onLoginSuccess",value:function(){var e=this,t=this.tim.storage,n=t.getItem(this.TAG,!1);Cu(n)||(Bs.log("EventStatController._onLoginSuccess get ssolog in storage, nums="+n.length),n.forEach((function(t){e._reportBody.pushIn(t)})),t.removeItem(this.TAG,!1))}},{key:"pushIn",value:function(e){e instanceof hg&&(e.setCommonInfo(this.tim.context.SDKAppID,this._version,this.tim.context.tinyID,this.tim.loginInfo.identifier,this.getPlatform()),this._reportBody.pushIn(e),this._reportBody.getLogsNumInMemory()>=this.MIN_THRESHOLD&&this._report())}},{key:"_resetLastReportTime",value:function(){this._lastReportTime=Date.now()}},{key:"_startReportTimer",value:function(){var e=this;this._timerID=setInterval((function(){Date.now()<e._lastReportTime+e.WAITING_TIME||e._reportBody.isEmpty()||e._report()}),this.INTERVAL)}},{key:"_stopReportTimer",value:function(){this._timerID>0&&(clearInterval(this._timerID),this._timerID=0)}},{key:"_report",value:function(){var e=this;if(!this._reportBody.isEmpty()){var t=this._reportBody.getLogsInMemory();this.request({name:"ssoEventStat",action:"create",param:{table:this._reportBody.getTable(),report:t}}).then((function(){e._resetLastReportTime(),e._retryCount>0&&(Bs.debug("EventStatController.report retry success"),e._retryCount=0)})).catch((function(n){if(Bs.warn("EventStatController.report, online:".concat(e.getNetworkType()," error:").concat(n)),e._reportBody.backfill(t),e._reportBody.getLogsNumInMemory()>e.MAX_THRESHOLD||e._retryCount===e.MAX_RETRY_COUNT||0===e._timerID)return e._retryCount=0,void e._flushAtOnce();e._retryCount+=1}))}}},{key:"_flushAtOnce",value:function(){var e=this.tim.storage,t=e.getItem(this.TAG,!1),n=this._reportBody.getLogsInMemory();if(Cu(t))Bs.log("EventStatController._flushAtOnce nums="+n.length),e.setItem(this.TAG,n,!0,!1);else{var r=n.concat(t);r.length>this.MAX_THRESHOLD&&(r=r.slice(0,this.MAX_THRESHOLD)),Bs.log("EventStatController._flushAtOnce nums="+r.length),e.setItem(this.TAG,r,!0,!1)}}},{key:"reset",value:function(){Bs.log("EventStatController.reset"),this._stopReportTimer(),this._report()}}]),t}(Jd),k_="none",T_="online",O_=function(){function e(){Tn(this,e),this._networkType="",this.maxWaitTime=3e3}return Dn(e,[{key:"start",value:function(){var e=this;ds?(wx.getNetworkType({success:function(t){e._networkType=t.networkType,t.networkType===k_?Bs.warn("NetMonitor no network, please check!"):Bs.info("NetMonitor networkType:".concat(t.networkType))}}),wx.onNetworkStatusChange(this._onWxNetworkStatusChange.bind(this))):this._networkType=T_}},{key:"_onWxNetworkStatusChange",value:function(e){this._networkType=e.networkType,e.isConnected?Bs.info("NetMonitor networkType:".concat(e.networkType)):Bs.warn("NetMonitor no network, please check!")}},{key:"probe",value:function(){var e=this;return new Promise((function(t,n){if(ds)wx.getNetworkType({success:function(n){e._networkType=n.networkType,n.networkType===k_?(Bs.warn("NetMonitor no network, please check!"),t([!1,n.networkType])):(Bs.info("NetMonitor networkType:".concat(n.networkType)),t([!0,n.networkType]))}});else if(window&&window.fetch)fetch("".concat(hu(),"//webim-1252463788.file.myqcloud.com/assets/test/speed.xml?random=").concat(Math.random())).then((function(e){e.ok?t([!0,T_]):t([!1,k_])})).catch((function(e){t([!1,k_])}));else{var r=new XMLHttpRequest,o=setTimeout((function(){Bs.warn("NetMonitor fetch timeout. Probably no network, please check!"),r.abort(),e._networkType=k_,t([!1,k_])}),e.maxWaitTime);r.onreadystatechange=function(){4===r.readyState&&(clearTimeout(o),200===r.status||304===r.status?(this._networkType=T_,t([!0,T_])):(Bs.warn("NetMonitor fetch status:".concat(r.status,". Probably no network, please check!")),this._networkType=k_,t([!1,k_])))},r.open("GET","".concat(hu(),"//webim-1252463788.file.myqcloud.com/assets/test/speed.xml?random=").concat(Math.random())),r.send()}}))}},{key:"getNetworkType",value:function(){return this._networkType}},{key:"reset",value:function(){this._networkType=""}}]),e}(),D_=function(){function e(t){var n=this;Tn(this,e),Ws(t)?(this._map=new Map,t.forEach((function(e){n._map.set(e,[])}))):Bs.warn("AverageCalculator.constructor need keys")}return Dn(e,[{key:"push",value:function(e,t){return!(Xs(e)||!this._map.has(e)||!Vs(t))&&(this._map.get(e).push(t),!0)}},{key:"getSize",value:function(e){return Xs(e)||!this._map.has(e)?-1:this._map.get(e).length}},{key:"getAvg",value:function(e){if(Xs(e)||!this._map.has(e))return-1;var t=this._map.get(e),n=t.length;if(0===n)return 0;var r=0;return t.forEach((function(e){r+=e})),t.length=0,this._map.set(e,[]),parseInt(r/n)}},{key:"getMax",value:function(e){return Xs(e)||!this._map.has(e)?-1:Math.max.apply(null,this._map.get(e))}},{key:"getMin",value:function(e){return Xs(e)||!this._map.has(e)?-1:Math.min.apply(null,this._map.get(e))}},{key:"reset",value:function(){this._map.forEach((function(e){e.length=0}))}}]),e}(),A_=function(){function e(t){var n=this;Tn(this,e),Ws(t)?(this._map=new Map,t.forEach((function(e){n._map.set(e,{totalCount:0,successCount:0})}))):Bs.warn("SuccessRateCalculator.constructor need keys")}return Dn(e,[{key:"addTotalCount",value:function(e){return!(Xs(e)||!this._map.has(e))&&(this._map.get(e).totalCount+=1,!0)}},{key:"addSuccessCount",value:function(e){return!(Xs(e)||!this._map.has(e))&&(this._map.get(e).successCount+=1,!0)}},{key:"getSuccessRate",value:function(e){if(Xs(e)||!this._map.has(e))return-1;var t=this._map.get(e);if(0===t.totalCount)return 1;var n=parseFloat((t.successCount/t.totalCount).toFixed(2));return t.totalCount=t.successCount=0,n}},{key:"getTotalCount",value:function(e){return Xs(e)||!this._map.has(e)?-1:this._map.get(e).totalCount}},{key:"reset",value:function(){this._map.forEach((function(e){e.totalCount=0,e.successCount=0}))}}]),e}(),R_=function(e){function t(e){var n;return Tn(this,t),(n=Fn(this,Nn(t).call(this,e))).TABLE="timwebsum",n.TAG="im-ssolog-sumstat",n._items=[sg,ug,cg],n._thresholdMap=new Map,n._thresholdMap.set(sg,100),n._thresholdMap.set(ug,150),n._thresholdMap.set(cg,15),n._lpID="",n._platform=n.getPlatform(),n._lastReportTime=0,n._statInfoArr=[],n._retryCount=0,n._avgCalc=new D_(n._items),n._successRateCalc=new A_(n._items),n.tim.innerEmitter.on(kd,n._onLoginSuccess,jn(n)),n}return Ln(t,e),Dn(t,[{key:"_onLoginSuccess",value:function(){var e=this,t=this.tim.storage,n=t.getItem(this.TAG,!1);Cu(n)||(Bs.log("SumStatController._onLoginSuccess get sumstatlog in storage, nums="+n.length),n.forEach((function(t){e._statInfoArr.pushIn(t)})),t.removeItem(this.TAG,!1))}},{key:"recordLongPollingID",value:function(e){this._lpID=e}},{key:"addTotalCount",value:function(e){this._successRateCalc.addTotalCount(e)?1===this._successRateCalc.getTotalCount(e)&&(this._lastReportTime=Date.now()):Bs.warn("SumStatController.addTotalCount invalid key:",e)}},{key:"addSuccessCount",value:function(e){this._successRateCalc.addSuccessCount(e)||Bs.warn("SumStatController.addSuccessCount invalid key:",e)}},{key:"addCost",value:function(e,t){this._avgCalc.push(e,t)?(Bs.debug("SumStatController.addCost",e,t,this._avgCalc.getSize(e)),this._avgCalc.getSize(e)>=this._thresholdMap.get(e)&&this._report(e)):Bs.warn("SumStatController.addCost invalid key or cost:",e,t)}},{key:"_getItemNum",value:function(e){switch(e){case sg:return 1;case ug:return 2;case cg:return 3;default:return 100}}},{key:"_getStatInfo",value:function(e){var t=null;return this._avgCalc.getSize(e)>0&&(t={SDKAppID:"".concat(this.tim.context.SDKAppID),version:"".concat("2.5.1"),tinyID:this.tim.context.tinyID,userID:this.tim.loginInfo.identifier,item:this._getItemNum(e),lpID:e===sg?this._lpID:"",platform:this._platform,networkType:this.getNetworkType(),total:this._successRateCalc.getTotalCount(e),successRate:this._successRateCalc.getSuccessRate(e),avg:this._avgCalc.getAvg(e),timespan:Date.now()-this._lastReportTime,time:au()}),t}},{key:"_report",value:function(e){var t=this,n=[],r=null;Xs(e)?this._items.forEach((function(e){null!==(r=t._getStatInfo(e))&&n.push(r)})):null!==(r=this._getStatInfo(e))&&n.push(r),Bs.debug("SumStatController._report",n),this._statInfoArr.length>0&&(n=n.concat(this.statInfoArr),this._statInfoArr=[]),this._doReport(n)}},{key:"_doReport",value:function(e){var t=this;Cu(e)?Bs.warn("SumStatController._doReport statInfoArr is empty, do nothing"):this.request({name:"ssoSumStat",action:"create",param:{table:this.TABLE,report:e}}).then((function(){t._lastReportTime=Date.now(),t._retryCount>0&&(Bs.debug("SumStatController._doReport retry success"),t._retryCount=0)})).catch((function(n){Bs.warn("SumStatController._doReport, online:".concat(t.getNetworkType()," error:"),n,e),t._retryCount<=1?setTimeout((function(){Bs.info("SumStatController._doReport retry",e),t._retryCount+=1,t._doReport(e)}),5e3):(t._retryCount=0,t._statInfoArr=t._statInfoArr.concat(e),t._flusgAtOnce())}))}},{key:"_flushAtOnce",value:function(){var e=this.tim.storage,t=e.getItem(this.TAG,!1),n=this._statInfoArr;if(Cu(t))Bs.log("SumStatController._flushAtOnce nums="+n.length),e.setItem(this.TAG,n,!0,!1);else{var r=n.concat(t);r.length>10&&(r=r.slice(0,10)),Bs.log("SumStatController._flushAtOnce nums="+r.length),e.setItem(this.TAG,r,!0,!1)}this._statInfoArr=[]}},{key:"reset",value:function(){Bs.info("SumStatController.reset"),this._report(),this._avgCalc.reset(),this._successRateCalc.reset()}}]),t}(Jd),x_=function(){function e(){Tn(this,e),this._funcMap=new Map}return Dn(e,[{key:"defense",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if("string"!=typeof e)return null;if(0===e.length)return null;if("function"!=typeof t)return null;if(this._funcMap.has(e)&&this._funcMap.get(e).has(t))return this._funcMap.get(e).get(t);this._funcMap.has(e)||this._funcMap.set(e,new Map);var r=null;return this._funcMap.get(e).has(t)?r=this._funcMap.get(e).get(t):(r=this._pack(t,n),this._funcMap.get(e).set(t,r)),r}},{key:"defenseOnce",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return"function"!=typeof e?null:this._pack(e,t)}},{key:"find",value:function(e,t){return"string"!=typeof e||0===e.length||"function"!=typeof t?null:this._funcMap.has(e)?this._funcMap.get(e).has(t)?this._funcMap.get(e).get(t):(Bs.log("SafetyCallback.find: 找不到 func —— ".concat(e,"/").concat(""!==t.name?t.name:"[anonymous]")),null):(Bs.log("SafetyCallback.find: 找不到 eventName-".concat(e," 对应的 func")),null)}},{key:"delete",value:function(e,t){return"function"==typeof t&&!!this._funcMap.has(e)&&!!this._funcMap.get(e).has(t)&&(this._funcMap.get(e).delete(t),0===this._funcMap.get(e).size&&this._funcMap.delete(e),!0)}},{key:"_pack",value:function(e,t){return function(){try{e.apply(t,Array.from(arguments))}catch(r){console.error(r)}}}}]),e}(),L_=function(){function e(t){Tn(this,e);var n=new hg;n.setMethod(dg).setStart(),Xd.mixin(this),this._initOptions(t),this._initMemberVariables(),this._initControllers(),this._initListener(),hg.bindController(this.eventStatController),n.setCode(0).setText("mp=".concat(ds,"-ua=").concat(gs)).setEnd(),Bs.info("SDK inWxMiniApp:".concat(ds,", SDKAppID:").concat(t.SDKAppID,", UserAgent:").concat(gs)),this._safetyCallbackFactory=new x_}return Dn(e,[{key:"login",value:function(e){return Bs.time(ig),this._ssoLog=new hg,this._ssoLog.setMethod(gg).setStart(),this.netMonitor.start(),this.loginInfo.identifier=e.identifier||e.userID,this.loginInfo.userSig=e.userSig,this.signController.login(this.loginInfo)}},{key:"logout",value:function(){var e=this.signController.logout();return this.resetSDK(),e}},{key:"on",value:function(e,t,n){Bs.debug("on","eventName:".concat(e)),this.outerEmitter.on(e,this._safetyCallbackFactory.defense(e,t,n),n)}},{key:"once",value:function(e,t,n){Bs.debug("once","eventName:".concat(e)),this.outerEmitter.once(e,this._safetyCallbackFactory.defenseOnce(t,n),n||this)}},{key:"off",value:function(e,t,n,r){Bs.debug("off","eventName:".concat(e));var o=this._safetyCallbackFactory.find(e,t);null!==o&&(this.outerEmitter.off(e,o,n,r),this._safetyCallbackFactory.delete(e,t))}},{key:"registerPlugin",value:function(e){var t=this;this.plugins||(this.plugins={}),Object.keys(e).forEach((function(n){t.plugins[n]=e[n]}))}},{key:"getPlugin",value:function(e){return this.plugins[e]||void 0}},{key:"setLogLevel",value:function(e){e<=0&&(console.log([""," ________  ______  __       __  __       __  ________  _______","|        \\|      \\|  \\     /  \\|  \\  _  |  \\|        \\|       \\"," \\$$$$$$$$ \\$$$$$$| $$\\   /  $$| $$ / \\ | $$| $$$$$$$$| $$$$$$$\\","   | $$     | $$  | $$$\\ /  $$$| $$/  $\\| $$| $$__    | $$__/ $$","   | $$     | $$  | $$$$\\  $$$$| $$  $$$\\ $$| $$  \\   | $$    $$","   | $$     | $$  | $$\\$$ $$ $$| $$ $$\\$$\\$$| $$$$$   | $$$$$$$\\","   | $$    _| $$_ | $$ \\$$$| $$| $$$$  \\$$$$| $$_____ | $$__/ $$","   | $$   |   $$ \\| $$  \\$ | $$| $$$    \\$$$| $$     \\| $$    $$","    \\$$    \\$$$$$$ \\$$      \\$$ \\$$      \\$$ \\$$$$$$$$ \\$$$$$$$","",""].join("\n")),console.log("%cIM 智能客服，随时随地解决您的问题 →_→ https://cloud.tencent.com/act/event/smarty-service?from=im-doc","color:#ff0000"),console.log(["","参考以下文档，会更快解决问题哦！(#^.^#)\n","SDK 更新日志: https://cloud.tencent.com/document/product/269/38492\n","SDK 接口文档: https://imsdk-1252463788.file.myqcloud.com/IM_DOC/Web/SDK.html\n","常见问题: https://imsdk-1252463788.file.myqcloud.com/IM_DOC/Web/tutorial-01-faq.html\n","反馈问题？戳我提 issue: https://github.com/tencentyun/TIMSDK/issues\n","如果您需要在生产环境关闭上面的日志，请 tim.setLogLevel(1)\n"].join("\n"))),Bs.setLevel(e)}},{key:"downloadLog",value:function(){var e=document.createElement("a"),t=new Date,n=new Blob(this.getLog());e.download="TIM-"+t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()+"-"+this.loginInfo.SDKAppID+"-"+this.context.identifier+".txt",e.href=URL.createObjectURL(n),e.click(),URL.revokeObjectURL(n)}},{key:"destroy",value:function(){this.logout(),this.outerEmitter.emit(fn.SDK_DESTROY,{SDKAppID:this.loginInfo.SDKAppID})}},{key:"createTextMessage",value:function(e){return this.messageController.createTextMessage(e)}},{key:"createImageMessage",value:function(e){return this.messageController.createImageMessage(e)}},{key:"createAudioMessage",value:function(e){return this.messageController.createAudioMessage(e)}},{key:"createVideoMessage",value:function(e){return this.messageController.createVideoMessage(e)}},{key:"createCustomMessage",value:function(e){return this.messageController.createCustomMessage(e)}},{key:"createFaceMessage",value:function(e){return this.messageController.createFaceMessage(e)}},{key:"createFileMessage",value:function(e){return this.messageController.createFileMessage(e)}},{key:"sendMessage",value:function(e){return e instanceof qh?this.messageController.sendMessageInstance(e):og(new mf({code:kf,message:Gp}))}},{key:"revokeMessage",value:function(e){return this.messageController.revokeMessage(e)}},{key:"resendMessage",value:function(e){return this.messageController.resendMessage(e)}},{key:"getMessageList",value:function(e){return this.messageController.getMessageList(e)}},{key:"setMessageRead",value:function(e){return this.messageController.setMessageRead(e)}},{key:"getConversationList",value:function(){return this.conversationController.getConversationList()}},{key:"getConversationProfile",value:function(e){return this.conversationController.getConversationProfile(e)}},{key:"deleteConversation",value:function(e){return this.conversationController.deleteConversation(e)}},{key:"getMyProfile",value:function(){return this.userController.getMyProfile()}},{key:"getUserProfile",value:function(e){return this.userController.getUserProfile(e)}},{key:"updateMyProfile",value:function(e){return this.userController.updateMyProfile(e)}},{key:"getFriendList",value:function(){return this.userController.getFriendList()}},{key:"deleteFriend",value:function(e){return this.userController.deleteFriend(e)}},{key:"getBlacklist",value:function(){return this.userController.getBlacklist()}},{key:"addToBlacklist",value:function(e){return this.userController.addBlacklist(e)}},{key:"removeFromBlacklist",value:function(e){return this.userController.deleteBlacklist(e)}},{key:"getGroupList",value:function(e){return this.groupController.getGroupList(e)}},{key:"getGroupProfile",value:function(e){return this.groupController.getGroupProfile(e)}},{key:"createGroup",value:function(e){return this.groupController.createGroup(e)}},{key:"dismissGroup",value:function(e){return this.groupController.dismissGroup(e)}},{key:"updateGroupProfile",value:function(e){return this.groupController.updateGroupProfile(e)}},{key:"joinGroup",value:function(e){return this.groupController.joinGroup(e)}},{key:"quitGroup",value:function(e){return this.groupController.quitGroup(e)}},{key:"searchGroupByID",value:function(e){return this.groupController.searchGroupByID(e)}},{key:"changeGroupOwner",value:function(e){return this.groupController.changeGroupOwner(e)}},{key:"handleGroupApplication",value:function(e){return this.groupController.handleGroupApplication(e)}},{key:"setMessageRemindType",value:function(e){return this.groupController.setMessageRemindType(e)}},{key:"getGroupMemberList",value:function(e){return this.groupController.getGroupMemberList(e)}},{key:"getGroupMemberProfile",value:function(e){return this.groupController.getGroupMemberProfile(e)}},{key:"addGroupMember",value:function(e){return this.groupController.addGroupMember(e)}},{key:"deleteGroupMember",value:function(e){return this.groupController.deleteGroupMember(e)}},{key:"setGroupMemberMuteTime",value:function(e){return this.groupController.setGroupMemberMuteTime(e)}},{key:"setGroupMemberRole",value:function(e){return this.groupController.setGroupMemberRole(e)}},{key:"setGroupMemberNameCard",value:function(e){return this.groupController.setGroupMemberNameCard(e)}},{key:"setGroupMemberCustomField",value:function(e){return this.groupController.setGroupMemberCustomField(e)}},{key:"_initOptions",value:function(e){this.plugins={},this.loginInfo={SDKAppID:e.SDKAppID||null,accountType:uu(),identifier:null,userSig:null},this.options={runLoopNetType:e.runLoopNetType||Wl,enablePointer:e.enablePointer||!1}}},{key:"_initMemberVariables",value:function(){this.context={},this.innerEmitter=new r_,this.outerEmitter=new r_,ng(this.outerEmitter),this.packageConfig=new i_(this),this.storage=new n_(this),this.netMonitor=new O_,this.outerEmitter._emit=this.outerEmitter.emit,this.outerEmitter.emit=function(e,t){var n=arguments[0],r=[n,{name:arguments[0],data:arguments[1]}];Bs.debug("emit outer event:".concat(n),r[1]),this.outerEmitter._emit.apply(this.outerEmitter,r)}.bind(this),this.innerEmitter._emit=this.innerEmitter.emit,this.innerEmitter.emit=function(e,t){var n;Ys(arguments[1])&&arguments[1].data?(Bs.warn("inner eventData has data property, please check!"),n=[e,{name:arguments[0],data:arguments[1].data}]):n=[e,{name:arguments[0],data:arguments[1]}],Bs.debug("emit inner event:".concat(e),n[1]),this.innerEmitter._emit.apply(this.innerEmitter,n)}.bind(this)}},{key:"_initControllers",value:function(){this.exceptionController=new fy(this),this.connectionController=new ly(this),this.contextController=new Zd(this),this.context=this.contextController.getContext(),this.signController=new Wg(this),this.messageController=new Hy(this),this.conversationController=new Dy(this),this.userController=new by(this),this.groupController=new Zy(this),this.notificationController=new l_(this),this.bigDataHallwayController=new p_(this),this.statusController=new e_(this),this.uploadController=new f_(this),this.eventStatController=new E_(this),this.sumStatController=new R_(this),this.mtaReportController=new w_(this),this._initReadyListener()}},{key:"_initListener",value:function(){var e=this;if(this.innerEmitter.on(pd,this._onSlowStart,this),ds&&"function"==typeof wx.onAppShow&&"function"==typeof wx.onAppHide){var t=null;wx.onAppHide((function(){(t=new hg).setMethod(Yg).setStart()})),wx.onAppShow((function(){null!==t&&t.setCode(0).setNetworkType(e.netMonitor.getNetworkType()).setEnd()}))}}},{key:"_initReadyListener",value:function(){for(var e=this,t=this.readyList,n=0,r=t.length;n<r;n++)this[t[n]].ready((function(){return e._readyHandle()}))}},{key:"_onSlowStart",value:function(){Bs.log("slow start longpolling..."),this.resetSDK(),this.login(this.loginInfo)}},{key:"resetSDK",value:function(){var e=this;this.initList.forEach((function(t){e[t].reset&&e[t].reset()})),this.netMonitor.reset(),this.storage.reset(),this.resetReady(),this._initReadyListener(),this.outerEmitter.emit(fn.SDK_NOT_READY)}},{key:"_readyHandle",value:function(){for(var e=this.readyList,t=!0,n=0,r=e.length;n<r;n++)if(!this[e[n]].isReady()){t=!1;break}if(t){var o=Bs.timeEnd(ig);Bs.warn("SDK is ready. cost=".concat(o,"ms")),this.triggerReady(),this.innerEmitter.emit(Gd),this.outerEmitter.emit(fn.SDK_READY),this._ssoLog.setCode(0).setNetworkType(this.netMonitor.getNetworkType()).setText(o).setEnd()}}}]),e}();L_.prototype.readyList=["conversationController"],L_.prototype.initList=["exceptionController","connectionController","signController","contextController","messageController","conversationController","userController","groupController","notificationController","eventStatController","sumStatController"];var N_={login:"login",on:"on",off:"off",ready:"ready",setLogLevel:"setLogLevel",joinGroup:"joinGroup",quitGroup:"quitGroup",registerPlugin:"registerPlugin"};function P_(e,t){return!(!e.isReady()&&void 0===N_[t])||(e.innerEmitter.emit(Ad,new mf({code:wp,message:"".concat(t," ").concat(Ah,"，请参考 https://imsdk-1252463788.file.myqcloud.com/IM_DOC/Web/module-EVENT.html#.SDK_READY")})),!1)}var G_={},U_={create:function(e){if(e.SDKAppID&&G_[e.SDKAppID])return G_[e.SDKAppID];Bs.log("TIM.create");var t=new L_(e);t.on(fn.SDK_DESTROY,(function(e){G_[e.data.SDKAppID]=null,delete G_[e.data.SDKAppID]}));var n=function(e){var t=Object.create(null);return Object.keys(Fh).forEach((function(n){if(e[n]){var r=Fh[n],o=new Hn;t[r]=function(){var t=Array.from(arguments);return o.use((function(t,r){if(P_(e,n))return r()})).use((function(e,t){if(!0===Su(e,jh[n],r))return t()})).use((function(t,r){return e[n].apply(e,t)})),o.run(t)}}})),t}(t);return G_[e.SDKAppID]=n,Bs.log("TIM.create ok"),n}};return U_.TYPES=pn,U_.EVENT=fn,U_.VERSION="2.5.1",Bs.log("TIM.VERSION: ".concat(U_.VERSION)),U_}))}).call(this,n("77e5"))},ca00:function(e,t,n){},ca55:function(e,t,n){"use strict";n("2698"),n("a7d0"),n("72e1"),n("2947"),n("4637"),n("a166"),n("cd53"),n("d286")},caa2:function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,"a",(function(){return r}))},cb3d:function(e,t,n){var r=n("6798")("wks"),o=n("ec45"),i=n("e7ad").Symbol,a="function"==typeof i,s=e.exports=function(e){return r[e]||(r[e]=a&&i[e]||(a?i:o)("Symbol."+e))};s.store=r},cc26:function(e,t,n){"use strict";var r=n("cc5a");e.exports=function(e,t,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},cc33:function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},cc5a:function(e,t,n){"use strict";var r=n("190f");e.exports=function(e,t,n,o,i){var a=new Error(e);return r(a,t,n,o,i)}},cd53:function(e,t,n){},ceac:function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},d053:function(e,t,n){"use strict";var r=n("7a07");function o(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e,t=new o((function(t){e=t}));return{token:t,cancel:e}},e.exports=o},d07e:function(e,t,n){e.exports=n("6798")("native-function-to-string",Function.toString)},d0bc:function(e,t,n){var r=n("69b3");e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(a){var i=e["return"];throw void 0!==i&&r(i.call(e)),a}}},d0c5:function(e,t,n){var r=n("cb3d")("iterator"),o=!1;try{var i=[7][r]();i["return"]=function(){o=!0},Array.from(i,(function(){throw 2}))}catch(a){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var i=[7],s=i[r]();s.next=function(){return{done:n=!0}},i[r]=function(){return s},e(i)}catch(a){}return n}},d286:function(e,t,n){},d9ba:function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,"a",(function(){return r}))},da6d:function(e,t){e.exports={}},da9f:function(e,t,n){var r,o,i,a=n("4ce5"),s=n("6746"),u=n("8df1"),c=n("bfe7"),l=n("e7ad"),f=l.process,p=l.setImmediate,h=l.clearImmediate,d=l.MessageChannel,g=l.Dispatch,v=0,m={},y="onreadystatechange",_=function(){var e=+this;if(m.hasOwnProperty(e)){var t=m[e];delete m[e],t()}},b=function(e){_.call(e.data)};p&&h||(p=function(e){var t=[],n=1;while(arguments.length>n)t.push(arguments[n++]);return m[++v]=function(){s("function"==typeof e?e:Function(e),t)},r(v),v},h=function(e){delete m[e]},"process"==n("75c4")(f)?r=function(e){f.nextTick(a(_,e,1))}:g&&g.now?r=function(e){g.now(a(_,e,1))}:d?(o=new d,i=o.port2,o.port1.onmessage=b,r=a(i.postMessage,i,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(e){l.postMessage(e+"","*")},l.addEventListener("message",b,!1)):r=y in c("script")?function(e){u.appendChild(c("script"))[y]=function(){u.removeChild(this),_.call(e)}}:function(e){setTimeout(a(_,e,1),0)}),e.exports={set:p,clear:h}},db6b:function(e,t,n){e.exports=!n("149f")&&!n("238a")((function(){return 7!=Object.defineProperty(n("bfe7")("div"),"a",{get:function(){return 7}}).a}))},dcb7:function(e,t,n){var r=n("4f18"),o=n("cc33"),i=n("09b9"),a=n("94b3"),s=n("e042"),u=n("db6b"),c=Object.getOwnPropertyDescriptor;t.f=n("149f")?c:function(e,t){if(e=i(e),t=a(t,!0),u)try{return c(e,t)}catch(n){}if(s(e,t))return o(!r.f.call(e,t),e[t])}},df33:function(e,t,n){"use strict";var r,o=n("caa2"),i=n("0261"),a=n("f25d"),s=n("083c"),u=n("3360"),c=n("2cf7"),l=n("bb63"),f=Object(a["a"])("dialog"),p=f[0],h=f[1],d=f[2],g=p({mixins:[Object(c["a"])()],props:{title:String,width:[Number,String],message:String,className:null,callback:Function,beforeClose:Function,messageAlign:String,cancelButtonText:String,cancelButtonColor:String,confirmButtonText:String,confirmButtonColor:String,showCancelButton:Boolean,transition:{type:String,default:"van-dialog-bounce"},showConfirmButton:{type:Boolean,default:!0},overlay:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!1}},data:function(){return{loading:{confirm:!1,cancel:!1}}},methods:{onClickOverlay:function(){this.handleAction("overlay")},handleAction:function(e){var t=this;this.$emit(e),this.value&&(this.beforeClose?(this.loading[e]=!0,this.beforeClose(e,(function(n){!1!==n&&t.loading[e]&&t.onClose(e),t.loading.confirm=!1,t.loading.cancel=!1}))):this.onClose(e))},onClose:function(e){this.close(),this.callback&&this.callback(e)},onOpened:function(){this.$emit("opened")},onClosed:function(){this.$emit("closed")},genButtons:function(){var e,t=this,n=this.$createElement,r=this.showCancelButton&&this.showConfirmButton;return n("div",{class:[u["c"],h("footer",{buttons:r})]},[this.showCancelButton&&n(l["a"],{attrs:{size:"large",loading:this.loading.cancel,text:this.cancelButtonText||d("cancel")},class:h("cancel"),style:{color:this.cancelButtonColor},on:{click:function(){t.handleAction("cancel")}}}),this.showConfirmButton&&n(l["a"],{attrs:{size:"large",loading:this.loading.confirm,text:this.confirmButtonText||d("confirm")},class:[h("confirm"),(e={},e[u["a"]]=r,e)],style:{color:this.confirmButtonColor},on:{click:function(){t.handleAction("confirm")}}})])}},render:function(){var e,t=arguments[0];if(this.shouldRender){var n=this.message,r=this.messageAlign,o=this.slots(),i=this.slots("title")||this.title,a=i&&t("div",{class:h("header",{isolated:!n&&!o})},[i]),u=(o||n)&&t("div",{class:h("content")},[o||t("div",{domProps:{innerHTML:n},class:h("message",(e={"has-title":i},e[r]=r,e))})]);return t("transition",{attrs:{name:this.transition},on:{afterEnter:this.onOpened,afterLeave:this.onClosed}},[t("div",{directives:[{name:"show",value:this.value}],attrs:{role:"dialog","aria-labelledby":this.title||n},class:[h(),this.className],style:{width:Object(s["a"])(this.width)}},[a,u,this.genButtons()])])}}}),v=n("ea6e");function m(e){return document.body.contains(e)}function y(){r&&r.$destroy(),r=new(i["a"].extend(g))({el:document.createElement("div"),propsData:{lazyRender:!1}}),r.$on("input",(function(e){r.value=e}))}function _(e){return v["f"]?Promise.resolve():new Promise((function(t,n){r&&m(r.$el)||y(),Object(o["a"])(r,_.currentOptions,e,{resolve:t,reject:n})}))}_.defaultOptions={value:!0,title:"",width:"",message:"",overlay:!0,className:"",lockScroll:!0,transition:"van-dialog-bounce",beforeClose:null,overlayClass:"",overlayStyle:null,messageAlign:"",getContainer:"body",cancelButtonText:"",cancelButtonColor:null,confirmButtonText:"",confirmButtonColor:null,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!1,closeOnClickOverlay:!1,callback:function(e){r["confirm"===e?"resolve":"reject"](e)}},_.alert=_,_.confirm=function(e){return _(Object(o["a"])({showCancelButton:!0},e))},_.close=function(){r&&(r.value=!1)},_.setDefaultOptions=function(e){Object(o["a"])(_.currentOptions,e)},_.resetDefaultOptions=function(){_.currentOptions=Object(o["a"])({},_.defaultOptions)},_.resetDefaultOptions(),_.install=function(){i["a"].use(g)},_.Component=g,i["a"].prototype.$dialog=_;t["a"]=_},e005:function(e,t,n){var r=n("69b3"),o=n("0dc8"),i=n("ceac"),a=n("56f2")("IE_PROTO"),s=function(){},u="prototype",c=function(){var e,t=n("bfe7")("iframe"),r=i.length,o="<",a=">";t.style.display="none",n("8df1").appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write(o+"script"+a+"document.F=Object"+o+"/script"+a),e.close(),c=e.F;while(r--)delete c[u][i[r]];return c()};e.exports=Object.create||function(e,t){var n;return null!==e?(s[u]=r(e),n=new s,s[u]=null,n[a]=e):n=c(),void 0===t?n:o(n,t)}},e042:function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},e10e:function(e,t,n){var r=n("008a"),o=n("80a9");n("f0cc")("keys",(function(){return function(e){return o(r(e))}}))},e118:function(e,t,n){"use strict";var r=n("149f"),o=n("80a9"),i=n("2f77"),a=n("4f18"),s=n("008a"),u=n("224c"),c=Object.assign;e.exports=!c||n("238a")((function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=c({},e)[n]||Object.keys(c({},t)).join("")!=r}))?function(e,t){var n=s(e),c=arguments.length,l=1,f=i.f,p=a.f;while(c>l){var h,d=u(arguments[l++]),g=f?o(d).concat(f(d)):o(d),v=g.length,m=0;while(v>m)h=g[m++],r&&!p.call(d,h)||(n[h]=d[h])}return n}:c},e195:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l}));var r=n("ea6e"),o=Date.now();function i(e){var t=Date.now(),n=Math.max(0,16-(t-o)),r=setTimeout(e,n);return o=t+n,r}var a=r["f"]?e:window,s=a.requestAnimationFrame||i,u=a.cancelAnimationFrame||a.clearTimeout;function c(e){return s.call(a,e)}function l(e){u.call(a,e)}}).call(this,n("77e5"))},e204:function(e,t,n){"use strict";var r=n("e46b"),o=n("013f")(6),i="findIndex",a=!0;i in[]&&Array(1)[i]((function(){a=!1})),r(r.P+r.F*a,"Array",{findIndex:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),n("0e8b")(i)},e2ba:function(e,t,n){"use strict";n("2698"),n("72e1"),n("ca00"),n("94c8")},e44b:function(e,t,n){"use strict";var r=n("0e8b"),o=n("475d"),i=n("da6d"),a=n("09b9");e.exports=n("492d")(Array,"Array",(function(e,t){this._t=a(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):o(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},e46b:function(e,t,n){var r=n("e7ad"),o=n("7ddc"),i=n("86d4"),a=n("bf16"),s=n("4ce5"),u="prototype",c=function(e,t,n){var l,f,p,h,d=e&c.F,g=e&c.G,v=e&c.S,m=e&c.P,y=e&c.B,_=g?r:v?r[t]||(r[t]={}):(r[t]||{})[u],b=g?o:o[t]||(o[t]={}),C=b[u]||(b[u]={});for(l in g&&(n=t),n)f=!d&&_&&void 0!==_[l],p=(f?_:n)[l],h=y&&f?s(p,r):m&&"function"==typeof p?s(Function.call,p):p,_&&a(_,l,p,e&c.U),b[l]!=p&&i(b,l,h),m&&C[l]!=p&&(C[l]=p)};r.core=o,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},e754:function(e,t,n){"use strict";var r=n("fc81")(!0);e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},e7ad:function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},e980:function(e,t,n){"use strict";function r(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var a=e.apply(t,n);function s(e){r(a,o,i,s,u,"next",e)}function u(e){r(a,o,i,s,u,"throw",e)}s(void 0)}))}}n.d(t,"a",(function(){return o}))},ea6e:function(e,t,n){"use strict";n.d(t,"f",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return u})),n.d(t,"a",(function(){return c}));var r=n("0261"),o=r["a"].prototype.$isServer;function i(e){return void 0!==e&&null!==e}function a(e){return"function"===typeof e}function s(e){return null!==e&&"object"===typeof e}function u(e){return s(e)&&a(e.then)&&a(e.catch)}function c(e,t){var n=t.split("."),r=e;return n.forEach((function(e){r=i(r[e])?r[e]:""})),r}},eafa:function(e,t,n){var r=n("ee21"),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},ebc3:function(e,t,n){"use strict";var r=n("064e"),o=n("cc33");e.exports=function(e,t,n){t in e?r.f(e,t,o(0,n)):e[t]=n}},ebe4:function(e,t){
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&null!=e.constructor&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}},ec45:function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},ed63:function(e,t,n){"use strict";var r=n("e46b"),o=n("b3a6")(!0);r(r.P,"Array",{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),n("0e8b")("includes")},eda7:function(e,t,n){"use strict";var r=n("0260"),o=n("cc26"),i=n("9c46"),a=n("5fad"),s=n("7847"),u=n("cc5a");e.exports=function(e){return new Promise((function(t,c){var l=e.data,f=e.headers;r.isFormData(l)&&delete f["Content-Type"];var p=new XMLHttpRequest;if(e.auth){var h=e.auth.username||"",d=e.auth.password||"";f.Authorization="Basic "+btoa(h+":"+d)}if(p.open(e.method.toUpperCase(),i(e.url,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,p.onreadystatechange=function(){if(p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in p?a(p.getAllResponseHeaders()):null,r=e.responseType&&"text"!==e.responseType?p.response:p.responseText,i={data:r,status:p.status,statusText:p.statusText,headers:n,config:e,request:p};o(t,c,i),p=null}},p.onerror=function(){c(u("Network Error",e,null,p)),p=null},p.ontimeout=function(){c(u("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",p)),p=null},r.isStandardBrowserEnv()){var g=n("59c9"),v=(e.withCredentials||s(e.url))&&e.xsrfCookieName?g.read(e.xsrfCookieName):void 0;v&&(f[e.xsrfHeaderName]=v)}if("setRequestHeader"in p&&r.forEach(f,(function(e,t){"undefined"===typeof l&&"content-type"===t.toLowerCase()?delete f[t]:p.setRequestHeader(t,e)})),e.withCredentials&&(p.withCredentials=!0),e.responseType)try{p.responseType=e.responseType}catch(m){if("json"!==e.responseType)throw m}"function"===typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){p&&(p.abort(),c(e),p=null)})),void 0===l&&(l=null),p.send(l)}))}},ee21:function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},ef91:function(e,t,n){var r=n("bf16");e.exports=function(e,t,n){for(var o in t)r(e,o,t[o],n);return e}},f0cc:function(e,t,n){var r=n("e46b"),o=n("7ddc"),i=n("238a");e.exports=function(e,t){var n=(o.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*i((function(){n(1)})),"Object",a)}},f0e6:function(e,t,n){"use strict";var r=n("e46b"),o=n("7ddc"),i=n("e7ad"),a=n("f63e"),s=n("bc0a");r(r.P+r.R,"Promise",{finally:function(e){var t=a(this,o.Promise||i.Promise),n="function"==typeof e;return this.then(n?function(n){return s(t,e()).then((function(){return n}))}:e,n?function(n){return s(t,e()).then((function(){throw n}))}:e)}})},f1fe:function(e,t,n){"use strict";var r=n("69b3");e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},f20f:function(e,t,n){"use strict";function r(e,t){var n=t.to,r=t.url,o=t.replace;if(n&&e){var i=e[o?"replace":"push"](n);i&&i.catch&&i.catch((function(e){if(e&&"NavigationDuplicated"!==e.name)throw e}))}else r&&(o?location.replace(r):location.href=r)}function o(e){r(e.parent&&e.parent.$router,e.props)}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return i}));var i={url:String,replace:Boolean,to:[String,Object]}},f25d:function(e,t,n){"use strict";n.d(t,"a",(function(){return M}));var r="__",o="--";function i(e,t,n){return t?e+n+t:e}function a(e,t){if("string"===typeof t)return i(e,t,o);if(Array.isArray(t))return t.map((function(t){return a(e,t)}));var n={};return t&&Object.keys(t).forEach((function(r){n[e+o+r]=t[r]})),n}function s(e){return function(t,n){return t&&"string"!==typeof t&&(n=t,t=""),t=i(e,t,r),n?[t,a(t,n)]:t}}var u=n("ea6e"),c=/-(\w)/g;function l(e){return e.replace(c,(function(e,t){return t.toUpperCase()}))}var f=n("0261"),p=f["a"].extend({methods:{slots:function(e,t){void 0===e&&(e="default");var n=this.$slots,r=this.$scopedSlots,o=r[e];return o?o(t):n[e]}}});function h(e){var t=this.name;e.component(t,this),e.component(l("-"+t),this)}function d(e){var t=e.scopedSlots||e.data.scopedSlots||{},n=e.slots();return Object.keys(n).forEach((function(e){t[e]||(t[e]=function(){return n[e]})})),t}function g(e){return{functional:!0,props:e.props,model:e.model,render:function(t,n){return e(t,n.props,d(n),n)}}}function v(e){return function(t){return Object(u["c"])(t)&&(t=g(t)),t.functional||(t.mixins=t.mixins||[],t.mixins.push(p)),t.name=e,t.install=h,t}}var m=Object.prototype.hasOwnProperty;function y(e,t,n){var r=t[n];Object(u["b"])(r)&&(m.call(e,n)&&Object(u["d"])(r)?e[n]=_(Object(e[n]),t[n]):e[n]=r)}function _(e,t){return Object.keys(t).forEach((function(n){y(e,t,n)})),e}var b={name:"姓名",tel:"电话",save:"保存",confirm:"确认",cancel:"取消",delete:"删除",complete:"完成",loading:"加载中...",telEmpty:"请填写电话",nameEmpty:"请填写姓名",nameInvalid:"请输入正确的姓名",confirmDelete:"确定要删除吗",telInvalid:"请输入正确的手机号",vanCalendar:{end:"结束",start:"开始",title:"日期选择",confirm:"确定",weekdays:["日","一","二","三","四","五","六"],monthTitle:function(e,t){return e+"年"+t+"月"},rangePrompt:function(e){return"选择天数不能超过 "+e+" 天"}},vanContactCard:{addText:"添加联系人"},vanContactList:{addText:"新建联系人"},vanPagination:{prev:"上一页",next:"下一页"},vanPullRefresh:{pulling:"下拉即可刷新...",loosing:"释放即可刷新..."},vanSubmitBar:{label:"合计："},vanCoupon:{unlimited:"无使用门槛",discount:function(e){return e+"折"},condition:function(e){return"满"+e+"元可用"}},vanCouponCell:{title:"优惠券",tips:"暂无可用",count:function(e){return e+"张可用"}},vanCouponList:{empty:"暂无优惠券",exchange:"兑换",close:"不使用优惠券",enable:"可用",disabled:"不可用",placeholder:"请输入优惠码"},vanAddressEdit:{area:"地区",postal:"邮政编码",areaEmpty:"请选择地区",addressEmpty:"请填写详细地址",postalEmpty:"邮政编码格式不正确",defaultAddress:"设为默认收货地址",telPlaceholder:"收货人手机号",namePlaceholder:"收货人姓名",areaPlaceholder:"选择省 / 市 / 区"},vanAddressEditDetail:{label:"详细地址",placeholder:"街道门牌、楼层房间号等信息"},vanAddressList:{add:"新增地址"}},C=f["a"].prototype,S=f["a"].util.defineReactive;S(C,"$vantLang","zh-CN"),S(C,"$vantMessages",{"zh-CN":b});var I={messages:function(){return C.$vantMessages[C.$vantLang]},use:function(e,t){var n;C.$vantLang=e,this.add((n={},n[e]=t,n))},add:function(e){void 0===e&&(e={}),_(C.$vantMessages,e)}};function w(e){var t=l(e)+".";return function(e){for(var n=I.messages(),r=Object(u["a"])(n,t+e)||Object(u["a"])(n,e),o=arguments.length,i=new Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];return Object(u["c"])(r)?r.apply(void 0,i):r}}function M(e){return e="van-"+e,[v(e),s(e),w(e)]}},f46e:function(e,t,n){"use strict";n("2698"),n("72e1"),n("2947"),n("a166"),n("cd53")},f548:function(e,t,n){"use strict";var r=n("69b3"),o=n("008a"),i=n("eafa"),a=n("ee21"),s=n("e754"),u=n("7108"),c=Math.max,l=Math.min,f=Math.floor,p=/\$([$&`']|\d\d?|<[^>]*>)/g,h=/\$([$&`']|\d\d?)/g,d=function(e){return void 0===e?e:String(e)};n("0aed")("replace",2,(function(e,t,n,g){return[function(r,o){var i=e(this),a=void 0==r?void 0:r[t];return void 0!==a?a.call(r,i,o):n.call(String(i),r,o)},function(e,t){var o=g(n,e,this,t);if(o.done)return o.value;var f=r(e),p=String(this),h="function"===typeof t;h||(t=String(t));var m=f.global;if(m){var y=f.unicode;f.lastIndex=0}var _=[];while(1){var b=u(f,p);if(null===b)break;if(_.push(b),!m)break;var C=String(b[0]);""===C&&(f.lastIndex=s(p,i(f.lastIndex),y))}for(var S="",I=0,w=0;w<_.length;w++){b=_[w];for(var M=String(b[0]),E=c(l(a(b.index),p.length),0),k=[],T=1;T<b.length;T++)k.push(d(b[T]));var O=b.groups;if(h){var D=[M].concat(k,E,p);void 0!==O&&D.push(O);var A=String(t.apply(void 0,D))}else A=v(M,p,E,k,O,t);E>=I&&(S+=p.slice(I,E)+A,I=E+M.length)}return S+p.slice(I)}];function v(e,t,r,i,a,s){var u=r+e.length,c=i.length,l=h;return void 0!==a&&(a=o(a),l=p),n.call(s,l,(function(n,o){var s;switch(o.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,r);case"'":return t.slice(u);case"<":s=a[o.slice(1,-1)];break;default:var l=+o;if(0===l)return n;if(l>c){var p=f(l/10);return 0===p?n:p<=c?void 0===i[p-1]?o.charAt(1):i[p-1]+o.charAt(1):n}s=i[l-1]}return void 0===s?"":s}))}}))},f57f:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var r=n("0261");function o(e){var t=[];function n(e){e.forEach((function(e){t.push(e),e.children&&n(e.children)}))}return n(e),t}function i(e,t){var n,i;void 0===t&&(t={});var a=t.indexKey||"index";return r["a"].extend({inject:(n={},n[e]={default:null},n),computed:(i={parent:function(){return this.disableBindRelation?null:this[e]}},i[a]=function(){return this.bindRelation(),this.parent.children.indexOf(this)},i),mounted:function(){this.bindRelation()},beforeDestroy:function(){var e=this;this.parent&&(this.parent.children=this.parent.children.filter((function(t){return t!==e})))},methods:{bindRelation:function(){if(this.parent&&-1===this.parent.children.indexOf(this)){var e=[].concat(this.parent.children,[this]),t=o(this.parent.slots());e.sort((function(e,n){return t.indexOf(e.$vnode)-t.indexOf(n.$vnode)})),this.parent.children=e}}}})}function a(e){return{provide:function(){var t;return t={},t[e]=this,t},data:function(){return{children:[]}}}}},f58a:function(e,t,n){var r=n("ee21"),o=Math.max,i=Math.min;e.exports=function(e,t){return e=r(e),e<0?o(e+t,0):i(e,t)}},f63e:function(e,t,n){var r=n("69b3"),o=n("5daa"),i=n("cb3d")("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||void 0==(n=r(a)[i])?t:o(n)}},f6b4:function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},f734:function(e,t,n){"use strict";var r=n("f25d"),o=n("2252"),i=n("4b1f"),a=n("5f9d"),s=n("4614"),u=Object(r["a"])("list"),c=u[0],l=u[1],f=u[2];t["a"]=c({mixins:[Object(a["a"])((function(e){this.scroller||(this.scroller=Object(i["d"])(this.$el)),e(this.scroller,"scroll",this.check)}))],model:{prop:"loading"},props:{error:Boolean,loading:Boolean,finished:Boolean,errorText:String,loadingText:String,finishedText:String,immediateCheck:{type:Boolean,default:!0},offset:{type:[Number,String],default:300},direction:{type:String,default:"down"}},data:function(){return{innerLoading:this.loading}},updated:function(){this.innerLoading=this.loading},mounted:function(){this.immediateCheck&&this.check()},watch:{loading:"check",finished:"check"},methods:{check:function(){var e=this;this.$nextTick((function(){if(!(e.innerLoading||e.finished||e.error)){var t,n=e.$el,r=e.scroller,i=e.offset,a=e.direction;t=r.getBoundingClientRect?r.getBoundingClientRect():{top:0,bottom:r.innerHeight};var s=t.bottom-t.top;if(!s||Object(o["a"])(n))return!1;var u=!1,c=e.$refs.placeholder.getBoundingClientRect();u="up"===a?t.top-c.top<=i:c.bottom-t.bottom<=i,u&&(e.innerLoading=!0,e.$emit("input",!0),e.$emit("load"))}}))},clickErrorText:function(){this.$emit("update:error",!1),this.check()},genLoading:function(){var e=this.$createElement;if(this.innerLoading&&!this.finished)return e("div",{class:l("loading"),key:"loading"},[this.slots("loading")||e(s["a"],{attrs:{size:"16"}},[this.loadingText||f("loading")])])},genFinishedText:function(){var e=this.$createElement;if(this.finished){var t=this.slots("finished")||this.finishedText;if(t)return e("div",{class:l("finished-text")},[t])}},genErrorText:function(){var e=this.$createElement;if(this.error){var t=this.slots("error")||this.errorText;if(t)return e("div",{on:{click:this.clickErrorText},class:l("error-text")},[t])}}},render:function(){var e=arguments[0],t=e("div",{ref:"placeholder",class:l("placeholder")});return e("div",{class:l(),attrs:{role:"feed","aria-busy":this.innerLoading}},["down"===this.direction?this.slots():t,this.genLoading(),this.genFinishedText(),this.genErrorText(),"up"===this.direction?this.slots():t])}})},f753:function(e,t,n){e.exports=n("a1c5")},f878:function(e,t,n){var r=n("7e23"),o=n("cb3d")("iterator"),i=n("da6d");e.exports=n("7ddc").getIteratorMethod=function(e){if(void 0!=e)return e[o]||e["@@iterator"]||i[r(e)]}},fad3:function(e,t,n){"use strict";var r=n("caa2"),o=n("23c4"),i=n.n(o),a=n("f25d"),s=n("ea6e"),u=n("28bd"),c=n("f20f"),l=n("8ff2"),f=n("a9f0"),p=Object(a["a"])("cell"),h=p[0],d=p[1];function g(e,t,n,r){var o=t.icon,a=t.size,l=t.title,p=t.label,h=t.value,g=t.isLink,v=n.title||Object(s["b"])(l);function m(){var r=n.label||Object(s["b"])(p);if(r)return e("div",{class:[d("label"),t.labelClass]},[n.label?n.label():p])}function y(){if(v)return e("div",{class:[d("title"),t.titleClass],style:t.titleStyle},[n.title?n.title():e("span",[l]),m()])}function _(){var r=n.default||Object(s["b"])(h);if(r)return e("div",{class:[d("value",{alone:!v}),t.valueClass]},[n.default?n.default():e("span",[h])])}function b(){return n.icon?n.icon():o?e(f["a"],{class:d("left-icon"),attrs:{name:o,classPrefix:t.iconPrefix}}):void 0}function C(){var r=n["right-icon"];if(r)return r();if(g){var o=t.arrowDirection;return e(f["a"],{class:d("right-icon"),attrs:{name:o?"arrow-"+o:"arrow"}})}}function S(e){Object(u["a"])(r,"click",e),Object(c["a"])(r)}var I=g||t.clickable,w={clickable:I,center:t.center,required:t.required,borderless:!t.border};return a&&(w[a]=a),e("div",i()([{class:d(w),attrs:{role:I?"button":null,tabindex:I?0:null},on:{click:S}},Object(u["b"])(r)]),[b(),y(),_(),C(),null==n.extra?void 0:n.extra()])}g.props=Object(r["a"])({},l["a"],{},c["c"]),t["a"]=h(g)},fb68:function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},fc81:function(e,t,n){var r=n("ee21"),o=n("f6b4");e.exports=function(e){return function(t,n){var i,a,s=String(o(t)),u=r(n),c=s.length;return u<0||u>=c?e?"":void 0:(i=s.charCodeAt(u),i<55296||i>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?e?s.charAt(u):i:e?s.slice(u,u+2):a-56320+(i-55296<<10)+65536)}}},fe54:function(e,t,n){"use strict";n("2698"),n("a166"),n("b77e")}}]);